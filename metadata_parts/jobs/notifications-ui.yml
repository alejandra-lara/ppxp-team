---
name: notifications-ui
label: Notifications UI Errand
resource_label: Notifications UI Errand
description: Pushes the Notifications UI component to your Elastic Runtime installation
templates:
  - name: deploy-notifications-ui
    release: notifications-ui
errand: true

resource_definitions:
  - name: ram
    type: integer
    label: RAM
    configurable: true
    default: 1_024
    constraints:
      min: 1_024

  - name: ephemeral_disk
    type: integer
    label: Ephemeral Disk
    configurable: true
    default: 1_024
    constraints:
      min: 1_024

  - name: persistent_disk
    type: integer
    label: Persistent Disk
    configurable: false
    default: 0

  - name: cpu
    type: integer
    label: CPU
    configurable: true
    default: 1
    constraints:
      min: 1
      power_of_two: true

static_ip: 0
dynamic_ip: 1
max_in_flight: 1
single_az_only: false

instance_definition:
  name: instances
  type: integer
  label: Instances
  configurable: false
  default: 1
  constraints:
    min: 0

property_blueprints:

manifest: |
  domain: (( .cloud_controller.system_domain.value ))
  ssl:
    skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
  notifications_ui:
    organization: system
    space: notifications-with-ui
    app_domain: (( .cloud_controller.system_domain.value ))
    network: notifications
    syslog_url: (( .properties.syslog_protocol.value "://" .properties.syslog_host.value ":" .properties.syslog_port.value ))
    encryption_key: (( .notifications.encryption_credentials.password ))
    footer_text: (( .push-apps-manager.footer_text.value || "&copy;2016 Pivotal Inc. All rights reserved. Pivotal CF"))
    footer_image: (( .push-apps-manager.logo.value || "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAAARCAYAAACRroFGAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjFEM0FBQTg3QkNFQTExRTM5MDk3RUU4MjZGMEZCMzVEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjFEM0FBQTg4QkNFQTExRTM5MDk3RUU4MjZGMEZCMzVEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MUQzQUFBODVCQ0VBMTFFMzkwOTdFRTgyNkYwRkIzNUQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MUQzQUFBODZCQ0VBMTFFMzkwOTdFRTgyNkYwRkIzNUQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5msHvmAAAD5ElEQVR42uRYa0hVQRC+Xi2pQMseZi97E2RPCyJ6WdDDEo3oIRoVmf0pyiDQTBKSsAgk8If5qxBBstTCDHtIlpGRyrUsKqMMLYIkrTStLPsmvoXldI5e02tGAx+zu2d2dnd2Z3b2uKWkprfbfqc2oBYoBTJj9kRf1j+ijwNsFlCMb8ts/zhhPTVg/lbr8bDoJ+0TiHAoyRMOBa19YEG+YJNlIzGfe70xpm6kejk1LA8FJgILADsQBhwB4vg9DRgJ1PwFO70lPwv0upFeY2f2G3YtEOwWMBDYjXoCZGQH02z/EXl09BHGKIdhLqG4BRgCjAZeoS2FrvgSMjGoh6C8k92q0XbQwlWmgSWzmgg5B9sHgG0CFgHDgUbgLuNhk8X0ljMMKKqC7GFtLD8w2fSlgLhoM9Ag8wceADdkfd02EqlBKw8iD2LgrmR9EhDK8ndM8Bgm0GCiayPlZMLhXMx8sBxgjEF2G5CE75HQVWiiayyhaLBmIAm+FwEvk36yERESpAGnLh17J0HSjXFJ0RsLUYllq1h2B4It5JQh87HwFugfh3IhDfQZSAX2ytDAR2AYkAe52Sa67gA7NCRzzj5gF2igT4yjK7ixclrreszdMNgUsEPAHDUpLKzRwi3fgV1FnwrwuUCIdgkofWKIQFazyePpxl+AxdBTocmfZmD2Bo5Sp07PIX/GZDpiMB+WwyBTZJhHvMmp7dpJgpJEQPKkZ8B2NreILZzQd558DXT0szhFoquA5XXkWbqBaPinvEWFVkKfp5NrCiIvNxroT8nK3dzJJdGUgRZiwPtO6Msl92LANDPSFXE1lkeRV1roU4G1PzDCyTX5kj925e2WxwHey+TpSk4RZJ9gx6tQDKB7XOfp9NZ2ONuka7uFym8mG9cZqRP8w2VG4rXs6IbOczSSnJx9bAvmWJKx57s4rWk1GMtl7tYdUifFHydopgqg5AWGvKeZ3M9C13iLVKQjqiWf12eNJC4niR2rITCUxJPVrOcYxEvIIyDnZbhAJFBHaYniBwu3MpLKqaZCR5TLM+4ecLnN3FkxwFcTVzvJ/Eoy+SIsKhb8EZPTJGA65U7ozyfKy423C1zFzHoYsoSpRxzfnumQWcq/GWLoYice0B5MMuvoum52FxkpQzJvYAYfor/SA+NpQF0CeyyrkkNdY8J6W7sdT0EuQ+um9Emimc4bNZdGtfHmXAu8kAUCkUxS1zvpCW38VSRG2gBstTM9F5R1wQhlHfXBQPJ3IJp/FoRuAgcsZI+DLeEzQiWrTTRYqPHRDUpgwphFvWr+DoPLB/A9mclbttowd/1yKjW0yTw82efhTwEGAJ+vU/dgy94oAAAAAElFTkSuQmCC" ))
    enable_diego: true
    instance_count: 2
    cf:
      admin_user: (( .uaa.admin_credentials.identity ))
      admin_password: (( .uaa.admin_credentials.password ))
      dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
    uaa:
      client_id: (( .uaa.notifications_ui_client_credentials.identity ))
      client_secret: (( .uaa.notifications_ui_client_credentials.password ))
