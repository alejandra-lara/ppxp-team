---
name: deploy-notifications-ui
release: notifications-ui
manifest: |
  domain: (( .cloud_controller.system_domain.value ))
  ssl:
    skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
  notifications_ui:
    organization: system
    space: notifications-with-ui
    syslog_url: (( .properties.system_logging.selected_option.parsed_manifest(syslog_url) ))
    instance_count: 2
    cf:
      dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
      admin_user: (( .uaa.admin_credentials.identity ))
      admin_password: (( .uaa.admin_credentials.password ))
    app_domain: (( .cloud_controller.system_domain.value ))
    network: notifications
    encryption_key: (( .properties.deploy_notifications_ui_encryption_key.value ))
    footer_text: (( .properties.push_apps_manager_footer_text.value || "" ))
    footer_image: (( .properties.push_apps_manager_logo.value ))
    enable_diego: true
    uaa:
      client_id: (( .uaa.notifications_ui_client_credentials.identity ))
      client_secret: (( .uaa.notifications_ui_client_credentials.password ))
