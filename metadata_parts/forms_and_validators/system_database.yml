---
form:
  name: system_database
  label: Databases
  description: Place the databases used by Elastic Runtime components like Cloud Controller and UAA.
  verifiers:
    - name: Verifiers::MysqlDatabaseVerifier
      properties:
        host: .properties.system_database.external.host
        port: .properties.system_database.external.port
        username: .properties.system_database.external.account_username
        password: .properties.system_database.external.account_password
        database: .properties.account_database_name
    - name: Verifiers::MysqlDatabaseVerifier
      properties:
        host: .properties.system_database.external.host
        port: .properties.system_database.external.port
        username: .properties.system_database.external.app_usage_service_username
        password: .properties.system_database.external.app_usage_service_password
        database: .properties.app_usage_service_database_name
    - name: Verifiers::MysqlDatabaseVerifier
      properties:
        host: .properties.system_database.external.host
        port: .properties.system_database.external.port
        username: .properties.system_database.external.autoscale_username
        password: .properties.system_database.external.autoscale_password
        database: .properties.autoscale_database_name
    - name: Verifiers::MysqlDatabaseVerifier
      properties:
        host: .properties.system_database.external.host
        port: .properties.system_database.external.port
        username: .properties.system_database.external.ccdb_username
        password: .properties.system_database.external.ccdb_password
        database: .properties.ccdb_database_name
    - name: Verifiers::MysqlDatabaseVerifier
      properties:
        host: .properties.system_database.external.host
        port: .properties.system_database.external.port
        username: .properties.system_database.external.diego_username
        password: .properties.system_database.external.diego_password
        database: .properties.diego_database_name
    - name: Verifiers::MysqlDatabaseVerifier
      properties:
        host: .properties.system_database.external.host
        port: .properties.system_database.external.port
        username: .properties.system_database.external.locket_username
        password: .properties.system_database.external.locket_password
        database: .properties.locket_database_name
    - name: Verifiers::MysqlDatabaseVerifier
      properties:
        host: .properties.system_database.external.host
        port: .properties.system_database.external.port
        username: .properties.system_database.external.networkpolicyserver_username
        password: .properties.system_database.external.networkpolicyserver_password
        database: .properties.networkpolicyserver_database_name
    - name: Verifiers::MysqlDatabaseVerifier
      properties:
        host: .properties.system_database.external.host
        port: .properties.system_database.external.port
        username: .properties.system_database.external.nfsvolume_username
        password: .properties.system_database.external.nfsvolume_password
        database: .properties.nfsvolume_database_name
    - name: Verifiers::MysqlDatabaseVerifier
      properties:
        host: .properties.system_database.external.host
        port: .properties.system_database.external.port
        username: .properties.system_database.external.notifications_username
        password: .properties.system_database.external.notifications_password
        database: .properties.notifications_database_name
    - name: Verifiers::MysqlDatabaseVerifier
      properties:
        host: .properties.system_database.external.host
        port: .properties.system_database.external.port
        username: .properties.system_database.external.routing_username
        password: .properties.system_database.external.routing_password
        database: .properties.routing_database_name
  property_inputs:
  - reference: .properties.system_database
    label: "Choose the location of your system databases"
    selector_property_inputs:
    - reference: .properties.system_database.internal
      label: Internal Databases - MySQL and Postgres (the Postgres DBs are not highly-available, but this selection is required if you want to keep your system data from a pre-1.6.0 Elastic Runtime that you upgraded)
    - reference: .properties.system_database.internal_mysql
      label: Internal Databases - MySQL (preferred for complete high-availability)
    - reference: .properties.system_database.external
      label: External Databases (preferred if, for example, you use AWS RDS)
      property_inputs:
        - reference: .properties.system_database.external.host
          label: Hostname
        - reference: .properties.system_database.external.port
          label: TCP Port
        - reference: .properties.system_database.external.app_usage_service_username
          label: App Usage Service database username
        - reference: .properties.system_database.external.app_usage_service_password
          label: App Usage Service database password
        - reference: .properties.system_database.external.autoscale_username
          label: Autoscaling Service database username
        - reference: .properties.system_database.external.autoscale_password
          label: Autoscaling Service database password
        - reference: .properties.system_database.external.ccdb_username
          label: Cloud Controller database username
        - reference: .properties.system_database.external.ccdb_password
          label: Cloud Controller database password
        - reference: .properties.system_database.external.diego_username
          label: Diego database username
        - reference: .properties.system_database.external.diego_password
          label: Diego database password
        - reference: .properties.system_database.external.locket_username
          label: Locket database username
        - reference: .properties.system_database.external.locket_password
          label: Locket database password
        - reference: .properties.system_database.external.networkpolicyserver_username
          label: Network Policy Server database username
        - reference: .properties.system_database.external.networkpolicyserver_password
          label: Network Policy Server database password
        - reference: .properties.system_database.external.nfsvolume_username
          label: NFS Volume database username
        - reference: .properties.system_database.external.nfsvolume_password
          label: NFS Volume database password
        - reference: .properties.system_database.external.notifications_username
          label: Notifications Service database username
        - reference: .properties.system_database.external.notifications_password
          label: Notifications Service database password
        - reference: .properties.system_database.external.account_username
          label: Pivotal Account application database username
        - reference: .properties.system_database.external.account_password
          label: Pivotal Account application database password
        - reference: .properties.system_database.external.routing_username
          label: Routing database username
        - reference: .properties.system_database.external.routing_password
          label: Routing database password

install_time_verifiers:
  - name: Verifiers::MysqlDatabaseVerifier
    ignorable: true
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.account_username
      password: .properties.system_database.external.account_password
      database: .properties.account_database_name
  - name: Verifiers::MysqlDatabaseVerifier
    ignorable: true
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.app_usage_service_username
      password: .properties.system_database.external.app_usage_service_password
      database: .properties.app_usage_service_database_name
  - name: Verifiers::MysqlDatabaseVerifier
    ignorable: true
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.autoscale_username
      password: .properties.system_database.external.autoscale_password
      database: .properties.autoscale_database_name
  - name: Verifiers::MysqlDatabaseVerifier
    ignorable: true
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.ccdb_username
      password: .properties.system_database.external.ccdb_password
      database: .properties.ccdb_database_name
  - name: Verifiers::MysqlDatabaseVerifier
    ignorable: true
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.diego_username
      password: .properties.system_database.external.diego_password
      database: .properties.diego_database_name
  - name: Verifiers::MysqlDatabaseVerifier
    ignorable: true
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.locket_username
      password: .properties.system_database.external.locket_password
      database: .properties.locket_database_name
  - name: Verifiers::MysqlDatabaseVerifier
    ignorable: true
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.networkpolicyserver_username
      password: .properties.system_database.external.networkpolicyserver_password
      database: .properties.networkpolicyserver_database_name
  - name: Verifiers::MysqlDatabaseVerifier
    ignorable: true
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.nfsvolume_username
      password: .properties.system_database.external.nfsvolume_password
      database: .properties.nfsvolume_database_name
  - name: Verifiers::MysqlDatabaseVerifier
    ignorable: true
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.notifications_username
      password: .properties.system_database.external.notifications_password
      database: .properties.notifications_database_name
  - name: Verifiers::MysqlDatabaseVerifier
    ignorable: true
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.routing_username
      password: .properties.system_database.external.routing_password
      database: .properties.routing_database_name
