---
name: system_database
label: Databases
description: Databases
markdown: |
  For help configuring these fields, see
  [Configure Databases](https://docs.pivotal.io/pivotalcf/2-10/customizing/configure-pas.html#sys-db)
  in _Configuring TAS for VMs_ in the VMware documentation.

verifiers:
  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.account_username
      password: .properties.system_database.external.account_password
      database: .properties.account_database_name

  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.app_usage_service_username
      password: .properties.system_database.external.app_usage_service_password
      database: .properties.app_usage_service_database_name

  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.autoscale_username
      password: .properties.system_database.external.autoscale_password
      database: .properties.autoscale_database_name

  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.ccdb_username
      password: .properties.system_database.external.ccdb_password
      database: .properties.ccdb_database_name

  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.credhub_username
      password: .properties.system_database.external.credhub_password
      database: .properties.credhub_database_name

  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.diego_username
      password: .properties.system_database.external.diego_password
      database: .properties.diego_database_name

  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.locket_username
      password: .properties.system_database.external.locket_password
      database: .properties.locket_database_name

  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.networkpolicyserver_username
      password: .properties.system_database.external.networkpolicyserver_password
      database: .properties.networkpolicyserver_database_name

  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.notifications_username
      password: .properties.system_database.external.notifications_password
      database: .properties.notifications_database_name

  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.routing_username
      password: .properties.system_database.external.routing_password
      database: .properties.routing_database_name

  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.silk_username
      password: .properties.system_database.external.silk_password
      database: .properties.silk_database_name

  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      host: .properties.system_database.external.host
      port: .properties.system_database.external.port
      username: .properties.system_database.external.uaa_username
      password: .properties.system_database.external.uaa_password
      database: .properties.uaa_database_name

property_inputs:
- reference: .properties.system_database
  label: System databases location
  selector_property_inputs:
  - reference: .properties.system_database.internal_pxc
    label: Internal databases - MySQL - Percona XtraDB Cluster

  - reference: .properties.system_database.external
    label: External databases
    property_inputs:
      - reference: .properties.system_database.external.host
        label: Hostname

      - reference: .properties.system_database.external.validate_hostname
        label: Enable hostname validation
        description: |
          The hostname in the TLS certificate for the external
          database is validated against the hostname of the database.

      - reference: .properties.system_database.external.port
        label: TCP port

      - reference: .properties.system_database.external.app_usage_service_username
        label: Usage Service database username

      - reference: .properties.system_database.external.app_usage_service_password
        label: Usage Service database password

      - reference: .properties.system_database.external.autoscale_username
        label: Autoscaling service database username

      - reference: .properties.system_database.external.autoscale_password
        label: Autoscaling service database password

      - reference: .properties.system_database.external.ccdb_username
        label: Cloud Controller database username

      - reference: .properties.system_database.external.ccdb_password
        label: Cloud Controller database password

      - reference: .properties.system_database.external.credhub_username
        label: CredHub database username
        description: |
          Required if "Tanzu Application Service database" is selected
          in the CredHub pane.

      - reference: .properties.system_database.external.credhub_password
        label: CredHub database password
        description: |
          Required if "Tanzu Application Service database" is selected
          in the CredHub pane.

      - reference: .properties.system_database.external.diego_username
        label: Diego database username

      - reference: .properties.system_database.external.diego_password
        label: Diego database password

      - reference: .properties.system_database.external.locket_username
        label: Locket database username

      - reference: .properties.system_database.external.locket_password
        label: Locket database password

      - reference: .properties.system_database.external.networkpolicyserver_username
        label: Network policy server database username

      - reference: .properties.system_database.external.networkpolicyserver_password
        label: Network policy server database password

      - reference: .properties.system_database.external.notifications_username
        label: Notifications service database username

      - reference: .properties.system_database.external.notifications_password
        label: Notifications service database password

      - reference: .properties.system_database.external.account_username
        label: Account database username

      - reference: .properties.system_database.external.account_password
        label: Account database password

      - reference: .properties.system_database.external.routing_username
        label: Routing API database username

      - reference: .properties.system_database.external.routing_password
        label: Routing API database password

      - reference: .properties.system_database.external.silk_username
        label: Silk database username

      - reference: .properties.system_database.external.silk_password
        label: Silk database password

      - reference: .properties.system_database.external.uaa_username
        label: UAA database username
        description: |
          Required if "Tanzu Application Service database" is selected
          in the UAA pane.

      - reference: .properties.system_database.external.uaa_password
        label: UAA database password
        description: |
          Required if "Tanzu Application Service database" is selected
          in the UAA pane.

      - reference: .properties.system_database.external.ca_cert
        label: Database CA certificate
        description: Enables TLS for your external databases.
