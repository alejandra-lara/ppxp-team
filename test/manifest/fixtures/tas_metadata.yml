# This file is generated by the TAS Release Engineering Concourse pipeline.
# Any manual edits to this file will be automatically overwritten
description: Gives developers the ability to push apps on a dynamically-configured
  software stack
form_types:
- description: Domains
  label: Domains
  markdown: |
    For help configuring these fields, see
    [Configure Domains](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#domains)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: domains
  property_inputs:
  - description: The domain for system-level components.
    label: System domain
    placeholder: system.example.com
    reference: .cloud_controller.system_domain
  - description: The default domain that apps use for their hostnames.
    label: Apps domain
    placeholder: apps.example.com
    reference: .cloud_controller.apps_domain
  verifiers:
  - name: Verifiers::WildcardDomainVerifier
    properties:
      domain: .cloud_controller.system_domain
  - name: Verifiers::WildcardDomainVerifier
    properties:
      domain: .cloud_controller.apps_domain
- description: Networking
  label: Networking
  markdown: |
    For help configuring these fields, see
    [Configure Networking](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#networking)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: networking
  property_inputs:
  - description: A comma-separated list of Gorouter IPs.
    label: Gorouter IPs
    reference: .router.static_ips
  - description: A comma-separated list of SSH Proxy IPs.
    label: SSH Proxy IPs
    reference: .control.static_ips
  - description: A comma-separated list of HAProxy IPs.
    label: HAProxy IPs
    reference: .ha_proxy.static_ips
  - description: A comma-separated list of TCP router IPs.
    label: TCP router IPs
    reference: .tcp_router.static_ips
  - label: Certificates and private keys for the Gorouter and HAProxy
    property_inputs:
    - description: A human-readable name describing the use of this certificate.
      label: Name
      reference: name
    - description: |
        The certificate used to terminate SSL traffic at either the Gorouter or
        HAProxy.
      label: Certificate and private key
      reference: certificate
    reference: .properties.networking_poe_ssl_certs
  - description: |
      Additional certificate authorities used to validate certificates from
      incoming requests.
    label: Certificate Authorities trusted by the Gorouter
    reference: .properties.routing_custom_ca_certificates
  - label: Minimum version of TLS supported by the Gorouter and HAProxy
    reference: .properties.routing_minimum_tls_version
    selector_property_inputs:
    - label: TLSv1.0
      reference: .properties.routing_minimum_tls_version.tls_v1_0
    - label: TLSv1.1
      reference: .properties.routing_minimum_tls_version.tls_v1_1
    - label: TLSv1.2
      reference: .properties.routing_minimum_tls_version.tls_v1_2
  - label: Balancing algorithm used by the Gorouter
    reference: .properties.router_balancing_algorithm
    selector_property_inputs:
    - label: Round robin
      reference: .properties.router_balancing_algorithm.round_robin
    - label: Least connections
      reference: .properties.router_balancing_algorithm.least_connection
  - description: |
      To comply with GDPR, select one of the options to disable logging
      of client IPs.
    label: Logging of client IPs in the Gorouter
    reference: .properties.routing_log_client_ips
    selector_property_inputs:
    - label: Log client IPs
      reference: .properties.routing_log_client_ips.log_client_ips
    - label: Disable logging of X-Forwarded-For header only
      reference: .properties.routing_log_client_ips.disable_x_forwarded_for
    - label: Disable logging of both source IP and X-Forwarded-For header
      reference: .properties.routing_log_client_ips.disable_all_log_client_ips
  - label: TLS termination point
    reference: .properties.routing_tls_termination
    selector_property_inputs:
    - label: Infrastructure load balancer
      reference: .properties.routing_tls_termination.load_balancer
    - label: HAProxy
      reference: .properties.routing_tls_termination.ha_proxy
    - label: Gorouter
      reference: .properties.routing_tls_termination.router
  - label: HAProxy behavior for client certificate validation
    reference: .properties.haproxy_client_cert_validation
    selector_property_inputs:
    - label: HAProxy does not request client certificates
      reference: .properties.haproxy_client_cert_validation.none
    - label: HAProxy requests but does not require client certificates
      reference: .properties.haproxy_client_cert_validation.request
  - description: |
      Additional Certificate Authorities used to validate certificates from
      incoming requests.
    label: Certificate Authorities trusted by the HAProxy
    reference: .properties.haproxy_custom_ca_certificates
  - label: Gorouter behavior for client certificate validation
    reference: .properties.router_client_cert_validation
    selector_property_inputs:
    - label: The Gorouter does not request client certificates
      reference: .properties.router_client_cert_validation.none
    - label: The Gorouter requests but does not require client certificates
      reference: .properties.router_client_cert_validation.request
    - label: The Gorouter requires client certificates
      reference: .properties.router_client_cert_validation.require
  - description: |
      An ordered, colon-separated list of Golang supported TLS cipher suites
      in OpenSSL format.
    label: TLS cipher suites for the Gorouter
    reference: .properties.gorouter_ssl_ciphers
  - description: |
      An ordered, colon-separated list of TLS cipher suites in OpenSSL format.
    label: TLS cipher suites for HAProxy
    reference: .properties.haproxy_ssl_ciphers
  - label: HAProxy forwards all requests to the Gorouter over TLS
    reference: .properties.haproxy_forward_tls
    selector_property_inputs:
    - label: Enable
      property_inputs:
      - description: |
          The certificate authority for the certificate and key provided
          in the "Certificates and private keys for the Gorouter and
          HAProxy" field.
        label: Certificate authority for HAProxy back end
        reference: .properties.haproxy_forward_tls.enable.backend_ca
      reference: .properties.haproxy_forward_tls.enable
    - label: Disable
      reference: .properties.haproxy_forward_tls.disable
  - label: HAProxy support for HSTS
    reference: .properties.haproxy_hsts_support
    selector_property_inputs:
    - label: Enable
      property_inputs:
      - description: Enter value in seconds.
        label: Maximum age
        reference: .properties.haproxy_hsts_support.enable.max_age
      - label: Include subdomains
        reference: .properties.haproxy_hsts_support.enable.include_subdomains
      - label: Enable preload
        reference: .properties.haproxy_hsts_support.enable.enable_preload
      reference: .properties.haproxy_hsts_support.enable
    - label: Disable
      reference: .properties.haproxy_hsts_support.disable
  - label: Disable SSL certificate verification for this environment
    reference: .ha_proxy.skip_cert_verify
  - label: Disable HTTP on the Gorouter and HAProxy
    reference: .properties.routing_disable_http
  - label: Disable insecure cookies on the Gorouter
    reference: .router.disable_insecure_cookies
  - label: Enable Zipkin tracing headers on the Gorouter
    reference: .router.enable_zipkin
  - label: Enable the Gorouter to write access logs locally
    reference: .router.enable_write_access_logs
  - label: Gorouters reject requests for isolation segments
    reference: .router.enable_isolated_routing
  - label: Enable support for PROXY protocol in the Gorouter
    reference: .properties.router_enable_proxy
  - label: Route services
    reference: .properties.route_services
    selector_property_inputs:
    - label: Enable
      property_inputs:
      - label: Bypass security checks for route service lookup
        reference: .properties.route_services.enable.internal_lookup
      reference: .properties.route_services.enable
    - label: Disable
      reference: .properties.route_services.disable
  - description: |
      The maximum concurrent TCP connections per back end for each instance of
      the Gorouter. A value of 0 sets no limit.
    label: Maximum connections per back end
    reference: .properties.router_backend_max_conn
  - label: Keep-alive connections for the Gorouter
    reference: .properties.router_keepalive_connections
    selector_property_inputs:
    - label: Enable
      reference: .properties.router_keepalive_connections.enable
    - label: Disable
      reference: .properties.router_keepalive_connections.disable
  - description: |
      The amount of time requests from the Gorouter to apps are allowed to live
      before being canceled. Also the amount of time connections from the
      Gorouter to apps are allowed to remain idle before being closed. Enter
      value in seconds.
    label: Back end request timeout and idle timeout for the Gorouter
    reference: .router.request_timeout_in_seconds
  - description: |
      The duration to maintain an open connection when client supports
      keep-alive connections. Enter value in seconds.
    label: Front end idle timeout for the Gorouter and HAProxy
    reference: .router.frontend_idle_timeout
  - description: |
      The amount of time that the Gorouter continues to serve existing
      connections before shutting down. Enter value in seconds.
    label: Gorouter drain timeout
    reference: .router.drain_timeout
  - description: |
      The amount of time that the Gorouter continues to accept connections
      before shutting down. Enter value in seconds.
    label: Load balancer unhealthy threshold
    reference: .router.drain_wait
  - description: |
      The amount of time to wait until reporting the Gorouter instance has
      started. Enter value in seconds.
    label: Load balancer healthy threshold
    reference: .router.lb_healthy_threshold
  - description: |
      A comma-separated list of HTTP headers that annotate access log
      events on the Gorouter.
    label: HTTP headers to log
    reference: .router.extra_headers_to_log
  - description: The buffer size to use for requests. Enter value in bytes.
    label: HAProxy request maximum buffer size
    reference: .properties.haproxy_max_buffer_size
  - description: |
      A comma-separated list of domains to protect from requests from unknown
      sources.
    label: HAProxy protected domains
    reference: .ha_proxy.internal_only_domains
  - description: |
      A space-separated list of CIDRs allowed to make requests to the domains
      listed in the "HAProxy protected domains" field.
    label: HAProxy trusted CIDRs
    reference: .ha_proxy.trusted_domain_cidrs
  - description: The default is 443.
    label: Loggregator port
    reference: .properties.logger_endpoint_port
  - label: Container network interface plugin
    reference: .properties.container_networking_interface_plugin
    selector_property_inputs:
    - label: Silk
      property_inputs:
      - description: |
          The maximum size of a protocol data unit that can be sent in a
          single network transaction. Enter value in bytes. The default is
          1454 bytes.
        label: App network maximum transmission unit
        reference: .properties.container_networking_interface_plugin.silk.network_mtu
      - description: |
          The range of the overlay network. The default is 10.255.0.0/16.
        label: Overlay subnet
        placeholder: 10.255.0.0/16
        reference: .properties.container_networking_interface_plugin.silk.network_cidr
      - description: |
          The host port used for receiving VXLAN packets. The default is 4789.
        label: VXLAN tunnel endpoint port
        reference: .properties.container_networking_interface_plugin.silk.vtep_port
      - description: |
          The rate at which traffic logging is denied. Enter value in
          packets per second. The default is 1 packet per second.
        label: Denied logging interval
        reference: .properties.container_networking_interface_plugin.silk.iptables_denied_logs_per_sec
      - description: |
          The rate at which UDP traffic logging is denied. Enter value in
          packets per second. The default is 100 packets per second.
        label: UDP logging interval
        reference: .properties.container_networking_interface_plugin.silk.iptables_accepted_udp_logs_per_sec
      - label: Log traffic for all accepted and denied app packets
        reference: .properties.container_networking_interface_plugin.silk.enable_log_traffic
      - label: Enable Silk network policy enforcement
        reference: .properties.container_networking_interface_plugin.silk.enable_policy_enforcement
      reference: .properties.container_networking_interface_plugin.silk
    - label: External
      reference: .properties.container_networking_interface_plugin.external
  - description: |
      If Silk is enabled, this list of TCP addresses running on the Diego Cell
      will be accessible from all application containers.
    label: Host TCP Services
    property_inputs:
    - description: A name describing the use of this TCP address.
      label: Name
      reference: name
    - description: IPv4 address and port to make accessible, in the form of <IP>:<Port>,
        e.g. 169.254.0.10:8000
      label: IP and Port
      reference: ip_and_port
    reference: .properties.host_tcp_services
  - description: |
      A comma-separated list of DNS search domains used in containers.
    label: DNS search domains
    reference: .properties.cf_networking_search_domains
  - description: |
      The connection timeout for clients of the policy server and Silk
      databases. Enter value in seconds.
    label: Database connection timeout
    reference: .properties.cf_networking_database_connection_timeout
  - description: |
      Enable or disable TCP requests to apps through specific ports on
      the TCP router.
    label: TCP routing
    reference: .properties.tcp_routing
    selector_property_inputs:
    - label: Disable
      reference: .properties.tcp_routing.disable
    - label: Enable
      property_inputs:
      - description: Enter a single port number or a single range of ports.
        label: TCP routing ports
        reference: .properties.tcp_routing.enable.reservable_ports
      - description: |
          The idle connection timeout for TCP requests from clients to
          apps. Enter value in seconds.
        label: TCP request timeout
        reference: .properties.tcp_routing.enable.request_timeout_in_seconds
      reference: .properties.tcp_routing.enable
  - description: |
      A list of headers the Gorouter removes on any response from an app.
    label: Remove specified HTTP response headers
    property_inputs:
    - label: Header name
      reference: name
    reference: .properties.router_headers_remove_if_specified
  - description: |
      The names of the cookies to use for handling sticky sessions in the
      Gorouter.
    label: Sticky session cookies
    property_inputs:
    - label: Cookie name
      reference: name
    reference: .properties.router_sticky_session_cookie_names
- description: App Containers
  label: App Containers
  markdown: |
    For help configuring these fields, see
    [Configure App Containers](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#application-containers-config)
    in _Configuring TAS for VMs_ in the VMware documentation.
  name: app_containers
  property_inputs:
  - label: Enable custom buildpacks
    reference: .cloud_controller.enable_custom_buildpacks
  - label: Allow SSH access to app containers
    reference: .cloud_controller.allow_app_ssh_access
  - label: Enable SSH when an app is created
    reference: .cloud_controller.default_app_ssh_access
  - label: Gorouter app identity verification
    reference: .properties.route_integrity
    selector_property_inputs:
    - label: The Gorouter uses TLS to verify app identity
      reference: .properties.route_integrity.tls_verify
    - label: The Gorouter and apps use mutual TLS to verify each other's identity
      reference: .properties.route_integrity.mutual_tls_verify
  - description: |
      A comma-separated list of private Docker image registries that are secured with
      self-signed certificates.
    label: Private Docker insecure registry allow list
    placeholder: |
      10.10.10.10:8888,example.com:8888
    reference: .diego_cell.insecure_docker_registry_list
  - label: Docker images disk cleanup scheduling on Diego Cell VMs
    reference: .properties.garden_disk_cleanup
    selector_property_inputs:
    - label: Never clean up Diego Cell disk space
      reference: .properties.garden_disk_cleanup.never
    - label: Routinely clean up Diego Cell disk space
      reference: .properties.garden_disk_cleanup.routine
    - label: Clean up disk space once usage fills disk
      property_inputs:
      - description: |
          The amount of space the garbage collection algorithm should attempt to
          keep free for other jobs. Enter value in MB.
        label: Reserved disk space for other jobs
        reference: .properties.garden_disk_cleanup.reserved.reserved_space_for_other_jobs_in_mb
      reference: .properties.garden_disk_cleanup.reserved
  - description: |
      Garden delegates container create and destroy operations to containerd.
    label: Enable containerd delegation
    reference: .properties.enable_garden_containerd_mode
  - description: |
      The maximum number of in-flight container starts allowed globally.
      A value of 0 sets no limit.
    label: Max-in-flight container starts
    reference: .diego_brain.starting_container_count_maximum
  - description: |
      Allows app developers to bind existing NFS volumes to apps
      for shared file access.
    label: NFSv3 volume services
    reference: .properties.nfs_volume_driver
    selector_property_inputs:
    - label: Enable
      property_inputs:
      - label: LDAP service account user
        reference: .properties.nfs_volume_driver.enable.ldap_service_account_user
      - label: LDAP service account password
        reference: .properties.nfs_volume_driver.enable.ldap_service_account_password
      - label: LDAP server host
        reference: .properties.nfs_volume_driver.enable.ldap_server_host
      - description: |
          The default is 389.
        label: LDAP server port
        reference: .properties.nfs_volume_driver.enable.ldap_server_port
      - description: |
          The location in the LDAP directory tree from which any LDAP user
          search begins.
        label: LDAP user search base
        placeholder: cn=Users,dc=corp,dc=test,dc=com
        reference: .properties.nfs_volume_driver.enable.ldap_user_fqdn
      - description: |
          Only required for LDAP integration with SSL.
        label: LDAP server CA certificate
        reference: .properties.nfs_volume_driver.enable.ldap_ca_cert
      reference: .properties.nfs_volume_driver.enable
    - label: Disable
      reference: .properties.nfs_volume_driver.disable
  - description: |
      Allows app developers to bind existing SMB shares to apps
      for shared file access.
    label: Enable SMB volume services
    reference: .properties.enable_smb_volume_driver
  - label: Default health check timeout
    reference: .properties.cloud_controller_default_health_check_timeout
  - description: |
      Limit the number of log lines an app instance can generate per second.
    label: App log rate limit (beta)
    reference: .properties.app_log_rate_limiting
    selector_property_inputs:
    - label: Enable
      property_inputs:
      - description: |
          The default value is 100.
        label: Maximum app log lines per second
        reference: .properties.app_log_rate_limiting.enable.max_log_lines_per_second
      reference: .properties.app_log_rate_limiting.enable
    - label: Disable
      reference: .properties.app_log_rate_limiting.disable
- description: App Developer Controls
  label: App Developer Controls
  markdown: |
    For help configuring these fields, see
    [Configure App Developer Controls](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#appdevctrl-config)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: application_dev_controls
  property_inputs:
  - description: |
      The maximum size of an app upload droplet. Enter value
      in MB.
    label: Maximum file upload size
    reference: .cloud_controller.max_file_size
  - description: |
      The maximum total size of an app's files. Enter value
      in MB.
    label: Maximum package size
    reference: .cloud_controller.max_package_size
  - description: |
      The amount of memory allocated to a newly-pushed app when
      no value is specified at `cf push`. Enter value in MB.
    label: Default app memory
    reference: .cloud_controller.default_app_memory
  - description: |
      The default memory limit for all apps in an org for the
      first installation of Tanzu Application Service. Enter value in MB.
    label: Default app memory quota per org
    reference: .cloud_controller.default_quota_memory_limit_mb
  - description: |
      The maximum disk allocated per app. Enter value in MB.
    label: Maximum disk quota per app
    reference: .cloud_controller.max_disk_quota_app
  - description: The default disk limit allocated per app.
    label: Default disk quota per app
    reference: .cloud_controller.default_disk_quota_app
  - description: |
      The default maximum number of service instances in an org
      for the first installation of Tanzu Application Service.
    label: Default service instance quota per org
    reference: .cloud_controller.default_quota_max_number_services
  - description: |
      The server-side timeout for staging an app droplet with Cloud
      Controller. Enter value in seconds.
    label: Staging timeout
    placeholder: 900
    reference: .cloud_controller.staging_timeout_in_seconds
  - description: |
      The internal domains apps use for internal DNS service discovery.
    label: Internal domains
    property_inputs:
    - label: Name
      reference: name
    reference: .properties.cf_networking_internal_domains
  - label: Allow space developers to manage network policies
    reference: .properties.cf_networking_enable_space_developer_self_service
- description: App Security Groups
  label: App Security Groups
  markdown: |
    For help configuring these fields, see
    [Configure App Security Groups](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#app-security)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: application_security_groups
  property_inputs:
  - label: Type "X" to acknowledge this requirement.
    reference: .properties.security_acknowledgement
- description: Authentication and Enterprise SSO
  label: Authentication and Enterprise SSO
  markdown: |
    For help configuring these fields, see
    [Configure Authentication and Enterprise SSO](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#auth-config)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: sso
  property_inputs:
  - label: |
      Configure your UAA user account store with either internal or external
      authentication mechanisms:
    reference: .properties.uaa
    selector_property_inputs:
    - label: Internal UAA
      property_inputs:
      - description: The minimum number of characters for a valid password.
        label: Minimum password length
        reference: .properties.uaa.internal.password_min_length
      - description: |
          The minimum number of uppercase characters required for a valid
          password.
        label: Minimum uppercase characters
        reference: .properties.uaa.internal.password_min_uppercase
      - description: |
          The minimum number of lowercase characters required for a valid
          password.
        label: Minimum lowercase characters
        reference: .properties.uaa.internal.password_min_lowercase
      - description: |
          The minimum number of digits required for a valid password.
        label: Minimum numerical digits
        reference: .properties.uaa.internal.password_min_numeric
      - description: |
          The minimum number of special characters required for a valid
          password.
        label: Minimum special characters
        reference: .properties.uaa.internal.password_min_special
      - description: |
          The maximum allowed password entry attempts within a five-minute
          timespan before the account is locked.
        label: Maximum password entry attempts allowed
        reference: .properties.uaa.internal.password_max_retry
      reference: .properties.uaa.internal
    - label: SAML identity provider
      property_inputs:
      - description: Create a unique name for your identity provider.
        label: Provider name
        reference: .properties.uaa.saml.sso_name
      - description: Create a display name.
        label: Display name
        reference: .properties.uaa.saml.display_name
      - description: The metadata XML content for the identity provider.
        label: Provider metadata
        reference: .properties.uaa.saml.sso_xml
      - description: The SSO endpoint URL that returns the metadata.
        label: Provider metadata URL
        reference: .properties.uaa.saml.sso_url
      - description: |
          Select the name identifier format configured for the identity
          provider.
        label: Name ID format
        reference: .properties.uaa.saml.name_id_format
      - description: |
          A comma-separated list of email domains for inviting external users
          to Apps Manager.
        label: Email domains
        reference: .properties.uaa.saml.email_domains
      - description: Set the first name attribute for the SAML assertion.
        label: First name attribute
        reference: .properties.uaa.saml.first_name_attribute
      - description: Set the last name attribute for the SAML assertion.
        label: Last name attribute
        reference: .properties.uaa.saml.last_name_attribute
      - description: Set the email attribute for the SAML assertion.
        label: Email attribute
        reference: .properties.uaa.saml.email_attribute
      - description: Set the external groups attribute for the SAML assertion.
        label: External groups attribute
        reference: .properties.uaa.saml.external_groups_attribute
      - description: |
          Signed authentication requests are sent to the SAML identity provider.
        label: Sign authentication requests
        reference: .properties.uaa.saml.sign_auth_requests
      - description: The SAML identity provider requires signed assertions.
        label: Require signed assertions
        reference: .properties.uaa.saml.require_signed_assertions
      reference: .properties.uaa.saml
    - description: null
      label: LDAP server
      property_inputs:
      - description: The URLs that point to the LDAP server.
        label: Server URLs
        placeholder: ldaps://example.com
        reference: .properties.uaa.ldap.url
      - description: |
          The unique distinguished name and password for binding
          to the server.
        label: LDAP credentials
        reference: .properties.uaa.ldap.credentials
      - description: |
          The location in the LDAP directory tree from which any
          LDAP user search begins.
        label: User search base
        placeholder: ou=Groups,dc=example,dc=com
        reference: .properties.uaa.ldap.search_base
      - description: A string that defines LDAP user search criteria.
        label: User search filter
        reference: .properties.uaa.ldap.search_filter
      - description: |
          The location in the LDAP directory tree from which the
          LDAP group search begins.
        label: Group search base
        placeholder: ou=Groups,dc=example,dc=com
        reference: .properties.uaa.ldap.group_search_base
      - description: A string that defines LDAP group search criteria.
        label: Group search filter
        reference: .properties.uaa.ldap.group_search_filter
      - description: |
          Allowed values are between 1 and 10. The default value is
          1, which turns off the nested group search.
        label: Maximum group search depth
        placeholder: 1
        reference: .properties.uaa.ldap.group_max_search_depth
      - description: |
          The root certificate from your CA certificate or your
          self-signed certificate.
        label: Server SSL certificate
        reference: .properties.uaa.ldap.server_ssl_cert
      - description: Set the first name attribute for your LDAP directory.
        label: First name attribute
        reference: .properties.uaa.ldap.first_name_attribute
      - description: Set the last name attribute for your LDAP directory.
        label: Last name attribute
        reference: .properties.uaa.ldap.last_name_attribute
      - description: Set the email attribute for your LDAP directory.
        label: Email attribute
        reference: .properties.uaa.ldap.mail_attribute_name
      - description: |
          A comma-separated list of email domains for inviting
          external users to Apps Manager.
        label: Email domains
        reference: .properties.uaa.ldap.email_domains
      - description: "Select how UAA handles LDAP server referrals to other external\nuser
          stores. \n"
        label: LDAP referrals
        reference: .properties.uaa.ldap.ldap_referrals
      reference: .properties.uaa.ldap
- description: UAA
  label: UAA
  markdown: |
    For help configuring these fields, see
    [Configure UAA](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#uaa)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: uaa
  property_inputs:
  - label: UAA database location
    reference: .properties.uaa_database
    selector_property_inputs:
    - description: This is configured in the Databases pane.
      label: Tanzu Application Service database
      reference: .properties.uaa_database.internal_mysql
    - label: Other external database
      property_inputs:
      - label: Hostname
        reference: .properties.uaa_database.external.host
      - label: TCP port
        reference: .properties.uaa_database.external.port
      - label: Username
        reference: .properties.uaa_database.external.uaa_username
      - label: Password
        reference: .properties.uaa_database.external.uaa_password
      - label: CA certificate
        reference: .properties.uaa_database.external.ca_cert
      reference: .properties.uaa_database.external
  - description: When generating tokens, UAA uses this URI as the issuer.
    label: JWT issuer URI
    reference: .uaa.issuer_uri
  - description: The private key and certificate for the service provider.
    label: SAML service provider credentials
    reference: .uaa.service_provider_key_credentials
  - description: The password for the service provider private key.
    label: SAML service provider key password
    reference: .uaa.service_provider_key_password
  - description: Overrides the default Entity ID value.
    label: SAML Entity ID override
    reference: .properties.saml_entity_id_override
  - description: The supported algorithm for signed requests and assertions.
    label: Signature algorithm
    reference: .properties.saml_signature_algorithm
  - description: |
      The lifetime of the access token for Apps Manager.
      Enter value in seconds.
    label: Apps Manager access token lifetime
    reference: .uaa.apps_manager_access_token_lifetime
  - description: |
      The lifetime of the access token for the cf CLI. Enter value in seconds.
    label: Cloud Foundry CLI access token lifetime
    reference: .uaa.cf_cli_access_token_lifetime
  - description: |
      The lifetime of the refresh token for the cf CLI. Enter value in seconds.
    label: Cloud Foundry CLI refresh token lifetime
    reference: .uaa.cf_cli_refresh_token_lifetime
  - description: |
      The maximum timeout for a global login session. Enter value in seconds.
    label: Global login session maximum timeout
    reference: .properties.uaa_session_cookie_max_age
  - description: |
      The maximum timeout for idle global login sessions. Enter value in seconds.
    label: Global login session idle timeout
    reference: .properties.uaa_session_idle_timeout
  - description: Enter the text used to prompt for a username on the login page.
    label: Username label
    reference: .uaa.customize_username_label
  - description: Enter the text used to prompt for a password on the login page.
    label: Password label
    reference: .uaa.customize_password_label
  - description: |
      A pipe-separated set of regular expressions of IP addresses that are
      considered reverse proxies.
    label: Proxy IPs regular expression
    reference: .uaa.proxy_ips_regex
  - description: |
      If disabled, all client credentials must be URL-encoded when provided
      as basic auth in HTTP requests.
    label: Client basic auth compatibility mode
    reference: .uaa.enable_uri_encoding_compatibility_mode
  verifiers:
  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      database: .properties.uaa_database_name
      host: .properties.uaa_database.external.host
      password: .properties.uaa_database.external.uaa_password
      port: .properties.uaa_database.external.port
      username: .properties.uaa_database.external.uaa_username
- description: CredHub
  label: CredHub
  markdown: |
    For help configuring these fields, see
    [Configure CredHub](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#credhub)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: credhub
  property_inputs:
  - label: CredHub database location
    reference: .properties.credhub_database
    selector_property_inputs:
    - description: This is configured in the Databases pane.
      label: Tanzu Application Service database
      reference: .properties.credhub_database.internal_mysql
    - label: Other external database
      property_inputs:
      - label: Hostname
        reference: .properties.credhub_database.external.host
      - label: TCP port
        reference: .properties.credhub_database.external.port
      - label: Username
        reference: .properties.credhub_database.external.username
      - label: Password
        reference: .properties.credhub_database.external.password
      - label: Database CA certificate
        reference: .properties.credhub_database.external.tls_ca
      - description: "Disables hostname verification for TLS connections to \nthe
          targeted database server.\n"
        label: Disable hostname verification
        reference: .properties.credhub_database.external.disable_hostname_verification
      reference: .properties.credhub_database.external
  - label: KMS plugin providers
    property_inputs:
    - description: The name of the KMS provider instance.
      label: Instance name
      reference: instance_name
    - description: |
        The Unix socket address at which the provider is running.
      label: Endpoint
      reference: endpoint
    - description: |
        Marks this key as the primary encryption key.
        Only one key should be marked as primary.
      label: Primary
      reference: primary
    reference: .properties.credhub_kms_providers
  - label: Internal encryption provider keys
    property_inputs:
    - description: The name of the encryption key.
      label: Name
      reference: name
    - description: The key used to encrypt all data.
      label: Key
      reference: key
    - description: |
        Marks this key as the primary encryption key.
        Only one key should be marked as primary.
      label: Primary
      reference: primary
    reference: .properties.credhub_internal_provider_keys
  - description: The name of the HSM provider partition.
    label: HSM provider partition
    reference: .properties.credhub_hsm_provider_partition
  - description: The password used to access the HSM provider partition.
    label: HSM provider partition password
    reference: .properties.credhub_hsm_provider_partition_password
  - description: The client certificate for the HSM provider.
    label: HSM provider client certificate
    reference: .properties.credhub_hsm_provider_client_certificate
  - label: HSM provider encryption keys
    property_inputs:
    - description: The name of the encryption key.
      label: Name
      reference: name
    - description: |
        Marks this key as the primary encryption key.
        Only one key should be marked as primary.
      label: Primary
      reference: primary
    reference: .properties.credhub_hsm_provider_encryption_keys
  - label: HSM provider servers
    property_inputs:
    - description: The hostname or IP address of the HSM server.
      label: Host address
      reference: host_address
    - description: The port of the HSM server.
      label: Port
      reference: port
    - description: The serial number of the HSM partition.
      label: Partition serial number
      reference: partition_serial_number
    - description: The certificate for the HSM server.
      label: HSM certificate
      reference: certificate
    reference: .properties.credhub_hsm_provider_servers
  - description: |
      Service brokers can store their service instance
      credentials in CredHub.
    label: Secure service instance credentials
    reference: .properties.secure_service_instance_credentials
  verifiers:
  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      database: .properties.credhub_database_name
      host: .properties.credhub_database.external.host
      password: .properties.credhub_database.external.password
      port: .properties.credhub_database.external.port
      username: .properties.credhub_database.external.username
- description: Databases
  label: Databases
  markdown: |
    For help configuring these fields, see
    [Configure Databases](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#sys-db)
    in _Configuring TAS for VMs_ in the VMware documentation.
  name: system_database
  property_inputs:
  - label: System databases location
    reference: .properties.system_database
    selector_property_inputs:
    - label: Internal databases - MySQL - Percona XtraDB Cluster
      reference: .properties.system_database.internal_pxc
    - label: External databases
      property_inputs:
      - label: Hostname
        reference: .properties.system_database.external.host
      - description: |
          The hostname in the TLS certificate for the external
          database is validated against the hostname of the database.
        label: Enable hostname validation
        reference: .properties.system_database.external.validate_hostname
      - label: TCP port
        reference: .properties.system_database.external.port
      - label: Usage Service database username
        reference: .properties.system_database.external.app_usage_service_username
      - label: Usage Service database password
        reference: .properties.system_database.external.app_usage_service_password
      - label: Autoscaling service database username
        reference: .properties.system_database.external.autoscale_username
      - label: Autoscaling service database password
        reference: .properties.system_database.external.autoscale_password
      - label: Cloud Controller database username
        reference: .properties.system_database.external.ccdb_username
      - label: Cloud Controller database password
        reference: .properties.system_database.external.ccdb_password
      - description: |
          Required if "Tanzu Application Service database" is selected
          in the CredHub pane.
        label: CredHub database username
        reference: .properties.system_database.external.credhub_username
      - description: |
          Required if "Tanzu Application Service database" is selected
          in the CredHub pane.
        label: CredHub database password
        reference: .properties.system_database.external.credhub_password
      - label: Diego database username
        reference: .properties.system_database.external.diego_username
      - label: Diego database password
        reference: .properties.system_database.external.diego_password
      - label: Locket database username
        reference: .properties.system_database.external.locket_username
      - label: Locket database password
        reference: .properties.system_database.external.locket_password
      - label: Network policy server database username
        reference: .properties.system_database.external.networkpolicyserver_username
      - label: Network policy server database password
        reference: .properties.system_database.external.networkpolicyserver_password
      - label: Notifications service database username
        reference: .properties.system_database.external.notifications_username
      - label: Notifications service database password
        reference: .properties.system_database.external.notifications_password
      - label: Account database username
        reference: .properties.system_database.external.account_username
      - label: Account database password
        reference: .properties.system_database.external.account_password
      - label: Routing API database username
        reference: .properties.system_database.external.routing_username
      - label: Routing API database password
        reference: .properties.system_database.external.routing_password
      - label: Silk database username
        reference: .properties.system_database.external.silk_username
      - label: Silk database password
        reference: .properties.system_database.external.silk_password
      - description: |
          Required if "Tanzu Application Service database" is selected
          in the UAA pane.
        label: UAA database username
        reference: .properties.system_database.external.uaa_username
      - description: |
          Required if "Tanzu Application Service database" is selected
          in the UAA pane.
        label: UAA database password
        reference: .properties.system_database.external.uaa_password
      - description: Enables TLS for your external databases.
        label: Database CA certificate
        reference: .properties.system_database.external.ca_cert
      reference: .properties.system_database.external
  verifiers:
  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      database: .properties.account_database_name
      host: .properties.system_database.external.host
      password: .properties.system_database.external.account_password
      port: .properties.system_database.external.port
      username: .properties.system_database.external.account_username
  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      database: .properties.app_usage_service_database_name
      host: .properties.system_database.external.host
      password: .properties.system_database.external.app_usage_service_password
      port: .properties.system_database.external.port
      username: .properties.system_database.external.app_usage_service_username
  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      database: .properties.autoscale_database_name
      host: .properties.system_database.external.host
      password: .properties.system_database.external.autoscale_password
      port: .properties.system_database.external.port
      username: .properties.system_database.external.autoscale_username
  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      database: .properties.ccdb_database_name
      host: .properties.system_database.external.host
      password: .properties.system_database.external.ccdb_password
      port: .properties.system_database.external.port
      username: .properties.system_database.external.ccdb_username
  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      database: .properties.credhub_database_name
      host: .properties.system_database.external.host
      password: .properties.system_database.external.credhub_password
      port: .properties.system_database.external.port
      username: .properties.system_database.external.credhub_username
  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      database: .properties.diego_database_name
      host: .properties.system_database.external.host
      password: .properties.system_database.external.diego_password
      port: .properties.system_database.external.port
      username: .properties.system_database.external.diego_username
  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      database: .properties.locket_database_name
      host: .properties.system_database.external.host
      password: .properties.system_database.external.locket_password
      port: .properties.system_database.external.port
      username: .properties.system_database.external.locket_username
  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      database: .properties.networkpolicyserver_database_name
      host: .properties.system_database.external.host
      password: .properties.system_database.external.networkpolicyserver_password
      port: .properties.system_database.external.port
      username: .properties.system_database.external.networkpolicyserver_username
  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      database: .properties.notifications_database_name
      host: .properties.system_database.external.host
      password: .properties.system_database.external.notifications_password
      port: .properties.system_database.external.port
      username: .properties.system_database.external.notifications_username
  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      database: .properties.routing_database_name
      host: .properties.system_database.external.host
      password: .properties.system_database.external.routing_password
      port: .properties.system_database.external.port
      username: .properties.system_database.external.routing_username
  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      database: .properties.silk_database_name
      host: .properties.system_database.external.host
      password: .properties.system_database.external.silk_password
      port: .properties.system_database.external.port
      username: .properties.system_database.external.silk_username
  - name: Verifiers::MysqlDatabaseVerifier
    properties:
      database: .properties.uaa_database_name
      host: .properties.system_database.external.host
      password: .properties.system_database.external.uaa_password
      port: .properties.system_database.external.port
      username: .properties.system_database.external.uaa_username
- description: Internal MySQL
  label: Internal MySQL
  markdown: |
    For help configuring these fields, see
    [Configure Internal MySQL](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#internal-mysql)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: mysql_config
  property_inputs:
  - description: |
      How frequently the canary checks for replication
      failure. Enter value in seconds.
    label: Replication canary time period
    reference: .mysql_monitor.poll_frequency
  - description: |
      How long the canary waits to verify data is replicating
      across each MySQL node. Enter value in seconds.
    label: Replication canary read delay
    reference: .mysql_monitor.write_read_delay
  - description: The email to which MySQL sends alerts.
    label: Email address
    reference: .mysql_monitor.recipient_email
  - description: |
      Allows the creation of command line history files on
      MySQL nodes.
    label: Allow command history
    reference: .mysql.cli_history
  - description: |
      Admin and read-only admin users can connect to MySQL
      nodes from any remote host.
    label: Allow remote admin access
    reference: .mysql.remote_admin_access
  - description: |
      The maximum amount of time that a new node searches
      for existing cluster nodes. Enter value in seconds.
      The default value is 10 seconds.
    label: Cluster probe timeout
    reference: .mysql.cluster_probe_timeout
  - description: |
      The maximum number of connections allowed to the database.
    label: Maximum connections
    reference: .mysql.max_connections
  - label: Server activity logging
    reference: .properties.mysql_activity_logging
    selector_property_inputs:
    - label: Disable
      reference: .properties.mysql_activity_logging.disable
    - label: Enable
      property_inputs:
      - label: Event types
        reference: .properties.mysql_activity_logging.enable.audit_logging_events
      reference: .properties.mysql_activity_logging.enable
  - description: |
      Specifies the amount of time to wait until reporting the
      MySQL Proxy instance has started. Enter value in seconds.
    label: Load balancer healthy threshold
    reference: .mysql_proxy.startup_delay
  - description: |
      Specifies the amount of time that MySQL Proxy continues to
      accept connections before shutting down. Enter value in
      seconds.
    label: Load balancer unhealthy threshold
    reference: .mysql_proxy.shutdown_delay
  - description: |
      MySQL Proxy exposes an additional port, 3336, that points
      to a node in the cluster that is not receiving traffic from
      Tanzu Application Service components.
    label: Enable inactive MySQL port
    reference: .mysql_proxy.enable_inactive_mysql_port
  - description: |
      Enables MySQL Interruptor to prevent nodes with inconsistent
      data from writing to the MySQL database.
    label: Prevent node auto re-join
    reference: .mysql.prevent_node_auto_rejoin
- _hack: null
  description: File Storage
  label: File Storage
  markdown: |
    For help configuring these fields, see
    [Configure File Storage](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#file-storage)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: system_blobstore
  property_inputs:
  - description: |
      The number of recent, valid packages stored per app,
      not including the package for the current droplet.
    label: Maximum valid packages per app
    reference: .properties.system_blobstore_ccpackage_max_valid_packages_stored
  - description: |
      The number of recent, staged droplets stored per app,
      not including the current droplet.
    label: Maximum staged droplets per app
    reference: .properties.system_blobstore_ccdroplet_max_staged_droplets_stored
  - label: File storage backup level
    reference: .properties.system_blobstore_backup_level
    selector_property_inputs:
    - label: Complete file storage backup
      reference: .properties.system_blobstore_backup_level.all
    - description: This option requires restaging Cloud Foundry.
      label: Exclude droplets from file storage backup
      reference: .properties.system_blobstore_backup_level.skip_droplets
    - description: This option requires `cf push`.
      label: Exclude droplets and packages from file storage backup
      reference: .properties.system_blobstore_backup_level.skip_droplets_packages
  - label: Cloud Controller filesystem
    reference: .properties.system_blobstore
    selector_property_inputs:
    - label: Internal WebDAV
      reference: .properties.system_blobstore.internal
    - label: External S3-compatible filestore
      property_inputs:
      - description: The URL endpoint of your S3-compatible filestore.
        label: URL endpoint
        reference: .properties.system_blobstore.external.endpoint
      - description: The instance profile used for S3 authentication.
        label: S3 AWS with instance profile
        reference: .properties.system_blobstore.external.iam_instance_profile_authentication
      - description: Required if not using S3 AWS with instance profile.
        label: Access key
        reference: .properties.system_blobstore.external.access_key
      - description: Required if not using S3 AWS with instance profile.
        label: Secret key
        reference: .properties.system_blobstore.external.secret_key
      - label: S3 signature version
        reference: .properties.system_blobstore.external.signature_version
      - description: |
          The AWS region where the buckets are located. For example,
          "us-east-1" or "ap-northeast-1".
        label: Region
        placeholder: us-east-1
        reference: .properties.system_blobstore.external.region
      - description: Available for AWS S3 only.
        label: Server-side encryption
        reference: .properties.system_blobstore.external.encryption
      - description: |
          Encrypts files uploaded to the blobstore using the given KMS key.
          If server-side encryption is enabled and a KMS key ID is not provided,
          the default AWS key is used.
        label: KMS key ID
        reference: .properties.system_blobstore.external.encryption_kms_key_id
      - description: |
          Access S3 buckets using path-style syntax instead of domain-style
          syntax.
        label: Path-style S3 URLs (deprecated)
        reference: .properties.system_blobstore.external.path_style_s3_urls
      - description: The S3 bucket for storing app buildpacks.
        label: Buildpacks bucket name
        reference: .properties.system_blobstore.external.buildpacks_bucket
      - description: The S3 bucket for storing app droplets.
        label: Droplets bucket name
        reference: .properties.system_blobstore.external.droplets_bucket
      - description: The S3 bucket for storing app packages.
        label: Packages bucket name
        reference: .properties.system_blobstore.external.packages_bucket
      - description: The S3 bucket for storing app resources.
        label: Resources bucket name
        reference: .properties.system_blobstore.external.resources_bucket
      - label: Use versioning for backup and restore
        reference: .properties.system_blobstore.external.versioning
      - description: |
          The AWS region where the buckets are located. For example,
          "us-east-1" or "ap-northeast-1".
        label: Backup region
        placeholder: us-east-1
        reference: .properties.system_blobstore.external.backup_region
      - description: The S3 bucket used to back up and restore your buildpacks bucket.
        label: Backup buildpacks bucket name
        reference: .properties.system_blobstore.external.buildpacks_backup_bucket
      - description: The S3 bucket used to back up and restore your droplets bucket.
        label: Backup droplets bucket name
        reference: .properties.system_blobstore.external.droplets_backup_bucket
      - description: The S3 bucket used to back up and restore your packages bucket.
        label: Backup packages bucket name
        reference: .properties.system_blobstore.external.packages_backup_bucket
      reference: .properties.system_blobstore.external
    - description: null
      label: External Google Cloud Storage with access key and secret key
      property_inputs:
      - label: Access key
        reference: .properties.system_blobstore.external_gcs.access_key
      - label: Secret key
        reference: .properties.system_blobstore.external_gcs.secret_key
      - description: The bucket for storing app buildpacks.
        label: Buildpacks bucket name
        reference: .properties.system_blobstore.external_gcs.buildpacks_bucket
      - description: The bucket for storing app droplets.
        label: Droplets bucket name
        reference: .properties.system_blobstore.external_gcs.droplets_bucket
      - description: The bucket for storing app packages.
        label: Packages bucket name
        reference: .properties.system_blobstore.external_gcs.packages_bucket
      - description: The bucket for storing app resources.
        label: Resources bucket name
        reference: .properties.system_blobstore.external_gcs.resources_bucket
      reference: .properties.system_blobstore.external_gcs
    - description: null
      label: External Google Cloud Storage with service account
      property_inputs:
      - description: Your Google Cloud Platform project ID.
        label: GCP project ID
        reference: .properties.system_blobstore.external_gcs_service_account.project_id
      - description: Your Google Cloud Platform service account email.
        label: GCP service account email
        reference: .properties.system_blobstore.external_gcs_service_account.service_account_email
      - description: |
          Your Google Cloud Platform service account key with access to the specified
          project and bucket in JSON format.
        label: GCP service account key JSON
        reference: .properties.system_blobstore.external_gcs_service_account.service_account_json_key
      - description: The bucket for storing app buildpacks.
        label: Buildpacks bucket name
        reference: .properties.system_blobstore.external_gcs_service_account.buildpacks_bucket
      - description: The bucket for storing app droplets.
        label: Droplets bucket name
        reference: .properties.system_blobstore.external_gcs_service_account.droplets_bucket
      - description: The bucket for storing app packages.
        label: Packages bucket name
        reference: .properties.system_blobstore.external_gcs_service_account.packages_bucket
      - description: The bucket for storing app resources.
        label: Resources bucket name
        reference: .properties.system_blobstore.external_gcs_service_account.resources_bucket
      - description: The bucket for your buildpack, droplet, and package backup artifacts.
        label: Backup bucket name
        reference: .properties.system_blobstore.external_gcs_service_account.backup_bucket
      reference: .properties.system_blobstore.external_gcs_service_account
    - description: null
      label: External Azure storage
      property_inputs:
      - label: Account name
        reference: .properties.system_blobstore.external_azure.account_name
      - label: Access key
        reference: .properties.system_blobstore.external_azure.access_key
      - description: |
          The canonical name for the Azure Cloud environment where
          your storage resides.
        label: Environment
        reference: .properties.system_blobstore.external_azure.environment
      - description: The container for storing app buildpacks.
        label: Buildpacks container name
        reference: .properties.system_blobstore.external_azure.buildpacks_container
      - description: The container for storing app droplets.
        label: Droplets container name
        reference: .properties.system_blobstore.external_azure.droplets_container
      - description: The container for storing app packages.
        label: Packages container name
        reference: .properties.system_blobstore.external_azure.packages_container
      - description: The container for storing app resources.
        label: Resources container name
        reference: .properties.system_blobstore.external_azure.resources_container
      - label: Enable backup and restore
        reference: .properties.system_blobstore.external_azure.enable_bbr
      - description: |
          Add a separate storage account and access key to restore from files from
          containers in a different storage account.
        label: Restore from storage account
        reference: .properties.system_blobstore.external_azure.restore_from_account_name
      - description: |
          Add a separate storage account and access key to restore from files from
          containers in a different storage account.
        label: Restore using access key
        reference: .properties.system_blobstore.external_azure.restore_from_access_key
      reference: .properties.system_blobstore.external_azure
  verifiers:
  - name: Verifiers::BlobstoreVerifier
    properties:
      access_key_id: .properties.system_blobstore.external.access_key
      bucket_name: .properties.system_blobstore.external.buildpacks_bucket
      endpoint: .properties.system_blobstore.external.endpoint
      region: .properties.system_blobstore.external.region
      secret_access_key: .properties.system_blobstore.external.secret_key
      signature_version: .properties.system_blobstore.external.signature_version
  - name: Verifiers::BlobstoreVerifier
    properties:
      access_key_id: .properties.system_blobstore.external.access_key
      bucket_name: .properties.system_blobstore.external.droplets_bucket
      endpoint: .properties.system_blobstore.external.endpoint
      region: .properties.system_blobstore.external.region
      secret_access_key: .properties.system_blobstore.external.secret_key
      signature_version: .properties.system_blobstore.external.signature_version
  - name: Verifiers::BlobstoreVerifier
    properties:
      access_key_id: .properties.system_blobstore.external.access_key
      bucket_name: .properties.system_blobstore.external.packages_bucket
      endpoint: .properties.system_blobstore.external.endpoint
      region: .properties.system_blobstore.external.region
      secret_access_key: .properties.system_blobstore.external.secret_key
      signature_version: .properties.system_blobstore.external.signature_version
  - name: Verifiers::BlobstoreVerifier
    properties:
      access_key_id: .properties.system_blobstore.external.access_key
      bucket_name: .properties.system_blobstore.external.resources_bucket
      endpoint: .properties.system_blobstore.external.endpoint
      region: .properties.system_blobstore.external.region
      secret_access_key: .properties.system_blobstore.external.secret_key
      signature_version: .properties.system_blobstore.external.signature_version
- description: System Logging
  label: System Logging
  markdown: |
    For help configuring these fields, see
    [Configure System Logging](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#sys-logging)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: system_logging
  property_inputs:
  - description: The hostname or IP address of the syslog server.
    label: Address
    reference: .properties.syslog_host
  - description: The port of the syslog server. The default is 514.
    label: Port
    reference: .properties.syslog_port
  - description: Select the transport protocol for forwarding logs.
    label: Transport protocol
    reference: .properties.syslog_protocol
  - label: Encrypt syslog using TLS?
    reference: .properties.syslog_tls
    selector_property_inputs:
    - label: "No"
      reference: .properties.syslog_tls.disabled
    - label: "Yes"
      property_inputs:
      - description: |
          Either the accepted fingerprint (SHA1) or hostname of your remote
          peer.
        label: Permitted peer
        reference: .properties.syslog_tls.enabled.tls_permitted_peer
      - description: |
          Ensures that logs are securely transported to the syslog destination.
        label: Destination certificate
        reference: .properties.syslog_tls.enabled.tls_ca_cert
      reference: .properties.syslog_tls.enabled
  - description: All requests to Cloud Controller are captured in the syslog.
    label: Enable Cloud Controller security event logging
    reference: .cloud_controller.security_event_logging_enabled
  - label: Use TCP for file forwarding local transport
    reference: .properties.syslog_use_tcp_for_file_forwarding_local_transport
  - description: Prevents large debug logs from being forwarded.
    label: Do not forward debug logs
    reference: .properties.syslog_drop_debug
  - description: |
      Accepts configuration for rsyslog in the rainerscript syntax.
      Applied prior to the forwarding rule.
    label: Custom rsyslog configuration
    reference: .properties.syslog_rule
  - description: Logs and metrics flow to the V1 Firehose.
    label: Enable V1 Firehose
    reference: .properties.enable_v1_firehose
  - description: |
      Logs and metrics flow to the V2 Firehose. Disabling this requires
      disabling the V1 Firehose.
    label: Enable V2 Firehose
    reference: .properties.enable_v2_firehose
  - description: |
      Logs and metrics are ingested through syslog rather than the
      Reverse Log Proxy.
    label: Enable Log Cache syslog ingestion
    reference: .properties.enable_log_cache_syslog_ingestion
  - description: |
      Logs are not sent to Firehose components.
      Use in conjunction with Log Cache syslog ingestion
      and an aggregate log drain.
    label: Disable logs in Firehose
    reference: .properties.disable_logs_in_firehose
  - description: |
      A comma-separated list of HTTPS or syslog URLs where all app logs
      and metrics are sent.
    label: Aggregate log and metric drain destinations
    placeholder: |
      https://10.10.10.10,syslog-tls://the-syslog-endpoint.com
    reference: .properties.syslog_agent_aggregate_drains
  - description: |
      The interval at which deployed VMs are scraped for system metrics. Uses Go
      interval format, should not be set below 5s.
    label: System Metrics Scrape Interval
    placeholder: 1m
    reference: .properties.system_metrics_scraper_scrape_interval
  - description: |
      TAS components are incrementally being updated to provide the option to generate
      logs with the human readable timestamp format RFC3339. Selecting "Converge to
      human readable RFC3339 format" will result in all the updated components to
      generate logs using that format.
    label: Timestamp Format for Component Logs
    reference: .properties.logging_timestamp_format
    selector_property_inputs:
    - label: Converge to human readable RFC3339 format
      reference: .properties.logging_timestamp_format.rfc3339
    - label: Maintain previous format
      reference: .properties.logging_timestamp_format.deprecated
- description: Custom Branding
  label: Custom Branding
  markdown: |
    For help configuring these fields, see
    [Configure Custom Branding and Apps Manager](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#customize-apps-man)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: generic_white_label_config
  property_inputs:
  - description: The default is "VMware".
    label: Company name
    reference: .properties.push_apps_manager_company_name
  - description: Enter a hexadecimal color code. For example, "#71ffda".
    label: Accent color
    reference: .properties.push_apps_manager_accent_color
  - description: |
      Enter a base64-encoded PNG image string, leaving out the mime-type
      (data:image/png;base64,) string.
    label: Main logo
    reference: .properties.push_apps_manager_logo
  - description: |
      Enter a base64-encoded PNG image string, leaving out the mime-type
      (data:image/png;base64,) string.
    label: Square logo
    reference: .properties.push_apps_manager_square_logo
  - description: |
      Enter a base64-encoded PNG image string, leaving out the mime-type
      (data:image/png;base64,) string.
    label: Favicon
    reference: .properties.push_apps_manager_favicon
  - description: |
      The default is "VMware, Inc. or its affiliates; All rights reserved."
    label: Footer text
    reference: .properties.push_apps_manager_footer_text
  - description: Configure up to three links in the Apps Manager footer.
    label: Footer links
    property_inputs:
    - label: Link text
      reference: name
    - label: URL
      reference: href
    reference: .properties.push_apps_manager_footer_links
  - description: Enter a hexadecimal color code. For example, "#71ffda".
    label: Classification header and footer background color
    reference: .properties.push_apps_manager_global_wrapper_bg_color
  - description: Enter a hexadecimal color code. For example, "#71ffda".
    label: Classification header and footer text color
    reference: .properties.push_apps_manager_global_wrapper_text_color
  - description: Enter plain text or HTML markup.
    label: Classification header content
    reference: .properties.push_apps_manager_global_wrapper_header_content
  - description: Enter plain text or HTML markup.
    label: Classification footer content
    reference: .properties.push_apps_manager_global_wrapper_footer_content
- description: Apps Manager
  label: Apps Manager
  markdown: |
    For help configuring these fields, see
    [Configure Custom Branding and Apps Manager](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#customize-apps-man)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: apps_manager_config
  property_inputs:
  - label: Enable invitations
    reference: .properties.push_apps_manager_enable_invitations
  - label: Display Marketplace service plan prices
    reference: .properties.push_apps_manager_display_plan_prices
  - description: |
      Define currency codes and associated symbols. Defaults
      to { "usd": "$", "eur": "€" }.
    label: Supported currencies as JSON
    reference: .properties.push_apps_manager_currency_lookup
  - description: |
      Enter a custom product name. Defaults to "Apps Manager".
    label: Product name
    reference: .properties.push_apps_manager_product_name
  - description: Enter a custom Marketplace name.
    label: Marketplace name
    reference: .properties.push_apps_manager_marketplace_name
  - description: |
      Overrides the default Apps Manager Marketplace link to
      point to a custom marketplace.
    label: Marketplace URL
    reference: .properties.push_apps_manager_marketplace_url
  - description: |
      Configure up to 10 links to appear in the secondary
      navigation of Apps Manager.
    label: Secondary navigation links
    property_inputs:
    - label: Link text
      reference: name
    - label: URL
      reference: href
    reference: .properties.push_apps_manager_nav_links
  - description: |
      The buildpack to use when deploying the Apps Manager app.
      Must be for static content.
    label: Apps Manager buildpack
    reference: .properties.push_apps_manager_buildpack
  - description: |
      The buildpack to use when deploying the Search Server app.
      Must be for a node-based app.
    label: Search Server buildpack
    reference: .properties.push_apps_manager_search_server_buildpack
  - description: |
      The buildpack to use when deploying the Invitations app.
      Must be for a node-based app.
    label: Invitations buildpack
    reference: .properties.push_apps_manager_invitations_buildpack
  - description: |
      The memory limit for the Apps Manager app. Enter value in MB.
      Leave blank to use the default value of 128 MB.
    label: Apps Manager memory usage
    reference: .properties.push_apps_manager_memory
  - description: |
      The memory limit for the Search Server app. Enter value in MB.
      Leave blank to use the default value of 256 MB.
    label: Search Server memory usage
    reference: .properties.push_apps_manager_search_server_memory
  - description: |
      The memory limit for the Invitations app. Enter value in MB.
      Leave blank to use the default value of 256 MB.
    label: Invitations memory usage
    reference: .properties.push_apps_manager_invitations_memory
  - description: |
      The Apps Manager polling interval. Enter value in seconds.
      Leave blank to use the default value of 30 seconds.
    label: Apps Manager polling interval
    reference: .properties.push_apps_manager_poll_interval
  - description: |
      The app details polling interval. Enter value in seconds.
      Leave blank to use the default value of 10 seconds.
    label: App details polling interval
    reference: .properties.push_apps_manager_app_poll_interval
  - description: |
      A JSON string containing all the foundations Apps Manager
      manages.
    label: Multi-foundation configuration (beta)
    reference: .properties.push_apps_manager_foundations
  - description: |
      A comma-separated list of URIs for other foundations Apps
      Manager manages.
    label: Redirect URIs
    reference: .properties.push_apps_manager_redirect_uris
- description: Email Notifications
  label: Email Notifications
  markdown: |
    For help configuring these fields, see
    [Configure Email Notifications](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#smtp)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: smtp_config
  property_inputs:
  - description: The email address from which emails are sent.
    label: From email
    reference: .properties.smtp_from
  - description: The SMTP address of the server that sends emails.
    label: SMTP server address
    reference: .properties.smtp_address
  - description: The port of the SMTP server that sends emails.
    label: SMTP server port
    reference: .properties.smtp_port
  - description: The credentials for the SMTP server that sends emails.
    label: SMTP server credentials
    reference: .properties.smtp_credentials
  - description: |
      Automatically creates a secure TLS connection
      when sending emails.
    label: SMTP enable automatic STARTTLS
    reference: .properties.smtp_enable_starttls_auto
  - label: SMTP authentication mechanism
    reference: .properties.smtp_auth_mechanism
  - label: SMTP CRAMMD5 secret
    reference: .properties.smtp_crammd5_secret
- description: App Autoscaler
  label: App Autoscaler
  markdown: |
    For help configuring these fields, see
    [Configure App Autoscaler](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#config-autoscaler)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: app_autoscaler
  property_inputs:
  - label: Autoscaler instance count
    reference: .properties.autoscale_instance_count
  - label: Autoscaler API instance count
    reference: .properties.autoscale_api_instance_count
  - description: |
      The size of the window of metrics that App Autoscaler uses
      to make scaling decisions. Enter value in seconds.
    label: Metric collection interval
    reference: .properties.autoscale_metric_bucket_count
  - description: |
      How frequently App Autoscaler evaluates an app for scaling.
      Enter value in seconds.
    label: Scaling interval
    reference: .properties.autoscale_scaling_interval_in_seconds
  - label: Enable verbose logging
    reference: .properties.autoscale_enable_verbose_logging
  - label: Disable API connection pooling
    reference: .properties.autoscale_api_disable_connection_pooling
  - label: Enable email notifications
    reference: .properties.autoscale_enable_notifications
- description: Cloud Controller
  label: Cloud Controller
  markdown: |
    For help configuring these fields, see
    [Configure Cloud Controller](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#config-cc)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: cloud_controller
  property_inputs:
  - description: |
      Leave blank unless restoring a Cloud Controller database exported from
      a previous installation.
    label: Cloud Controller database encryption key
    reference: .cloud_controller.encrypt_key
  - label: Cloud Foundry API rate limiting
    reference: .properties.cc_api_rate_limit
    selector_property_inputs:
    - label: Enable
      property_inputs:
      - description: |
          The number of requests a user or client is allowed to make for
          all endpoints that do not have a custom limit over an hour-long
          interval.
        label: General limit
        reference: .properties.cc_api_rate_limit.enable.general_limit
      - description: |
          The number of requests an unauthenticated client is allowed to
          make over an hour-long interval.
        label: Unauthenticated limit
        reference: .properties.cc_api_rate_limit.enable.unauthenticated_limit
      reference: .properties.cc_api_rate_limit.enable
    - label: Disable
      reference: .properties.cc_api_rate_limit.disable
  - description: The connection validation timeout. Enter value in seconds.
    label: Database connection validation timeout
    reference: .properties.ccdb_connection_validation_timeout
  - description: The read timeout for query responses. Enter value in seconds.
    label: Database read timeout
    reference: .properties.ccdb_read_timeout
  - description: |
      The number of days after which completed tasks are pruned from the Cloud
      Controller database. Enter value in days.
    label: |
      Age of completed tasks pruned from Cloud Controller database
    reference: .properties.cloud_controller_completed_tasks_cutoff_age_in_days
  - label: Encryption key ledger
    property_inputs:
    - label: Encryption key label
      reference: label
    - label: Encryption key
      reference: encryption_key
    - label: Primary
      reference: primary
    reference: .properties.cloud_controller_encryption_keys
- description: Smoke Tests
  label: Smoke Tests
  markdown: |
    For help configuring these fields, see
    [Configure Smoke Tests](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#config-smoke-test)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: smoke_tests
  property_inputs:
  - label: |
      Choose where to deploy apps when running smoke tests:
    reference: .properties.smoke_tests
    selector_property_inputs:
    - label: A temporary space within the system org
      reference: .properties.smoke_tests.on_demand
    - label: A specified org and space
      property_inputs:
      - description: The org to use when running tests.
        label: Org
        reference: .properties.smoke_tests.specified.org_name
      - description: The space to use when running tests.
        label: Space
        reference: .properties.smoke_tests.specified.space_name
      reference: .properties.smoke_tests.specified
- description: Advanced Features
  label: Advanced Features
  markdown: |
    For help configuring these fields, see
    [Configure Advanced Features](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#advanced)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: advanced_features
  property_inputs:
  - description: Enter value in MB.
    label: Diego Cell memory capacity
    reference: .diego_cell.executor_memory_capacity
  - description: Enter value in MB.
    label: Diego Cell disk capacity
    reference: .diego_cell.executor_disk_capacity
  - description: |
      The amount of time to wait for an app instance to exit once
      it has been signalled to gracefully shut down.
      Enter value in seconds. The default value is 10.
    label: App graceful shutdown period
    placeholder: 10
    reference: .properties.app_graceful_shutdown_period_in_seconds
  - label: Non-RFC-1918 private network allow list
    placeholder: |
      For example, `allow 172.99.0.0/24;,allow 172.55.0.0/24;`.
    reference: .nfs_server.blobstore_internal_access_rules
  - description: |
      The maximum wait time to establish a connection, including
      name resolution. Enter value in seconds.
    label: CF CLI connection timeout
    reference: .properties.cf_dial_timeout_in_seconds
  - description: |
      Tanzu Application Service components that support TLS connect
      to the internal PXC database using an encrypted TLS
      connection.
    label: Enable TLS for internal system database (beta)
    reference: .properties.enable_tls_to_internal_pxc
  - description: |
      The maximum number of concurrent database connections the
      active BBS instance can have.
    label: Maximum number of open connections from the active BBS instance to the
      SQL database
    placeholder: 100
    reference: .properties.diego_database_max_open_connections
  - description: |
      The maximum number of concurrent database connections each
      Locket instance can have.
    label: Maximum number of open connections from each Locket instance to the SQL
      database
    placeholder: 200
    reference: .properties.locket_database_max_open_connections
  - description: |
      The maximum number of concurrent database connections each
      Silk Controller instance can have.
    label: Maximum number of open connections from each Silk Controller instance to
      the SQL database
    placeholder: 200
    reference: .properties.silk_database_max_open_connections
  - description: |
      The maximum number of concurrent database connections the
      network policy server instance can have.
    label: Maximum number of open connections from the network policy server instance
      to the SQL database
    placeholder: 200
    reference: .properties.networkpolicyserver_database_max_open_connections
  - description: |
      The maximum number of concurrent database connections each
      network policy server internal instance can have.
    label: Maximum number of open connections from each network policy server internal
      instance to the SQL database
    placeholder: 200
    reference: .properties.networkpolicyserverinternal_database_max_open_connections
  - label: Disable rolling app deployments
    reference: .properties.cloud_controller_temporary_disable_deployments
  - label: Maximum number of envelopes stored in Log Cache per source
    placeholder: 100000
    reference: .properties.log_cache_max_per_source
  - description: |
      The number of days of granular data that Usage Service
      stores.
    label: Usage Service cutoff age
    reference: .properties.push_usage_service_cutoff_age_in_days
- description: Metric Registrar
  label: Metric Registrar
  markdown: |
    For help configuring these fields, see
    [Configure Metric Registrar](https://docs.pivotal.io/pivotalcf/2-11/customizing/configure-pas.html#metric-registrar)
    in _Configuring TAS for VMs_ in the VMware Tanzu documentation.
  name: metric_registrar
  property_inputs:
  - label: Enable Metric Registrar
    reference: .properties.metric_registrar_enabled
  - description: |
      The amount of time between scrapes of registered metrics endpoints.
      Enter value in seconds. The default is 35.
    label: Endpoint scraping interval
    reference: .properties.metric_registrar_scrape_interval_in_seconds
  - description: |
      A comma-separated list of tags that users cannot set on their
      emitted metrics.
    label: Blocked tags
    reference: .properties.metric_registrar_blacklisted_tags
icon_image: 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
install_time_verifiers:
- ignorable: true
  name: Verifiers::WildcardDomainVerifier
  properties:
    domain: .cloud_controller.system_domain
- ignorable: true
  name: Verifiers::WildcardDomainVerifier
  properties:
    domain: .cloud_controller.apps_domain
- name: Verifiers::SsoUrlVerifier
  properties:
    url: .properties.uaa.saml.sso_url
- ignorable: true
  name: Verifiers::BlobstoreVerifier
  properties:
    access_key_id: .properties.system_blobstore.external.access_key
    bucket_name: .properties.system_blobstore.external.buildpacks_bucket
    endpoint: .properties.system_blobstore.external.endpoint
    region: .properties.system_blobstore.external.region
    secret_access_key: .properties.system_blobstore.external.secret_key
    signature_version: .properties.system_blobstore.external.signature_version
- ignorable: true
  name: Verifiers::BlobstoreVerifier
  properties:
    access_key_id: .properties.system_blobstore.external.access_key
    bucket_name: .properties.system_blobstore.external.droplets_bucket
    endpoint: .properties.system_blobstore.external.endpoint
    region: .properties.system_blobstore.external.region
    secret_access_key: .properties.system_blobstore.external.secret_key
    signature_version: .properties.system_blobstore.external.signature_version
- ignorable: true
  name: Verifiers::BlobstoreVerifier
  properties:
    access_key_id: .properties.system_blobstore.external.access_key
    bucket_name: .properties.system_blobstore.external.packages_bucket
    endpoint: .properties.system_blobstore.external.endpoint
    region: .properties.system_blobstore.external.region
    secret_access_key: .properties.system_blobstore.external.secret_key
    signature_version: .properties.system_blobstore.external.signature_version
- ignorable: true
  name: Verifiers::BlobstoreVerifier
  properties:
    access_key_id: .properties.system_blobstore.external.access_key
    bucket_name: .properties.system_blobstore.external.resources_bucket
    endpoint: .properties.system_blobstore.external.endpoint
    region: .properties.system_blobstore.external.region
    secret_access_key: .properties.system_blobstore.external.secret_key
    signature_version: .properties.system_blobstore.external.signature_version
- ignorable: true
  name: Verifiers::MysqlDatabaseVerifier
  properties:
    database: .properties.account_database_name
    host: .properties.system_database.external.host
    password: .properties.system_database.external.account_password
    port: .properties.system_database.external.port
    username: .properties.system_database.external.account_username
- ignorable: true
  name: Verifiers::MysqlDatabaseVerifier
  properties:
    database: .properties.app_usage_service_database_name
    host: .properties.system_database.external.host
    password: .properties.system_database.external.app_usage_service_password
    port: .properties.system_database.external.port
    username: .properties.system_database.external.app_usage_service_username
- ignorable: true
  name: Verifiers::MysqlDatabaseVerifier
  properties:
    database: .properties.autoscale_database_name
    host: .properties.system_database.external.host
    password: .properties.system_database.external.autoscale_password
    port: .properties.system_database.external.port
    username: .properties.system_database.external.autoscale_username
- ignorable: true
  name: Verifiers::MysqlDatabaseVerifier
  properties:
    database: .properties.ccdb_database_name
    host: .properties.system_database.external.host
    password: .properties.system_database.external.ccdb_password
    port: .properties.system_database.external.port
    username: .properties.system_database.external.ccdb_username
- ignorable: true
  name: Verifiers::MysqlDatabaseVerifier
  properties:
    database: .properties.diego_database_name
    host: .properties.system_database.external.host
    password: .properties.system_database.external.diego_password
    port: .properties.system_database.external.port
    username: .properties.system_database.external.diego_username
- ignorable: true
  name: Verifiers::MysqlDatabaseVerifier
  properties:
    database: .properties.locket_database_name
    host: .properties.system_database.external.host
    password: .properties.system_database.external.locket_password
    port: .properties.system_database.external.port
    username: .properties.system_database.external.locket_username
- ignorable: true
  name: Verifiers::MysqlDatabaseVerifier
  properties:
    database: .properties.networkpolicyserver_database_name
    host: .properties.system_database.external.host
    password: .properties.system_database.external.networkpolicyserver_password
    port: .properties.system_database.external.port
    username: .properties.system_database.external.networkpolicyserver_username
- ignorable: true
  name: Verifiers::MysqlDatabaseVerifier
  properties:
    database: .properties.notifications_database_name
    host: .properties.system_database.external.host
    password: .properties.system_database.external.notifications_password
    port: .properties.system_database.external.port
    username: .properties.system_database.external.notifications_username
- ignorable: true
  name: Verifiers::MysqlDatabaseVerifier
  properties:
    database: .properties.routing_database_name
    host: .properties.system_database.external.host
    password: .properties.system_database.external.routing_password
    port: .properties.system_database.external.port
    username: .properties.system_database.external.routing_username
- ignorable: true
  name: Verifiers::MysqlDatabaseVerifier
  properties:
    database: .properties.silk_database_name
    host: .properties.system_database.external.host
    password: .properties.system_database.external.silk_password
    port: .properties.system_database.external.port
    username: .properties.system_database.external.silk_username
- ignorable: true
  name: Verifiers::MysqlDatabaseVerifier
  properties:
    database: .properties.uaa_database_name
    host: .properties.uaa_database.external.host
    password: .properties.uaa_database.external.uaa_password
    port: .properties.uaa_database.external.port
    username: .properties.uaa_database.external.uaa_username
job_types:
- description: Database
  instance_definition:
    configurable: true
    constraints:
      may_only_be_odd_or_zero: true
      min: 1
    default: 1
    label: Instances
    name: instances
    type: integer
  label: Database
  max_in_flight: 1
  name: database
  resource_definitions:
  - configurable: true
    constraints:
      min: 1
    default: 2
    label: CPU
    name: cpu
    type: integer
  - configurable: true
    constraints:
      min: 4096
    default: 8192
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 10000
    default: 30000
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: true
    constraints:
      min: 10000
    default: 100000
    label: Persistent Disk
    name: persistent_disk
    type: integer
  resource_label: Database
  serial: true
  single_az_only: false
  templates:
  - name: bpm
    release: bpm
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_agent_metrics_tls.cert_pem ))
        key: (( .properties.loggregator_agent_metrics_tls.private_key_pem ))
        server_name: loggregator_agent_metrics
      grpc_port: 3459
      disable_udp: true
      disable_logs: (( .properties.disable_logs_in_firehose.value ))
      loggregator_agent:
        enabled: (( .properties.enable_v2_firehose.value ))
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
        origin: mysql
    name: loggregator_agent
    release: loggregator-agent
  - manifest: |
      port: 3460
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.syslog_agent_metrics_tls.cert_pem ))
        key: (( .properties.syslog_agent_metrics_tls.private_key_pem ))
        server_name: syslog_agent_metrics
      cache:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: (( .properties.syslog_agent_api_tls.cert_pem ))
          key: (( .properties.syslog_agent_api_tls.private_key_pem ))
          cn: binding-cache
      aggregate_drains: syslog-tls://doppler.service.cf.internal:6067?include-metrics-deprecated=true,(( .properties.syslog_agent_aggregate_drains.value ))
      drain_ca_cert: (( $ops_manager.ca_certificate ))
    name: loggr-syslog-agent
    release: loggregator-agent
  - manifest: |
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_discovery_metrics_tls.cert_pem ))
        key: (( .properties.metrics_discovery_metrics_tls.private_key_pem ))
        server_name: metrics_discovery_metrics
      nats_client:
        cert: (( .properties.nats_client_cert.cert_pem ))
        key: (( .properties.nats_client_cert.private_key_pem ))
    name: metrics-discovery-registrar
    release: metrics-discovery
  - manifest: |
      metrics_exporter_port: 14726
      grpc:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_agent_metrics_tls.cert_pem ))
        key: (( .properties.metrics_agent_metrics_tls.private_key_pem ))
        server_name: metrics_agent_metrics
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
    name: metrics-agent
    release: metrics-discovery
  - manifest: |
      port: 3458
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.forwarder_agent_metrics_tls.cert_pem ))
        key: (( .properties.forwarder_agent_metrics_tls.private_key_pem ))
        server_name: forwarder_agent_metrics
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
        origin: mysql
    name: loggr-forwarder-agent
    release: loggregator-agent
  - manifest: |-
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
          cn: prom_scraper
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: "((.properties.prom_scraper_metrics_tls.cert_pem))"
        key: "((.properties.prom_scraper_metrics_tls.private_key_pem))"
        server_name: prom_scraper_metrics
    name: prom_scraper
    release: loggregator-agent
  - manifest: |
      syslog: (( .properties.system_logging.selected_option.parsed_manifest(syslog) ))
    name: syslog_forwarder
    release: syslog
  - consumes: |
      nats-tls: {from: nats-tls}
    manifest: |
      nats:
        user: ((( nats-credentials.username )))
        password: ((( nats-credentials.password )))
        hostname: nats.service.cf.internal
        internal:
          tls:
            ca: (( $ops_manager.ca_certificate ))
            certificate: (( .properties.nats_tls_internal_cert.cert_pem ))
            private_key: (( .properties.nats_tls_internal_cert.private_key_pem ))
            enabled: true
    name: nats
    provides: |
      nats:
        as: nats
        shared: true
    release: nats
  - consumes: |
      nats: {from: nats}
    manifest: |
      nats:
        user: ((( nats-credentials.username )))
        password: ((( nats-credentials.password )))
        hostname: nats.service.cf.internal
        internal:
          tls:
            ca: (( $ops_manager.ca_certificate ))
            certificate: (( .properties.nats_tls_internal_cert.cert_pem ))
            private_key: (( .properties.nats_tls_internal_cert.private_key_pem ))
            enabled: true
        external:
          tls:
            ca: (( $ops_manager.ca_certificate ))
            certificate: (( .properties.nats_tls_external_cert.cert_pem ))
            private_key: (( .properties.nats_tls_external_cert.private_key_pem ))
    name: nats-tls
    provides: |
      nats-tls:
        as: nats-tls
        shared: true
    release: nats
  - manifest: |
      route_registrar:
        routes:
        - name: cf-mysql-proxy
          port: 8080
          registration_interval: 20s
          tags:
            component: MySQLProxy
          uris:
          - "proxy-p-mysql-ert.(( .cloud_controller.system_domain.value ))"
          prepend_instance_index: true
    name: route_registrar
    release: routing
  - consumes: |
      mysql: {from: pxc-direct-mysql}
    manifest: |
      api_uri: proxy-p-mysql-ert.(( .cloud_controller.system_domain.value ))
      api_password: ((( mysql-proxy-dashboard-credentials.password )))
      api_username: ((( mysql-proxy-dashboard-credentials.username )))
      startup_delay: (( .mysql_proxy.startup_delay.value ))
      shutdown_delay: (( .mysql_proxy.shutdown_delay.value ))
      inactive_mysql_port: '(( .mysql_proxy.enable_inactive_mysql_port.value ? .mysql_proxy.inactive_mysql_port.value : .mysql_proxy.inactive_mysql_port_null_value.value ))'
      max_open_files: 1048576
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_unix_epoch) ))
    name: proxy
    provides: |
      mysql-database: {as: proxy-mysql}
    release: pxc
  - consumes: |
      mysql: {from: pxc-direct-mysql}
    manifest: |
      pxc_enabled: (( .properties.system_database.selected_option.parsed_manifest(enable_pxc) ))
      port: 13306
      cli_history: (( .mysql.cli_history.value ))
      engine_config:
        galera:
          enabled: true
        innodb_buffer_pool_size_percent: 50
        innodb_flush_log_at_trx_commit: 2
        innodb_strict_mode: true
        max_connections: (( .mysql.max_connections.value ))
        audit_logs:
          enabled: (( .properties.mysql_activity_logging.selected_option.parsed_manifest(pxc_server_audit_logs_enabled) ))
          audit_log_exclude_accounts:
          - ((( mysql-metrics-db-credentials.username )))
          - ((( mysql-monitor-db-credentials.username )))
      max_open_files: 1048576
      monit_startup_timeout: 60
      cluster_probe_timeout: (( .mysql.cluster_probe_timeout.value ))
      remote_admin_access: (( .mysql.remote_admin_access.value ))
      seeded_databases:
      - name: (( .properties.app_usage_service_database_name.value ))
        username: ((( app-usage-db-credentials.username )))
        password: ((( app-usage-db-credentials.password )))
      - name: (( .properties.autoscale_database_name.value ))
        username: ((( autoscale-db-credentials.username )))
        password: ((( autoscale-db-credentials.password )))
      - name: (( .properties.ccdb_database_name.value ))
        username: ((( cc-db-credentials.username )))
        password: ((( cc-db-credentials.password )))
      - name: (( .properties.credhub_database_name.value ))
        username: ((( credhub-db-credentials.username )))
        password: ((( credhub-db-credentials.password )))
      - name: (( .properties.diego_database_name.value ))
        username: ((( diego-db-credentials.username )))
        password: ((( diego-db-credentials.password )))
      - name: (( .properties.locket_database_name.value ))
        username: ((( locket-db-credentials.username )))
        password: ((( locket-db-credentials.password )))
      - name: (( .properties.networkpolicyserver_database_name.value ))
        username: ((( network-policy-server-db-credentials.username )))
        password: ((( network-policy-server-db-credentials.password )))
      - name: (( .properties.notifications_database_name.value ))
        username: ((( notifications-db-credentials.username )))
        password: ((( notifications-db-credentials.password )))
      - name: (( .properties.routing_database_name.value ))
        username: ((( routing-db-credentials.username )))
        password: ((( routing-db-credentials.password )))
      - name: (( .properties.silk_database_name.value ))
        username: ((( silk-db-credentials.username )))
        password: ((( silk-db-credentials.password )))
      - name: (( .properties.uaa_database_name.value ))
        username: ((( uaa-db-credentials.username )))
        password: ((( uaa-db-credentials.password )))
      - name: monitor
        username: ((( mysql-monitor-db-credentials.username )))
        password: ((( mysql-monitor-db-credentials.password )))
      - name: metrics_db
        username: ((( mysql-metrics-db-credentials.username )))
        password: ((( mysql-metrics-db-credentials.password )))
      tls:
        galera:
          ca: (( $ops_manager.ca_certificate ))
          certificate: (( .properties.pxc_internal_certificate.cert_pem ))
          private_key: (( .properties.pxc_internal_certificate.private_key_pem ))
        server:
          ca: (( $ops_manager.ca_certificate ))
          certificate: (( .properties.pxc_server_certificate.cert_pem ))
          private_key: (( .properties.pxc_server_certificate.private_key_pem ))
      admin_password: ((( mysql-admin-credentials.password )))
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_unix_epoch) ))
    name: pxc-mysql
    provides: |
      mysql: {as: pxc-direct-mysql}
    release: pxc
  - consumes: |
      mysql: {from: pxc-direct-mysql}
    manifest: |
      db_password: ((( mysql-galera-sidecar-credentials.password )))
      endpoint_username: ((( mysql-bootstrap-db-credentials.username )))
      endpoint_password: ((( mysql-bootstrap-db-credentials.password )))
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_unix_epoch) ))
    name: galera-agent
    release: pxc
  - consumes: |
      mysql: {from: pxc-direct-mysql}
    manifest: |
      db_password: ((( mysql-cluster-health-credentials.password )))
    name: cluster-health-logger
    release: pxc
  - consumes: |
      mysql: {from: pxc-direct-mysql}
    manifest: |
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_unix_epoch) ))
    name: gra-log-purger
    release: pxc
  - consumes: |
      mysql: {from: pxc-direct-mysql}
    manifest: |
      mysql-metrics:
        origin: mysql
        username: ((( mysql-metrics-db-credentials.username )))
        password: ((( mysql-metrics-db-credentials.password )))
        tls:
          ca: (( $ops_manager.ca_certificate ))
          cert: (( .properties.loggregator_client_cert.cert_pem ))
          key: (( .properties.loggregator_client_cert.private_key_pem ))
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_unix_epoch) ))
    name: mysql-metrics
    release: mysql-monitoring
  - manifest: |
      domain: (( .cloud_controller.system_domain.value ))
      mysql-monitoring:
        recipient_email: (( .mysql_monitor.recipient_email.value ))
        cluster_identifier: cf
        admin_client:
          secret: (( .uaa.admin_client_credentials.password ))
          username: (( .uaa.admin_client_credentials.identity ))
        client:
          username: (( .uaa.notifications_client_credentials.identity ))
          secret: (( .uaa.notifications_client_credentials.password ))
    name: send-email
    release: mysql-monitoring
  - manifest: |
      mysql-monitoring:
        mysql-diag-agent:
          username: ((( mysql-diag-agent-db-credentials.username )))
          password: ((( mysql-diag-agent-db-credentials.password )))
    name: mysql-diag-agent
    release: mysql-monitoring
- description: Stores droplets and app packages on behalf of Cloud Controller
  instance_definition:
    configurable: true
    constraints:
      max: 1
      min: 0
    default: 1
    label: Instances
    name: instances
    type: integer
    zero_if:
      allow_manual_selection_of_zero: false
      property_reference: .properties.system_blobstore
      property_values:
      - external
      - external_gcs
      - external_gcs_service_account
      - external_azure
  label: File Storage
  max_in_flight: 1
  name: blobstore
  resource_definitions:
  - configurable: true
    constraints:
      min: 1
    default: 2
    label: CPU
    name: cpu
    type: integer
  - configurable: true
    constraints:
      min: 4096
    default: 4096
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 8192
    default: 8192
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: true
    constraints:
      min: 10240
    default: 102400
    label: Persistent Disk
    name: persistent_disk
    type: integer
  resource_label: File Storage
  serial: true
  single_az_only: true
  templates:
  - name: bpm
    release: bpm
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_agent_metrics_tls.cert_pem ))
        key: (( .properties.loggregator_agent_metrics_tls.private_key_pem ))
        server_name: loggregator_agent_metrics
      grpc_port: 3459
      disable_udp: true
      disable_logs: (( .properties.disable_logs_in_firehose.value ))
      loggregator_agent:
        enabled: (( .properties.enable_v2_firehose.value ))
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggregator_agent
    release: loggregator-agent
  - manifest: |
      port: 3460
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.syslog_agent_metrics_tls.cert_pem ))
        key: (( .properties.syslog_agent_metrics_tls.private_key_pem ))
        server_name: syslog_agent_metrics
      cache:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: (( .properties.syslog_agent_api_tls.cert_pem ))
          key: (( .properties.syslog_agent_api_tls.private_key_pem ))
          cn: binding-cache
      aggregate_drains: syslog-tls://doppler.service.cf.internal:6067?include-metrics-deprecated=true,(( .properties.syslog_agent_aggregate_drains.value ))
      drain_ca_cert: (( $ops_manager.ca_certificate ))
    name: loggr-syslog-agent
    release: loggregator-agent
  - manifest: |
      metrics_exporter_port: 14726
      grpc:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_agent_metrics_tls.cert_pem ))
        key: (( .properties.metrics_agent_metrics_tls.private_key_pem ))
        server_name: metrics_agent_metrics
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
    name: metrics-agent
    release: metrics-discovery
  - manifest: |
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_discovery_metrics_tls.cert_pem ))
        key: (( .properties.metrics_discovery_metrics_tls.private_key_pem ))
        server_name: metrics_discovery_metrics
      nats_client:
        cert: (( .properties.nats_client_cert.cert_pem ))
        key: (( .properties.nats_client_cert.private_key_pem ))
    name: metrics-discovery-registrar
    release: metrics-discovery
  - manifest: |
      port: 3458
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.forwarder_agent_metrics_tls.cert_pem ))
        key: (( .properties.forwarder_agent_metrics_tls.private_key_pem ))
        server_name: forwarder_agent_metrics
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggr-forwarder-agent
    release: loggregator-agent
  - manifest: |-
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
          cn: prom_scraper
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: "((.properties.prom_scraper_metrics_tls.cert_pem))"
        key: "((.properties.prom_scraper_metrics_tls.private_key_pem))"
        server_name: prom_scraper_metrics
    name: prom_scraper
    release: loggregator-agent
  - manifest: |
      blobstore:
        admin_users:
        - username: ((( webdav-blobstore-credentials.username )))
          password: ((( webdav-blobstore-credentials.password )))
        secure_link:
          secret: ((( nfs-server-blobstore-secret )))
        tls:
          cert: (( .nfs_server.blobstore_cert.cert_pem ))
          private_key: (( .nfs_server.blobstore_cert.private_key_pem ))
        internal_access_rules: (( .nfs_server.blobstore_internal_access_rules.parsed_strings ))
      release_level_backup: (( .properties.system_blobstore.selected_option.parsed_manifest(enable_internal_backup) ))
      system_domain: (( .cloud_controller.system_domain.value ))
      select_directories_to_backup: '(( .properties.system_blobstore_backup_level.selected_option.parsed_manifest(backup_all) ? .properties.system_blobstore.selected_option.parsed_manifest(all_buckets) : .properties.system_blobstore.selected_option.parsed_manifest(skip_buckets) ))'
    name: blobstore
    release: capi
  - manifest: |
      route_registrar:
        routes:
          - name: blobstore
            port: 8080
            registration_interval: 20s
            tags:
              component: blobstore
            uris:
            - blobstore.(( .cloud_controller.system_domain.value ))
    name: route_registrar
    release: routing
  - manifest: |
      syslog: (( .properties.system_logging.selected_option.parsed_manifest(syslog) ))
    name: syslog_forwarder
    release: syslog
- description: Control
  instance_definition:
    configurable: true
    constraints:
      min: 1
    default: 1
    label: Instances
    name: instances
    type: integer
  label: Control
  max_in_flight: 1
  name: control
  property_blueprints:
  - configurable: true
    name: static_ips
    optional: true
    type: ip_ranges
  resource_definitions:
  - configurable: true
    constraints:
      min: 16384
    default: 16384
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 49152
    default: 49152
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 2
    default: 2
    label: CPU
    name: cpu
    type: integer
  resource_label: Control
  serial: true
  single_az_only: false
  templates:
  - manifest: |
      bpm:
        enabled: true
      database:
        tls:
          enable_identity_verification: (( .properties.system_database.selected_option.parsed_manifest(diego-enable-identity-verification) ))
      diego:
        bbs:
          active_key_label: key1
          auctioneer:
            api_location: auctioneer.service.cf.internal:9016
            ca_cert: (( $ops_manager.ca_certificate ))
            client_cert: (( .properties.auctioneer_client_cert.cert_pem ))
            client_key: (( .properties.auctioneer_client_cert.private_key_pem ))
          ca_cert: (( $ops_manager.ca_certificate ))
          detect_consul_cell_registrations: false
          encryption_keys:
          - label: key1
            passphrase: ((( diego-db-bbs-encryption-passphrase )))
          rep:
            ca_cert: (( $ops_manager.ca_certificate ))
            client_cert: (( .properties.rep_client_cert.cert_pem ))
            client_key: (( .properties.rep_client_cert.private_key_pem ))
          server_cert: (( .properties.bbs_server_cert.cert_pem ))
          server_key: (( .properties.bbs_server_cert.private_key_pem ))
          skip_consul_lock: true
          sql: (( .properties.system_database.selected_option.parsed_manifest(diegodb) ))
      enable_consul_service_registration: false
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_unix_epoch) ))
      loggregator:
        use_v2_api: true
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_client_cert.cert_pem ))
        key: (( .properties.loggregator_client_cert.private_key_pem ))
    name: bbs
    release: diego
  - manifest: |
      tls:
        ca_certificate: (( $ops_manager.ca_certificate ))
        certificate: (( .properties.bbs_client_cert.cert_pem ))
        private_key: (( .properties.bbs_client_cert.private_key_pem ))
    name: cfdot
    release: diego
  - manifest: |
      port: 7100
      health_port: 7101
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.leadership_election_metrics_tls.cert_pem ))
        key: (( .properties.leadership_election_metrics_tls.private_key_pem ))
        server_name: leadership_election_metrics
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.leadership_election_tls.cert_pem ))
        key: (( .properties.leadership_election_tls.private_key_pem ))
    name: leadership-election
    release: system-metrics-scraper
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_agent_metrics_tls.cert_pem ))
        key: (( .properties.loggregator_agent_metrics_tls.private_key_pem ))
        server_name: loggregator_agent_metrics
      grpc_port: 3459
      disable_udp: true
      disable_logs: (( .properties.disable_logs_in_firehose.value ))
      loggregator_agent:
        enabled: (( .properties.enable_v2_firehose.value ))
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
      health_port: 22222
    name: loggregator_agent
    release: loggregator-agent
  - manifest: |
      port: 3460
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.syslog_agent_metrics_tls.cert_pem ))
        key: (( .properties.syslog_agent_metrics_tls.private_key_pem ))
        server_name: syslog_agent_metrics
      cache:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: (( .properties.syslog_agent_api_tls.cert_pem ))
          key: (( .properties.syslog_agent_api_tls.private_key_pem ))
          cn: binding-cache
      aggregate_drains: syslog-tls://doppler.service.cf.internal:6067?include-metrics-deprecated=true,(( .properties.syslog_agent_aggregate_drains.value ))
      drain_ca_cert: (( $ops_manager.ca_certificate ))
    name: loggr-syslog-agent
    release: loggregator-agent
  - manifest: |
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_discovery_metrics_tls.cert_pem ))
        key: (( .properties.metrics_discovery_metrics_tls.private_key_pem ))
        server_name: metrics_discovery_metrics
      nats_client:
        cert: (( .properties.nats_client_cert.cert_pem ))
        key: (( .properties.nats_client_cert.private_key_pem ))
    name: metrics-discovery-registrar
    release: metrics-discovery
  - manifest: |
      metrics_exporter_port: 14726
      grpc:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_agent_metrics_tls.cert_pem ))
        key: (( .properties.metrics_agent_metrics_tls.private_key_pem ))
        server_name: metrics_agent_metrics
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
    name: metrics-agent
    release: metrics-discovery
  - manifest: |
      port: 3458
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.forwarder_agent_metrics_tls.cert_pem ))
        key: (( .properties.forwarder_agent_metrics_tls.private_key_pem ))
        server_name: forwarder_agent_metrics
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggr-forwarder-agent
    release: loggregator-agent
  - manifest: |-
      loggregator:
        tls:
          ca: (( $ops_manager.ca_certificate ))
          cert: (( .doppler.metron_tls_cert.cert_pem ))
          key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggr_udp_forwarder_tls.cert_pem ))
        key: (( .properties.loggr_udp_forwarder_tls.private_key_pem ))
        server_name: loggr_udp_forwarder_metrics
    name: loggr-udp-forwarder
    release: loggregator-agent
  - manifest: |-
      external_port: 9000
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.binding_cache_api_tls.cert_pem ))
        key: (( .properties.binding_cache_api_tls.private_key_pem ))
        cn: binding-cache
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggr_syslog_binding_cache_metrics_tls.cert_pem ))
        key: (( .properties.loggr_syslog_binding_cache_metrics_tls.private_key_pem ))
        server_name: loggr_syslog_binding_cache_metrics
      api:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: (( .properties.cloud_controller_client_cert.cert_pem ))
          key: (( .properties.cloud_controller_client_cert.private_key_pem ))
          cn: cloud-controller-ng.service.cf.internal
    name: loggr-syslog-binding-cache
    provides: |
      binding_cache: {as: binding_cache, shared: true}
    release: loggregator-agent
  - manifest: |-
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
          cn: prom_scraper
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: "((.properties.prom_scraper_metrics_tls.cert_pem))"
        key: "((.properties.prom_scraper_metrics_tls.private_key_pem))"
        server_name: prom_scraper_metrics
    name: prom_scraper
    release: loggregator-agent
  - manifest: |
      scrape_interval: "1m"
      scrape_port: 53035
      debug_port: 14920
      system_metrics:
        tls:
          ca_cert: "(( $ops_manager.ca_certificate ))"
          cert: "((.properties.system_metrics_tls_scraper_cert.cert_pem))"
          key: "((.properties.system_metrics_tls_scraper_cert.private_key_pem))"
      metrics:
        port: 14920
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggr_metric_scraper_metrics_tls.cert_pem ))
        key: (( .properties.loggr_metric_scraper_metrics_tls.private_key_pem ))
        server_name: loggr_metric_scraper_metrics
      leadership_election:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.leadership_election_tls.cert_pem ))
        key: (( .properties.leadership_election_tls.private_key_pem ))
    name: loggr-system-metric-scraper
    release: system-metrics-scraper
  - manifest: |
      bpm:
        enabled: true
      tls:
        key: (( .diego_database.locket_server_cert.private_key_pem ))
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .diego_database.locket_server_cert.cert_pem ))
      diego:
        locket:
          sql: (( .properties.system_database.selected_option.parsed_manifest(locketdb) ))
      database:
        max_open_connections: (( .properties.locket_database_max_open_connections.value ))
        tls:
          enable_identity_verification: (( .properties.system_database.selected_option.parsed_manifest(diego-enable-identity-verification) ))
      enable_consul_service_registration: false
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_unix_epoch) ))
      loggregator:
        use_v2_api: true
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_client_cert.cert_pem ))
        key: (( .properties.loggregator_client_cert.private_key_pem ))
    name: locket
    release: diego
  - manifest: |
      route_registrar:
        routes:
        - name: doppler
          tls_port: 8081
          registration_interval: 20s
          server_cert_domain_san: "doppler.service.cf.internal"
          uris:
          - "doppler.(( .cloud_controller.system_domain.value ))"
          - "*.doppler.(( .cloud_controller.system_domain.value ))"
        - name: uaa
          tls_port: 8443
          server_cert_domain_san: "uaa.service.cf.internal"
          registration_interval: 4s
          tags:
            component: uaa
          uris:
          - "uaa.(( .cloud_controller.system_domain.value ))"
          - "*.uaa.(( .cloud_controller.system_domain.value ))"
          - "login.(( .cloud_controller.system_domain.value ))"
          - "*.login.(( .cloud_controller.system_domain.value ))"
          health_check:
            name: uaa-healthcheck
            script_path: /var/vcap/jobs/uaa/bin/health_check
        - name: network-policy-server
          tls_port: 4002
          server_cert_domain_san: "network-policy-server.service.cf.internal"
          registration_interval: 20s
          tags:
            component: NetworkPolicyServer
          uris:
          - "api.(( .cloud_controller.system_domain.value ))/networking"
        - name: api
          server_cert_domain_san: "cloud-controller-ng.service.cf.internal"
          tls_port: 9024
          registration_interval: 20s
          tags:
            component: CloudController
          uris:
          - "api.(( .cloud_controller.system_domain.value ))"
          health_check:
            name: api-health-check
            script_path: "/var/vcap/jobs/cloud_controller_ng/bin/cloud_controller_ng_health_check"
            timeout: 6s
        - name: log-cache-reverse-proxy
          tls_port: 8083
          server_cert_domain_san: "log-cache.service.cf.internal"
          registration_interval: 20s
          uris:
          - "log-cache.(( .cloud_controller.system_domain.value ))"
        - name: rlp-gateway
          tls_port: 8088
          registration_interval: 20s
          server_cert_domain_san: "reverse-log-proxy.service.cf.internal"
          uris:
          - "log-stream.(( .cloud_controller.system_domain.value ))"
          - "*.log-stream.(( .cloud_controller.system_domain.value ))"
    name: route_registrar
    release: routing
  - consumes: |
      database: nil
    manifest: |
      database: (( .properties.system_database.selected_option.parsed_manifest(networkpolicyserverdb) ))
      max_open_connections: (( .properties.networkpolicyserver_database_max_open_connections.value ))
      debug_port: 22223
      enable_space_developer_self_service: (( .properties.cf_networking_enable_space_developer_self_service.value ))
      enable_tls: true
      server_cert: (( .properties.network_policy_server_external_cert.cert_pem ))
      server_key: (( .properties.network_policy_server_external_cert.private_key_pem ))
      skip_ssl_validation: (( .ha_proxy.skip_cert_verify.value ))
      uaa_ca: (( $ops_manager.ca_certificate ))
      uaa_client: (( .uaa.network_policy_server_client.identity ))
      uaa_client_secret: (( .uaa.network_policy_server_client.password ))
    name: policy-server
    release: cf-networking
  - manifest: |
      database:
        connect_timeout_seconds: (( .properties.cf_networking_database_connection_timeout.value ))
      max_open_connections: (( .properties.networkpolicyserverinternal_database_max_open_connections.value ))
      ca_cert: (( $ops_manager.ca_certificate ))
      server_cert: (( .properties.network_policy_server_cert.cert_pem ))
      server_key: (( .properties.network_policy_server_cert.private_key_pem ))
      enforce_experimental_dynamic_egress_policies: (( .properties.experimental_dynamic_egress_enforcement.value ))
    name: policy-server-internal
    release: cf-networking
  - name: bpm
    release: bpm
  - consumes: |
      database: nil
    manifest: |
      ca_cert: (( $ops_manager.ca_certificate ))
      database: (( .properties.system_database.selected_option.parsed_manifest(silkdb) ))
      disable: (( .properties.container_networking_interface_plugin.selected_option.parsed_manifest(disable_silk) ))
      network: (( .properties.container_networking_interface_plugin.silk.network_cidr.value || "10.255.0.0/16" ))
      server_cert: (( .diego_database.silk_controller_server_cert.cert_pem ))
      server_key: (( .diego_database.silk_controller_server_cert.private_key_pem ))
      max_open_connections: (( .properties.silk_database_max_open_connections.value ))
    name: silk-controller
    provides: |
      cf_network: {as: cf_network, shared: true}
    release: silk
  - manifest: |
      syslog: (( .properties.system_logging.selected_option.parsed_manifest(syslog) ))
    name: syslog_forwarder
    release: syslog
  - manifest: |
      bpm:
        enabled: true
      uaadb: (( .properties.uaa_database.selected_option.parsed_manifest(db_config) ))
      encryption:
        active_key_label: default_key
        encryption_keys:
          - label: default_key
            passphrase: (((uaa-default-encryption-passphrase)))
      login:
        notifications:
          url: https://notifications.(( .cloud_controller.system_domain.value ))
        saml:
          activeKeyId: key1
          serviceProviderKey: ''
          serviceProviderKeyPassword: ''
          providers: (( .properties.uaa.selected_option.parsed_manifest(saml_provider) ))
          signRequest: (( .properties.uaa.saml.sign_auth_requests.value ))
          signatureAlgorithm: (( .properties.saml_signature_algorithm.value ))
          entityid: (( .properties.saml_entity_id_override.value || .properties.uaa.selected_option.parsed_manifest(default_saml_entity_id) ))
          serviceProviderCertificate: ''
          wantAssertionSigned: (( .properties.uaa.saml.require_signed_assertions.value ))
          keys:
            key1:
              key: (( .uaa.service_provider_key_credentials.private_key_pem ))
              passphrase: (( .uaa.service_provider_key_password.value || "" ))
              certificate: (( .uaa.service_provider_key_credentials.cert_pem ))
        logout:
          redirect:
            parameter:
              disable: false
              whitelist:
              - https://console.(( .cloud_controller.system_domain.value ))/
              - https://apps.(( .cloud_controller.system_domain.value ))/
        self_service_links_enabled: (( .properties.uaa.selected_option.parsed_manifest(self_service_links_enabled) ))
        branding:
          company_name: (( .properties.push_apps_manager_company_name.value ))
          product_logo: (( .properties.push_apps_manager_logo.value || "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" ))
          square_logo: (( .properties.push_apps_manager_square_logo.value || "iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAABSlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgIFBQUGBgYSEhIWFhYYGBgZGRkaGhofHx8gICAsLCwuLi4zMzM0NDQ2NjY3Nzc4ODg8PDw9PT0+Pj5AQEBERERFRUVHR0dLS0tQUFBUVFRVVVVWVlZXV1dYWFhZWVlbW1tcXFxdXV1gYGBmZmZpaWltbW1ubm5vb29zc3N1dXV2dnZ6enp+fn6AgICBgYGFhYWGhoaIiIiJiYmRkZGSkpKampqbm5ucnJyhoaGioqKkpKSmpqapqamqqqqzs7O0tLS1tbW3t7e7u7u/v7/CwsLFxcXIyMjLy8vQ0NDR0dHU1NTV1dXW1tbX19fd3d3f39/h4eHm5ubm5ubo6Ojo6Ojr6+vs7Ozu7u7x8fHx8fH09PT09PT29vb4+Pj5+fn6+vr7+/v8/Pz9/f3+/v7+/v7///8WK6eIAAAAbHRSTlMEWVqWl5ioqKmprK2trq6vsLOztLW1tba3t7i4ubm6u7y9vb6+v7+/wMDBw8PFxcXGx8fJysrLzc3NztDR1NTU1tfX2NnZ3d7e3+Di4+Tl5+jp6+vr7O/w8fLz8/T19fb3+Pn6+/v8/P39/v549jpWAAAAAWJLR0RtuwYArQAAASRJREFUOMvt1EdTwmAYBODPmCyJgAZ7F7GjoiJiRVCKWIBYsaMIRmP2/189oM5wMZz0wp6fwzs776wQkoJfI0tCSHCMJBRnpAg0kCb6e6Rm0i4A/rwR8STOC4Hho4t0uzvsBXpCGhCYBgS8FmeBLpNkleTbO0ljh1moD1yHbr4CAjhhDsiwYLCyGLV5NXVAhljWxskzrLEICMBPy6ebHM0yD5S4hSFysMSJJE2rI8/t2uGXTMRoIMsc8MgNDJB9KSZvKnvcNO3OGlri8xODdah3jC88HmGZp18VqHdk0VWHunFLLuOejHz3FKYdBFI8BK65Ap/9oSPGqhv7rHh+ypyfAeCN6kD/qgYE54C2+ALg2Z1s/tO/INnZtDYyYi1CSLLjHH4CUQBZuqsfEWkAAAAASUVORK5CYII=" ))
          footer_legal_text: (( .properties.push_apps_manager_footer_text.value ))
        prompt:
          password:
            text: (( .uaa.customize_password_label.value ))
          username:
            text: (( .uaa.customize_username_label.value ))
      uaa:
        sslCertificate: (( .uaa.ssl_credentials.cert_pem ))
        ca_certs: (( .properties.uaa_database.selected_option.parsed_manifest(ca_certs) ))
        password:
          policy:
            requireUpperCaseCharacter: (( .properties.uaa.internal.password_min_uppercase.value ))
            requireLowerCaseCharacter: (( .properties.uaa.internal.password_min_lowercase.value ))
            requireDigit: (( .properties.uaa.internal.password_min_numeric.value ))
            requireSpecialCharacter: (( .properties.uaa.internal.password_min_special.value ))
            expirePasswordInMonths: (( .properties.uaa.internal.password_expires_after_months.value ))
            minLength: (( .properties.uaa.internal.password_min_length.value ))
        jwt:
          policy:
            active_key_id: key-1
            keys:
              key-1:
                signingKey: (( .uaa.jwt_signing_key_credentials.private_key_pem ))
        user:
          authorities:
          - openid
          - scim.me
          - cloud_controller.read
          - cloud_controller.write
          - cloud_controller_service_permissions.read
          - password.write
          - uaa.user
          - approvals.me
          - oauth.approvals
          - notification_preferences.read
          - notification_preferences.write
          - profile
          - roles
          - user_attributes
          - uaa.offline_token
          - actuator.read
          - cloud_controller.user
        url: https://uaa.(( .cloud_controller.system_domain.value ))
        catalina_opts: "-Xmx768m -XX:MaxPermSize=256m"
        ldap:
          sslCertificate: (( .properties.uaa.ldap.server_ssl_cert.value ))
          mailAttributeName: (( .properties.uaa.ldap.mail_attribute_name.value ))
          url: (( .properties.uaa.ldap.url.value ))
          searchBase: (( .properties.uaa.ldap.search_base.value ))
          searchFilter: (( .properties.uaa.ldap.search_filter.value ))
          enabled: (( .properties.uaa.ldap.url.value_present? ))
          emailDomain: (( .properties.uaa.ldap.email_domains.parsed_strings ))
          referral: (( .properties.uaa.ldap.ldap_referrals.value ))
          groups:
            profile_type: '(( .properties.uaa.ldap.group_search_base.value_present? ? "groups-map-to-scopes": "no-groups" ))'
            searchBase: (( .properties.uaa.ldap.group_search_base.value ))
            groupSearchFilter: (( .properties.uaa.ldap.group_search_filter.value ))
            maxSearchDepth: (( .properties.uaa.ldap.group_max_search_depth.value ))
          userDN: (( .properties.uaa.ldap.credentials.identity ))
          userPassword: (( .properties.uaa.ldap.credentials.password ))
        admin:
          client_secret: (( .uaa.admin_client_credentials.password ))
        log_level: INFO
        scim:
          groups:
            cloud_controller.admin_read_only: "Group that grants global read permissions for the Cloud Controller API"
            usage_service.audit: "View reports for the Usage Service"
          users:
          - name: (( .uaa.admin_credentials.identity ))
            password: (( .uaa.admin_credentials.password ))
            groups:
            - scim.write
            - scim.read
            - openid
            - cloud_controller.admin
            - dashboard.user
            - console.admin
            - console.support
            - doppler.firehose
            - healthwatch.read
            - healthwatch.admin
            - notification_preferences.read
            - notification_preferences.write
            - notifications.manage
            - notification_templates.read
            - notification_templates.write
            - emails.write
            - notifications.write
            - zones.read
            - zones.write
            - routing.router_groups.read
            - routing.router_groups.write
            - network.write
            - network.admin
            - credhub.read
            - credhub.write
          - name: (( .uaa.push_apps_manager_credentials.identity ))
            password: (( .uaa.push_apps_manager_credentials.password ))
            groups:
            - cloud_controller.admin
          - name: (( .uaa.run_smoke_tests_credentials.identity ))
            password: (( .uaa.run_smoke_tests_credentials.password ))
            groups:
            - cloud_controller.admin
          - name: (( .uaa.system_services_credentials.identity ))
            password: (( .uaa.system_services_credentials.password ))
            groups:
            - cloud_controller.admin
          - name: (( .uaa.system_verification_credentials.identity ))
            password: (( .uaa.system_verification_credentials.password ))
            groups:
            - scim.write
            - scim.read
            - openid
            - cloud_controller.admin
            - dashboard.user
            - console.admin
            - console.support
          - name: (( .uaa.logsearch_firehose_credentials.identity ))
            password: (( .uaa.logsearch_firehose_credentials.password ))
            groups:
            - cloud_controller.admin
            - doppler.firehose
          - name: (( .uaa.splunk_firehose_credentials.identity ))
            password: (( .uaa.splunk_firehose_credentials.password ))
            groups:
            - cloud_controller.admin
            - doppler.firehose
          - name: (( .uaa.stackdriver_nozzle_credentials.identity ))
            password: (( .uaa.stackdriver_nozzle_credentials.password ))
            groups:
            - cloud_controller.admin_read_only
            - doppler.firehose
        proxy_ips_regex: (( .uaa.proxy_ips_regex.value ))
        sslPrivateKey: (( .uaa.ssl_credentials.private_key_pem ))
        issuer: (( .uaa.issuer_uri.value ))
        zones:
          internal:
            hostnames:
            - uaa.service.cf.internal
        authentication:
          enable_uri_encoding_compatibility_mode: (( .uaa.enable_uri_encoding_compatibility_mode.value ))
          policy:
            lockoutAfterFailures: (( .properties.uaa.internal.password_max_retry.value ))
        clients:
          opentsdb-firehose-nozzle:
            access-token-validity: 1209600
            authorized-grant-types: authorization_code,client_credentials,refresh_token
            override: true
            secret: (( .uaa.opentsdb_nozzle_credentials.password ))
            scope: openid,oauth.approvals,doppler.firehose
            authorities: oauth.login,doppler.firehose
            redirect-uri: "https://apps.(( .cloud_controller.system_domain.value ))"
          identity:
            id: (( .uaa.identity_client_credentials.identity ))
            secret: (( .uaa.identity_client_credentials.password ))
            scope: "cloud_controller.admin,cloud_controller.read,cloud_controller.write,openid,zones.*.*,zones.*.*.*,zones.read,zones.write,scim.read"
            resource_ids: none
            override: true
            authorized-grant-types: "authorization_code,client_credentials,refresh_token"
            autoapprove: true
            authorities: "scim.zones,zones.read,uaa.resource,zones.write,cloud_controller.admin,uaa.admin"
            redirect-uri: "https://p-identity.(( .cloud_controller.system_domain.value ))/dashboard/,https://p-identity.(( .cloud_controller.system_domain.value ))/dashboard/**"
          login:
            id: (( .uaa.login_client_credentials.identity ))
            secret: (( .uaa.login_client_credentials.password ))
            override: true
            autoapprove: true
            authorities: "oauth.login,scim.write,clients.read,notifications.write,critical_notifications.write,emails.write,scim.userids,password.write"
            authorized-grant-types: "client_credentials,refresh_token"
            scope: "openid,oauth.approvals"
          apps_manager_js:
            name: "Apps Manager"
            override: true
            autoapprove:
              - cloud_controller.read
              - cloud_controller.write
              - cloud_controller.admin
              - cloud_controller.user
              - cloud_controller.admin_read_only
              - cloud_controller.global_auditor
              - doppler.firehose
              - actuator.read
              - openid
              - network.write
              - network.admin
              - usage_service.audit
            scope: cloud_controller.read,cloud_controller.write,cloud_controller.global_auditor,cloud_controller.admin,doppler.firehose,usage_service.audit,cloud_controller.user,actuator.read,cloud_controller.admin_read_only,openid,network.write,network.admin
            authorized-grant-types: implicit
            show-on-homepage: true
            app-launch-url: "https://apps.(( .cloud_controller.system_domain.value ))"
            access-token-validity: (( .uaa.apps_manager_access_token_lifetime.value ))
            redirect-uri: "https://apps.(( .cloud_controller.system_domain.value ))/**(( .properties.push_apps_manager_redirect_uris.value ? ',' : '' ))(( .properties.push_apps_manager_redirect_uris.value ))"
            app-icon: (( .properties.push_apps_manager_square_logo.value || "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" ))
          (( .uaa.push_usage_service_client_credentials.identity )):
            id: (( .uaa.push_usage_service_client_credentials.identity ))
            secret: (( .uaa.push_usage_service_client_credentials.password ))
            override: true
            authorities: "cloud_controller.admin"
            authorized-grant-types: client_credentials
          (( .uaa.usage_service_client_credentials.identity )):
            id: (( .uaa.usage_service_client_credentials.identity ))
            secret: (( .uaa.usage_service_client_credentials.password ))
            override: true
            authorities: "cloud_controller.read,uaa.resource,cloud_controller.admin"
            authorized-grant-types: client_credentials
          invitations:
            id: (( .uaa.invitations_client_credentials.identity ))
            secret: (( .uaa.invitations_client_credentials.password ))
            scope: uaa.none
            redirect-uri: "https://apps.(( .cloud_controller.system_domain.value ))/**"
            authorized-grant-types: client_credentials
            authorities: emails.write,cloud_controller.read,cloud_controller.write,uaa.resource,scim.invite,notifications.write,cloud_controller.admin
          cf:
            id: cf
            secret: ""
            override: true
            authorities: "uaa.none"
            authorized-grant-types: "password,refresh_token"
            scope: "cloud_controller.read,cloud_controller.write,cloud_controller.global_auditor,openid,password.write,cloud_controller.admin,scim.read,scim.write,doppler.firehose,uaa.user,routing.router_groups.read,routing.router_groups.write,cloud_controller.admin_read_only,network.admin,network.write,usage_service.audit"
            access-token-validity: (( .uaa.cf_cli_access_token_lifetime.value ))
            refresh-token-validity: (( .uaa.cf_cli_refresh_token_lifetime.value ))
          (( .uaa.network_policy_server_client.identity )):
            id: (( .uaa.network_policy_server_client.identity ))
            secret: (( .uaa.network_policy_server_client.password ))
            authorities: "uaa.resource,cloud_controller.admin_read_only"
            authorized-grant-types: client_credentials
          (( .uaa.autoscale_client_credentials.identity )):
            id: (( .uaa.autoscale_client_credentials.identity ))
            secret: (( .uaa.autoscale_client_credentials.password ))
            override: true
            autoapprove: true
            authorities: "uaa.resource,cloud_controller.write,cloud_controller.read,cloud_controller.admin,notifications.write,critical_notifications.write,emails.write,doppler.firehose"
            authorized-grant-types: "client_credentials,authorization_code,refresh_token"
            scope: "openid,cloud_controller.read,cloud_controller.write"
            access-token-validity: 3600
            redirect-uri: "https://autoscale.(( .cloud_controller.system_domain.value ))/sessions/create"
          (( .uaa.autoscale_api_client_credentials.identity )):
            id: (( .uaa.autoscale_api_client_credentials.identity ))
            secret: (( .uaa.autoscale_api_client_credentials.password ))
            override: true
            autoapprove: true
            authorities: "uaa.resource,cloud_controller.admin_read_only"
            authorized-grant-types: "client_credentials"
            access-token-validity: 3600
          (( .uaa.metric_registrar_credentials.identity )):
            id: (( .uaa.metric_registrar_credentials.identity ))
            secret: (( .uaa.metric_registrar_credentials.password ))
            override: true
            autoapprove: true
            authorities: cloud_controller.admin_read_only
            authorized-grant-types: client_credentials
          (( .uaa.metric_registrar_smoke_test_credentials.identity )):
            id: (( .uaa.metric_registrar_smoke_test_credentials.identity ))
            secret: (( .uaa.metric_registrar_smoke_test_credentials.password ))
            override: true
            autoapprove: true
            authorities: cloud_controller.admin
            authorized-grant-types: client_credentials
          system_passwords:
            id: (( .uaa.system_passwords_client_credentials.identity ))
            secret: (( .uaa.system_passwords_client_credentials.password ))
            override: true
            autoapprove: true
            authorities: "uaa.admin,scim.read,scim.write,password.write"
            authorized-grant-types: "client_credentials"
          cc-service-dashboards:
            id: (( .uaa.cc_service_dashboards_credentials.identity ))
            secret: (( .uaa.cc_service_dashboards_credentials.password ))
            override: true
            authorities: clients.read,clients.write,clients.admin
            authorized-grant-types: client_credentials
            scope: cloud_controller.write,openid,cloud_controller.read,cloud_controller_service_permissions.read
          cc_service_key_client:
            id: (( .uaa.cc_service_key_credentials.identity ))
            secret: (( .uaa.cc_service_key_credentials.password ))
            override: true
            authorities: credhub.read,credhub.write
            authorized-grant-types: client_credentials
          services_credhub_client:
            id: (( .uaa.services_credhub_credentials.identity ))
            secret: (( .uaa.services_credhub_credentials.password ))
            override: true
            authorities: credhub.read,credhub.write
            authorized-grant-types: client_credentials
          doppler:
            id: (( .uaa.doppler_client_credentials.identity ))
            secret: (( .uaa.doppler_client_credentials.password ))
            authorities: uaa.resource
            authorized-grant-types: client_credentials
          noisy_neighbor_nozzle:
            id: (( .uaa.noisy_neighbor_client_credentials.identity ))
            secret: (( .uaa.noisy_neighbor_client_credentials.password ))
            authorities: doppler.firehose,uaa.resource,cloud_controller.admin_read_only
            authorized-grant-types: client_credentials
            override: true
            scope: doppler.firehose
          gorouter:
            id: (( .uaa.gorouter_client_credentials.identity ))
            secret: (( .uaa.gorouter_client_credentials.password ))
            authorities: clients.read,clients.write,clients.admin,routing.routes.write,routing.routes.read
            authorized-grant-types: client_credentials,refresh_token
            scope: openid,cloud_controller_service_permissions.read
          notifications:
            id: notifications
            secret: (( .uaa.notifications_client_credentials.password ))
            authorities: cloud_controller.admin,scim.read,notifications.write,critical_notifications.write,emails.write
            authorized-grant-types: client_credentials
          notifications_template:
            id: (( .uaa.notifications_template_client_credentials.identity ))
            secret: (( .uaa.notifications_template_client_credentials.password ))
            scope: openid,clients.read,clients.write,clients.secret
            authorities: clients.read,clients.write,clients.secret,notification_templates.write,notification_templates.read,notifications.manage
            authorized-grant-types: client_credentials
          notifications_ui_client:
            id: notifications_ui_client
            secret: (( .uaa.notifications_ui_client_credentials.password ))
            scope: notification_preferences.read,notification_preferences.write,openid
            authorized-grant-types: authorization_code,client_credentials,refresh_token
            authorities: notification_preferences.admin
            autoapprove: true
            override: true
            redirect-uri: "https://notifications-ui.(( .cloud_controller.system_domain.value ))/sessions/create"
          cloud_controller_username_lookup:
            id: (( .uaa.cloud_controller_username_lookup_credentials.identity ))
            secret: (( .uaa.cloud_controller_username_lookup_credentials.password ))
            authorized-grant-types: client_credentials
            authorities: scim.userids
          (( .uaa.cc_routing_credentials.identity )):
            authorities: routing.router_groups.read
            authorized-grant-types: client_credentials
            secret: (( .uaa.cc_routing_credentials.password ))
          ssh-proxy:
            authorized-grant-types: authorization_code
            autoapprove: true
            override: true
            redirect-uri: "https://uaa.(( .cloud_controller.system_domain.value ))/login"
            scope: openid,cloud_controller.read,cloud_controller.write,cloud_controller.admin
            secret: (( .uaa.ssh_proxy_client_credentials.password ))
          apps_metrics:
            id: (( .uaa.apps_metrics_credentials.identity ))
            secret: (( .uaa.apps_metrics_credentials.password ))
            override: true
            autoapprove: true
            authorized-grant-types: authorization_code,refresh_token,client_credentials,password
            redirect-uri: "https://metrics.(( .cloud_controller.system_domain.value ))/**,https://metrics-previous.(( .cloud_controller.system_domain.value ))/**"
            authorities: uaa.resource
            scope: cloud_controller.admin,cloud_controller.read,metrics.read,cloud_controller.admin_read_only
            access-token-validity: 900
            refresh-token-validity: 2628000
          apps_metrics_processing:
            id: (( .uaa.apps_metrics_processing_credentials.identity ))
            secret: (( .uaa.apps_metrics_processing_credentials.password ))
            override: true
            authorized-grant-types: authorization_code,client_credentials,refresh_token
            authorities: oauth.login,doppler.firehose,cloud_controller.admin,uaa.resource
            scope: openid,oauth.approvals,doppler.firehose,cloud_controller.admin,cloud_controller.admin_read_only
            access-token-validity: 1209600
            redirect-uri: "https://metrics.(( .cloud_controller.system_domain.value )),https://metrics-previous.(( .cloud_controller.system_domain.value ))"
          catalyst:
            id: (( .uaa.catalyst_credentials.identity ))
            secret: (( .uaa.catalyst_credentials.password ))
            override: true
            authorized-grant-types: authorization_code
            autoapprove: true
            scope: uaa.user,cloud_controller.read,cloud_controller.admin_read_only,cloud_controller.admin,cloud_controller.global_auditor,logs.admin,doppler.firehose
            redirect-uri: "https://metrics.(( .cloud_controller.system_domain.value ))/**,https://appwatch.(( .cloud_controller.system_domain.value ))/**,https://appmetrics.(( .cloud_controller.system_domain.value ))/**,https://applogs.(( .cloud_controller.system_domain.value ))/**"
          healthwatch_ui:
            id: "(( .uaa.healthwatch_ui_credentials.identity ))"
            secret: "(( .uaa.healthwatch_ui_credentials.password ))"
            override: true
            authorized-grant-types: authorization_code,password,implicit,refresh_token
            authorities: uaa.resource
            scope: healthwatch.read,healthwatch.admin
            access-token-validity: 900
            redirect-uri: "https://healthwatch.(( .cloud_controller.system_domain.value ))"
            autoapprove: true
            refresh-token-validity: 2628000
          healthwatch_api_admin:
            id: "(( .uaa.healthwatch_api_admin_credentials.identity ))"
            secret: "(( .uaa.healthwatch_api_admin_credentials.password ))"
            override: true
            scope: healthwatch.admin
            authorized-grant-types: client_credentials,refresh_token
            authorities: healthwatch.admin
            access-token-validity: 3600
            autoapprove: true
          healthwatch_alerts:
            id: "(( .uaa.healthwatch_alerts_credentials.identity ))"
            secret: "(( .uaa.healthwatch_alerts_credentials.password ))"
            override: true
            scope: uaa.none
            authorized-grant-types: client_credentials
            authorities: notifications.write
            access-token-validity: 3600
            autoapprove: true
          healthwatch_firehose:
            id: "(( .uaa.healthwatch_firehose_credentials.identity ))"
            secret: "(( .uaa.healthwatch_firehose_credentials.password ))"
            authorized-grant-types: client_credentials,refresh_token
            authorities: oauth.login,doppler.firehose,cloud_controller.read,uaa.resource,cloud_controller.admin
            scope: openid,oauth.approvals,doppler.firehose,cloud_controller.admin
            access-token-validity: 3600
          tcp_router:
            id: (( .uaa.tcp_router_credentials.identity ))
            secret: (( .uaa.tcp_router_credentials.password ))
            override: true
            authorized-grant-types: client_credentials,refresh_token
            authorities: routing.routes.read,routing.router_groups.read
            scope: routing.routes.read,routing.router_groups.read
            access-token-validity: 1209600
          tcp_emitter:
            id: (( .uaa.tcp_emitter_credentials.identity ))
            secret: (( .uaa.tcp_emitter_credentials.password ))
            override: true
            authorized-grant-types: client_credentials,refresh_token
            authorities: routing.routes.write,routing.routes.read,routing.router_groups.read
            scope: routing.routes.write,routing.routes.read,routing.router_groups.read
            access-token-validity: 1209600
          concourse_atc:
            id: (( .uaa.concourse_atc_client_credentials.identity ))
            secret: (( .uaa.concourse_atc_client_credentials.password ))
            scope: cloud_controller.read
            authorities: cloud_controller.admin
            authorized-grant-types: "authorization_code,client_credentials,refresh_token"
            access-token-validity: 3600
            refresh-token-validity: 3600
            autoapprove: true
            override: true
            redirect-uri: "https://p-concourse.(( .cloud_controller.system_domain.value ))/auth/uaa/callback"
          push-notifications-dashboard:
            id: (( .uaa.push_notifications_dashboard_client.identity ))
            secret: (( .uaa.push_notifications_dashboard_client.password ))
            scope: cloud_controller.read,cloud_controller.write,openid
            authorities: scim.read
            authorized-grant-types: "refresh_token,client_credentials,authorization_code"
            access-token-validity: 3600
            autoapprove: true
            redirect-uri: "https://push.(( .cloud_controller.system_domain.value ))/auth/cloudfoundry/callback"
          push-api:
            id: (( .uaa.push_api_client.identity ))
            secret: (( .uaa.push_api_client.password ))
            scope: uaa.none
            authorities: uaa.resource
            authorized-grant-types: client_credentials
          solace_router:
            id: (( .uaa.solace_router_client_credentials.identity ))
            secret: (( .uaa.solace_router_client_credentials.password ))
            scope: "uaa.none"
            authorities: "routing.routes.read,routing.routes.write,routing.router_groups.read,cloud_controller.read,cloud_controller.write,cloud_controller.admin"
            authorized-grant-types: "refresh_token,client_credentials"
          greenplum_broker:
            id: (( .uaa.greenplum_broker_client_credentials.identity ))
            secret: (( .uaa.greenplum_broker_client_credentials.password ))
            scope: "uaa.none"
            authorities: "cloud_controller.read"
            authorized-grant-types: "refresh_token,client_credentials"
          greenplum_router_admin:
            id: (( .uaa.greenplum_router_admin_client_credentials.identity ))
            secret: (( .uaa.greenplum_router_admin_client_credentials.password ))
            scope: "uaa.none"
            authorities: "cloud_controller.admin,routing.router_groups.read"
            authorized-grant-types: "refresh_token,client_credentials"
          greenplum_router:
            id: (( .uaa.greenplum_router_client_credentials.identity ))
            secret: (( .uaa.greenplum_router_client_credentials.password ))
            scope: "uaa.none"
            authorities: "routing.routes.write"
            authorized-grant-types: "refresh_token,client_credentials"
          cloudcache_broker:
            id: (( .uaa.cloudcache_broker_client_credentials.identity ))
            secret: (( .uaa.cloudcache_broker_client_credentials.password ))
            scope: "uaa.none"
            authorities: "cloud_controller.admin,zones.write,zones.read,zones.pcc.admin"
            authorized-grant-types: "refresh_token,client_credentials"
          dedicated-mysql-notifications:
            id: (( .uaa.dedicated_mysql_notifications_client_credentials.identity ))
            secret: (( .uaa.dedicated_mysql_notifications_client_credentials.password ))
            scope: "uaa.none"
            authorities: "notifications.write"
            authorized-grant-types: "client_credentials"
          container-networking-interface:
            id: (( .uaa.container_networking_interface_client_credentials.identity ))
            secret: (( .uaa.container_networking_interface_client_credentials.password ))
            authorities: uaa.resource,cloud_controller.global_auditor
            authorized-grant-types: client_credentials
          credhub_cli:
            id: credhub_cli
            secret: ""
            scope: credhub.read,credhub.write
            authorities: uaa.resource
            authorized-grant-types: password,refresh_token
            access-token-validity: 120
            override: true
            refresh-token-validity: 3600
          credhub_admin_client:
            id: (( .uaa.credhub_admin_client_client_credentials.identity ))
            secret: (( .uaa.credhub_admin_client_client_credentials.password ))
            authorities: credhub.read,credhub.write
            authorized-grant-types: client_credentials
          tile_installer:
            id: (( .uaa.tile_installer_client_credentials.identity ))
            secret: (( .uaa.tile_installer_client_credentials.password ))
            override: true
            autoapprove: true
            authorities: cloud_controller.admin,clients.admin,credhub.read,credhub.write
            authorized-grant-types: client_credentials
            access-token-validity: 3600
          (( .uaa.nfsbroker_credhub_client_credentials.identity )):
            id: (( .uaa.nfsbroker_credhub_client_credentials.identity ))
            authorities: credhub.read,credhub.write
            authorized-grant-types: client_credentials
            secret: (( .uaa.nfsbroker_credhub_client_credentials.password ))
          (( .uaa.smbbroker_client_credentials.identity )):
            id: (( .uaa.smbbroker_client_credentials.identity ))
            authorities: cloud_controller.admin
            authorized-grant-types: client_credentials
            secret: (( .uaa.smbbroker_client_credentials.password ))
          (( .uaa.smbbroker_credhub_client_credentials.identity )):
            id: (( .uaa.smbbroker_credhub_client_credentials.identity ))
            authorities: credhub.read,credhub.write
            authorized-grant-types: client_credentials
            secret: (( .uaa.smbbroker_credhub_client_credentials.password ))
          (( .uaa.telemetry_usage_service_client_credentials.identity )):
            id: (( .uaa.telemetry_usage_service_client_credentials.identity ))
            secret: (( .uaa.telemetry_usage_service_client_credentials.password ))
            authorities: "usage_service.audit"
            authorized-grant-types: "client_credentials"
        servlet:
          session-cookie:
            max-age: (( .properties.uaa_session_cookie_max_age.value ))
          idle-timeout: (( .properties.uaa_session_idle_timeout.value ))
    name: uaa
    release: uaa
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          statsd_injector:
            cert: (( .loggregator_trafficcontroller.statsdinjector_tls_cert.cert_pem ))
            key: (( .loggregator_trafficcontroller.statsdinjector_tls_cert.private_key_pem ))
    name: statsd_injector
    release: statsd-injector
  - name: go-buildpack
    release: go-offline-buildpack
  - name: binary-buildpack
    release: binary-offline-buildpack
  - name: nginx-buildpack
    release: nginx-offline-buildpack
  - name: nodejs-buildpack
    release: nodejs-offline-buildpack
  - name: ruby-buildpack
    release: ruby-offline-buildpack
  - name: php-buildpack
    release: php-offline-buildpack
  - name: r-buildpack
    release: r-offline-buildpack
  - name: python-buildpack
    release: python-offline-buildpack
  - name: java-buildpack
    release: java-offline-buildpack
  - name: staticfile-buildpack
    release: staticfile-offline-buildpack
  - name: dotnet-core-buildpack
    release: dotnet-core-offline-buildpack
  - _hack: null
    manifest: |
      name: "Small Footprint VMware Tanzu Application Service"
      build: "2.11.0-build.75"
      # $v is defined higher up
      description: https://docs.pivotal.io/pivotalcf/2-11/pcf-release-notes/runtime-rn.html
      uaa:
        url: https://uaa.(( .cloud_controller.system_domain.value ))
        clients:
          cc-service-dashboards:
            scope: cloud_controller.write,openid,cloud_controller.read,cloud_controller_service_permissions.read
            secret: (( .uaa.cc_service_dashboards_credentials.password ))
          cc_service_key_client:
            secret: (( .uaa.cc_service_key_credentials.password ))
          cloud_controller_username_lookup:
            secret: (( .uaa.cloud_controller_username_lookup_credentials.password ))
          cc_routing:
            secret: (( .uaa.cc_routing_credentials.password ))
        ca_cert: (( $ops_manager.ca_certificate ))
      dea_next:
        staging_disk_limit_mb: 6144
      app_domains:
      - (( .cloud_controller.apps_domain.value ))
      - (( .properties.istio.selected_option.parsed_manifest(ingress_istio_domain) ))
      - (( .properties.cf_networking_internal_domains.parsed_manifest(for_cloud_controller_ng) ))
      login:
        url: https://login.(( .cloud_controller.system_domain.value ))
      domain: (( .cloud_controller.system_domain.value ))
      ccdb: (( .properties.system_database.selected_option.parsed_manifest(ccdb) ))
      copilot:
        enabled: (( .properties.istio.selected_option.parsed_manifest(capi_enabled) ))
        host: "copilot.service.cf.internal"
        port: 9001
        client_ca_file: (( $ops_manager.ca_certificate ))
        client_chain_file: (( .properties.copilot_client_cert.cert_pem ))
        client_key_file: (( .properties.copilot_client_cert.private_key_pem ))
        temporary_istio_domains:
        - (( .properties.istio.selected_option.parsed_manifest(ingress_istio_domain) ))
      cc:
        temporary_use_logcache: true
        logcache:
          port: 8090
        logcache_tls:
          private_key: (( .properties.cloud_controller_logcache_tls_cert.private_key_pem ))
          certificate: (( .properties.cloud_controller_logcache_tls_cert.cert_pem ))
        temporary_disable_deployments: (( .properties.cloud_controller_temporary_disable_deployments.value ))
        default_health_check_timeout: (( .properties.cloud_controller_default_health_check_timeout.value ))
        logging_level: (( .properties.cc_logging_level.value ))
        buildpacks: '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(ccbuildpack_iam) : .properties.system_blobstore.selected_option.parsed_manifest(ccbuildpack) ))'
        droplets: '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(ccdroplet_iam) : .properties.system_blobstore.selected_option.parsed_manifest(ccdroplet) ))'
        packages:  '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(ccpackage_iam) : .properties.system_blobstore.selected_option.parsed_manifest(ccpackage) ))'
        resource_pool:  '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(ccresource_iam) : .properties.system_blobstore.selected_option.parsed_manifest(ccresource) ))'
        rate_limiter: (( .properties.cc_api_rate_limit.selected_option.parsed_manifest(rate_limiter) ))
        disable_custom_buildpacks: "(( .cloud_controller.enable_custom_buildpacks.value ? 'false' : 'true' ))"
        mutual_tls:
          private_key: (( .properties.cloud_controller_mutual_cert.private_key_pem ))
          ca_cert: (( $ops_manager.ca_certificate ))
          public_cert: (( .properties.cloud_controller_mutual_cert.cert_pem ))
        public_tls:
          private_key: (( .properties.cloud_controller_public_tls_cert.private_key_pem ))
          ca_cert: (( $ops_manager.ca_certificate ))
          certificate: (( .properties.cloud_controller_public_tls_cert.cert_pem ))
        stacks:
        - name: cflinuxfs3
          description: Cloud Foundry Linux-based filesystem - Ubuntu Bionic 18.04 LTS
        - name: windows2012R2
          description: Microsoft Windows / .Net 64 bit
        - name: windows2016
          description: Microsoft Windows 2016
        - name: windows
          description: Windows Server
        default_stack: cflinuxfs3
        min_cli_version: 6.23.0
        bulk_api_password: ((( cloud-controller-bulk-api-credentials.password )))
        default_running_security_groups:
        - default_security_group
        allow_app_ssh_access: (( .cloud_controller.allow_app_ssh_access.value ))
        default_app_disk_in_mb: (( .cloud_controller.default_disk_quota_app.value ))
        app_bits_max_body_size: "(( .cloud_controller.max_file_size.value ))M"
        db_encryption_key: (( .cloud_controller.encrypt_key.value || .cloud_controller.db_encryption_credentials.password ))
        database_encryption:
          keys: (( .properties.cloud_controller_encryption_keys.parsed_manifest(keys) ))
        maximum_health_check_timeout: 600
        security_group_definitions:
        - name: default_security_group
          rules:
          - protocol: all
            destination: 0.0.0.0-169.253.255.255
          - protocol: all
            destination: 169.255.0.0-255.255.255.255
        default_app_ssh_access: (( .cloud_controller.default_app_ssh_access.value ))
        min_recommended_cli_version: 6.23.0
        security_event_logging:
          enabled: (( .cloud_controller.security_event_logging_enabled.value ))
        install_buildpacks:
        - name: staticfile_buildpack
          package: staticfile-buildpack-cflinuxfs3
        - name: java_buildpack_offline
          package: java-buildpack-cflinuxfs3
        - name: ruby_buildpack
          package: ruby-buildpack-cflinuxfs3
        - name: nginx_buildpack
          package: nginx-buildpack-cflinuxfs3
        - name: nodejs_buildpack
          package: nodejs-buildpack-cflinuxfs3
        - name: go_buildpack
          package: go-buildpack-cflinuxfs3
        - name: r_buildpack
          package: r-buildpack-cflinuxfs3
        - name: python_buildpack
          package: python-buildpack-cflinuxfs3
        - name: php_buildpack
          package: php-buildpack-cflinuxfs3
        - name: dotnet_core_buildpack
          package: dotnet-core-buildpack-cflinuxfs3
        - name: binary_buildpack
          package: binary-buildpack-cflinuxfs3
        - name: binary_buildpack
          package: binary-buildpack-windows2012R2
        - name: binary_buildpack
          package: binary-buildpack-windows2016
        - name: binary_buildpack
          package: binary-buildpack-windows
        broker_client_default_async_poll_interval_seconds: 10
        diego:
          docker_staging_stack: cflinuxfs3
          file_server_url: http://file-server.service.cf.internal:8084
          insecure_docker_registry_list: (( .diego_cell.insecure_docker_registry_list.parsed_strings ))
          pid_limit: 0
          temporary_cc_uploader_mtls: true
          temporary_droplet_download_mtls: true
          temporary_local_apps: true
          temporary_local_staging: true
          temporary_local_sync: true
          temporary_local_tasks: true
          temporary_local_tps: true
        allowed_cors_domains:
        - https://apm.(( .cloud_controller.system_domain.value ))
        - https://metrics.(( .cloud_controller.system_domain.value ))
        maximum_app_disk_in_mb: (( .cloud_controller.max_disk_quota_app.value ))
        default_app_memory: (( .cloud_controller.default_app_memory.value ))
        internal_api_user: ((( cloud-controller-internal-api-user-credentials.username )))
        internal_api_password: ((( cloud-controller-internal-api-user-credentials.password )))
        staging_upload_user: ((( cloud-controller-staging-upload-credentials.username )))
        staging_upload_password: ((( cloud-controller-staging-upload-credentials.password )))
        volume_services_enabled: true
        default_staging_security_groups:
        - default_security_group
        quota_definitions:
          default:
            memory_limit: (( .cloud_controller.default_quota_memory_limit_mb.value ))
            total_services: (( .cloud_controller.default_quota_max_number_services.value ))
            non_basic_services_allowed: true
            total_routes: 1000
            trial_db_allowed: true
          runaway:
            memory_limit: 102400
            total_services: -1
            total_routes: 1000
            non_basic_services_allowed: true
        server_keepalive_timeout: 0
        staging_timeout_in_seconds: (( .cloud_controller.staging_timeout_in_seconds.value ))
      credhub_api:
        ca_cert: (( $ops_manager.ca_certificate ))
      support_address: https://support.pivotal.io
      routing_api:
        enabled: true
      hm9000:
        port: 12345
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
      doppler:
        port: (( .properties.logger_endpoint_port.value ))
      router:
        route_services_secret: (( .properties.route_services.selected_option.parsed_manifest(secret) ))
      app_ssh:
        host_key_fingerprint: (( .diego_brain.ssh_host_key.public_key_fingerprint ))
      release_level_backup: true
      system_domain: (( .cloud_controller.system_domain.value ))
      system_domain_organization: system
    name: cloud_controller_ng
    provides: |
      cloud_controller: {as: cloud_controller, shared: true}
      cloud_controller_container_networking_info: {as: cloud_controller_container_networking_info, shared: true}
    release: capi
  - manifest: |
      release_level_backup: true
      uaa:
        tls_port: 8443
        ca_cert: (( $ops_manager.ca_certificate ))
      routing_api:
        log_level: debug
        enable_api_endpoints: "both"
        mtls_ca: (( $ops_manager.ca_certificate ))
        mtls_server_cert: (( .properties.routing_api_server_cert.cert_pem ))
        mtls_server_key: (( .properties.routing_api_server_cert.private_key_pem ))
        mtls_client_cert: (( .properties.routing_api_client_cert.cert_pem ))
        mtls_client_key: (( .properties.routing_api_client_cert.private_key_pem ))
        router_groups: (( .properties.tcp_routing.selected_option.parsed_manifest(default_router_group) ))
        skip_consul_lock: true
        system_domain: (( .cloud_controller.system_domain.value ))
        sqldb: (( .properties.system_database.selected_option.parsed_manifest(routingdb) ))
        debug_address: "127.0.0.1:17003"
        locket:
          api_location: locket.service.cf.internal:8891
          ca_cert: (( $ops_manager.ca_certificate ))
          client_cert: (( .cloud_controller.locket_client_cert.cert_pem ))
          client_key: (( .cloud_controller.locket_client_cert.private_key_pem ))
    name: routing-api
    provides: |
      routing_api: {as: routing_api, shared: true}
    release: routing
  - manifest: |
      ccdb: (( .properties.system_database.selected_option.parsed_manifest(ccdb) ))
      system_domain_organization: system
      app_domains:
      - (( .cloud_controller.apps_domain.value ))
      uaa:
        url: https://uaa.(( .cloud_controller.system_domain.value ))
        clients:
          cc-service-dashboards:
            secret: (( .uaa.cc_service_dashboards_credentials.password ))
          cc_routing:
            secret: (( .uaa.cc_routing_credentials.password ))
        ca_cert: (( $ops_manager.ca_certificate ))
      system_domain: (( .cloud_controller.system_domain.value ))
      cc:
        logging_level: (( .properties.cc_logging_level.value ))
        default_health_check_timeout: (( .properties.cloud_controller_default_health_check_timeout.value ))
        buildpacks: '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(ccbuildpack_iam) : .properties.system_blobstore.selected_option.parsed_manifest(ccbuildpack) ))'
        droplets: '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(ccdroplet_iam) : .properties.system_blobstore.selected_option.parsed_manifest(ccdroplet) ))'
        packages:  '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(ccpackage_iam) : .properties.system_blobstore.selected_option.parsed_manifest(ccpackage) ))'
        resource_pool:  '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(ccresource_iam) : .properties.system_blobstore.selected_option.parsed_manifest(ccresource) ))'
        default_running_security_groups:
        - default_security_group
        db_encryption_key: (( .cloud_controller.encrypt_key.value || .cloud_controller.db_encryption_credentials.password ))
        database_encryption:
          keys: (( .properties.cloud_controller_encryption_keys.parsed_manifest(keys) ))
        mutual_tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          public_cert: (( .properties.cloud_controller_mutual_cert.cert_pem ))
          private_key: (( .properties.cloud_controller_mutual_cert.private_key_pem ))
        internal_api_user: ((( cloud-controller-internal-api-user-credentials.username )))
        internal_api_password: ((( cloud-controller-internal-api-user-credentials.password )))
        staging_upload_user: ((( cloud-controller-staging-upload-credentials.username )))
        staging_upload_password: ((( cloud-controller-staging-upload-credentials.password )))
        default_staging_security_groups:
        - default_security_group
        allow_app_ssh_access: (( .cloud_controller.allow_app_ssh_access.value ))
        maximum_health_check_timeout: 600
        completed_tasks:
          cutoff_age_in_days: (( .properties.cloud_controller_completed_tasks_cutoff_age_in_days.value ))
        security_group_definitions:
        - name: default_security_group
          rules:
          - protocol: all
            destination: 0.0.0.0-169.253.255.255
          - protocol: all
            destination: 169.255.0.0-255.255.255.255
        bulk_api_password: ((( cloud-controller-bulk-api-credentials.password )))
        maximum_app_disk_in_mb: (( .cloud_controller.max_disk_quota_app.value ))
        quota_definitions:
          default:
            memory_limit: (( .cloud_controller.default_quota_memory_limit_mb.value ))
            total_services: (( .cloud_controller.default_quota_max_number_services.value ))
            non_basic_services_allowed: true
            total_routes: 1000
            trial_db_allowed: true
          runaway:
            memory_limit: 102400
            total_services: -1
            total_routes: 1000
            non_basic_services_allowed: true
        diego:
          file_server_url: http://file-server.service.cf.internal:8084
          insecure_docker_registry_list: (( .diego_cell.insecure_docker_registry_list.parsed_strings ))
          pid_limit: 0
          temporary_cc_uploader_mtls: true
          temporary_droplet_download_mtls: true
          temporary_local_apps: true
          temporary_local_staging: true
          temporary_local_sync: true
          temporary_local_tasks: true
          temporary_local_tps: true
        staging_timeout_in_seconds: (( .cloud_controller.staging_timeout_in_seconds.value ))
      credhub_api:
        ca_cert: (( $ops_manager.ca_certificate ))
      login:
        url: https://login.(( .cloud_controller.system_domain.value ))
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
      routing_api:
        enabled: true
      hm9000:
        port: 12345
      release_level_backup: true
    name: cloud_controller_clock
    release: capi
  - manifest: |
      ccdb: (( .properties.system_database.selected_option.parsed_manifest(ccdb) ))
      cc:
        logging_level: (( .properties.cc_logging_level.value ))
        default_health_check_timeout: (( .properties.cloud_controller_default_health_check_timeout.value ))
        buildpacks: '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(ccbuildpack_iam) : .properties.system_blobstore.selected_option.parsed_manifest(ccbuildpack) ))'
        droplets: '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(ccdroplet_iam) : .properties.system_blobstore.selected_option.parsed_manifest(ccdroplet) ))'
        packages:  '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(ccpackage_iam) : .properties.system_blobstore.selected_option.parsed_manifest(ccpackage) ))'
        resource_pool:  '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(ccresource_iam) : .properties.system_blobstore.selected_option.parsed_manifest(ccresource) ))'
        bulk_api_password: ((( cloud-controller-bulk-api-credentials.password )))
        db_encryption_key: (( .cloud_controller.encrypt_key.value || .cloud_controller.db_encryption_credentials.password ))
        database_encryption:
          keys: (( .properties.cloud_controller_encryption_keys.parsed_manifest(keys) ))
        allow_app_ssh_access: (( .cloud_controller.allow_app_ssh_access.value ))
        internal_api_user: ((( cloud-controller-internal-api-user-credentials.username )))
        internal_api_password: ((( cloud-controller-internal-api-user-credentials.password )))
        staging_upload_user: ((( cloud-controller-staging-upload-credentials.username )))
        staging_upload_password: ((( cloud-controller-staging-upload-credentials.password )))
        perform_blob_cleanup: true
        default_running_security_groups:
        - default_security_group
        maximum_health_check_timeout: 600
        mutual_tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          public_cert: (( .properties.cloud_controller_mutual_cert.cert_pem ))
          private_key: (( .properties.cloud_controller_mutual_cert.private_key_pem ))
        security_group_definitions:
        - name: default_security_group
          rules:
          - protocol: all
            destination: 0.0.0.0-169.253.255.255
          - protocol: all
            destination: 169.255.0.0-255.255.255.255
        default_staging_security_groups:
        - default_security_group
        default_app_ssh_access: (( .cloud_controller.default_app_ssh_access.value ))
        maximum_app_disk_in_mb: (( .cloud_controller.max_disk_quota_app.value ))
        quota_definitions:
          default:
            memory_limit: (( .cloud_controller.default_quota_memory_limit_mb.value ))
            total_services: (( .cloud_controller.default_quota_max_number_services.value ))
            non_basic_services_allowed: true
            total_routes: 1000
            trial_db_allowed: true
          runaway:
            memory_limit: 102400
            total_services: -1
            total_routes: 1000
            non_basic_services_allowed: true
        diego:
          file_server_url: http://file-server.service.cf.internal:8084
          insecure_docker_registry_list: (( .diego_cell.insecure_docker_registry_list.parsed_strings ))
          pid_limit: 0
          temporary_cc_uploader_mtls: true
          temporary_droplet_download_mtls: true
          temporary_local_apps: true
          temporary_local_staging: true
          temporary_local_sync: true
          temporary_local_tasks: true
          temporary_local_tps: true
        staging_timeout_in_seconds: (( .cloud_controller.staging_timeout_in_seconds.value ))
      uaa:
        url: https://uaa.(( .cloud_controller.system_domain.value ))
        clients:
          cc-service-dashboards:
            secret: (( .uaa.cc_service_dashboards_credentials.password ))
          cc_routing:
            secret: (( .uaa.cc_routing_credentials.password ))
        ca_cert: (( $ops_manager.ca_certificate ))
      login:
        url: https://login.(( .cloud_controller.system_domain.value ))
      app_domains:
      - (( .cloud_controller.apps_domain.value ))
      hm9000:
        port: 12345
      system_domain: (( .cloud_controller.system_domain.value ))
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
      routing_api:
        enabled: true
      domain: (( .cloud_controller.system_domain.value ))
      release_level_backup: true
    name: cloud_controller_worker
    release: capi
  - manifest: '{}'
    name: rotate_cc_database_key
    release: capi
  - manifest: |
      ccdb: (( .properties.system_database.selected_option.parsed_manifest(ccdb) ))
      cc:
        db_encryption_key: (( .cloud_controller.encrypt_key.value || .cloud_controller.db_encryption_credentials.password ))
        database_encryption:
          keys: (( .properties.cloud_controller_encryption_keys.parsed_manifest(keys) ))
        mutual_tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          public_cert: (( .properties.cloud_controller_mutual_cert.cert_pem ))
          private_key: (( .properties.cloud_controller_mutual_cert.private_key_pem ))
        temporary_disable_deployments: (( .properties.cloud_controller_temporary_disable_deployments.value ))
        maximum_app_disk_in_mb: (( .cloud_controller.max_disk_quota_app.value ))
      release_level_backup: true
    name: cc_deployment_updater
    release: capi
  - manifest: |
      bpm:
        enabled: true
      diego:
        auctioneer:
          skip_consul_lock: true
          starting_container_count_maximum: (( .diego_brain.starting_container_count_maximum.value ))
          ca_cert: (( $ops_manager.ca_certificate ))
          server_cert: (( .properties.auctioneer_server_cert.cert_pem ))
          server_key: (( .properties.auctioneer_server_cert.private_key_pem ))
          bbs:
            client_cert: (( .properties.bbs_client_cert.cert_pem ))
            client_key: (( .properties.bbs_client_cert.private_key_pem ))
            ca_cert: (( $ops_manager.ca_certificate ))
          rep:
            client_cert: (( .properties.rep_client_cert.cert_pem ))
            client_key: (( .properties.rep_client_cert.private_key_pem ))
            ca_cert: (( $ops_manager.ca_certificate ))
      enable_consul_service_registration: false
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_unix_epoch) ))
      loggregator:
        use_v2_api: true
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_client_cert.cert_pem ))
        key: (( .properties.loggregator_client_cert.private_key_pem ))
    name: auctioneer
    release: diego
  - manifest: |
      capi:
        cc_uploader:
          debug_port: 17019
          mutual_tls:
            ca_cert: (( $ops_manager.ca_certificate ))
            server_cert: (( .diego_brain.cc_uploader_server_cert.cert_pem ))
            server_key: (( .diego_brain.cc_uploader_server_cert.private_key_pem ))
          cc:
            job_polling_interval_in_seconds: 5
            ca_cert: (( $ops_manager.ca_certificate ))
            client_cert: (( .properties.cloud_controller_client_cert.cert_pem ))
            client_key: (( .properties.cloud_controller_client_cert.private_key_pem ))
    name: cc_uploader
    release: capi
  - manifest: |
      bpm:
        enabled: true
      diego:
        file_server:
          listen_addr: 0.0.0.0:8084
      enable_consul_service_registration: false
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_unix_epoch) ))
      loggregator:
        use_v2_api: true
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_client_cert.cert_pem ))
        key: (( .properties.loggregator_client_cert.private_key_pem ))
      https_server_enabled: true
      https_listen_addr: 0.0.0.0:8447
      https_url: https://file-server.service.cf.internal:8447
      tls:
        cert: (( .properties.file_server_cert.cert_pem ))
        key: (( .properties.file_server_cert.private_key_pem ))
    name: file_server
    release: diego
  - manifest: |
      bpm:
        enabled: true
      connect_to_instance_address: (( .properties.container_networking_interface_plugin.selected_option.parsed_manifest(use_container_address) ))
      backends:
        tls:
          enabled: true
          ca_certificates:
          - ((( diego-instance-identity-intermediate-ca-2-7.ca )))
          client_certificate: (( .properties.ssh_proxy_backends_tls.cert_pem ))
          client_private_key: (( .properties.ssh_proxy_backends_tls.private_key_pem ))
      diego:
        ssh_proxy:
          disable_healthcheck_server: true
          bbs:
            ca_cert: (( $ops_manager.ca_certificate ))
            client_cert: (( .properties.bbs_client_cert.cert_pem ))
            client_key: (( .properties.bbs_client_cert.private_key_pem ))
          enable_cf_auth: true
          host_key: (( .diego_brain.ssh_host_key.private_key_pem ))
          uaa:
            ca_cert: (( $ops_manager.ca_certificate ))
          uaa_secret: (( .uaa.ssh_proxy_client_credentials.password ))
        ssl:
          skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
      enable_consul_service_registration: false
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_unix_epoch) ))
      loggregator:
        use_v2_api: true
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_client_cert.cert_pem ))
        key: (( .properties.loggregator_client_cert.private_key_pem ))
    name: ssh_proxy
    release: diego
  - manifest: |
      capi:
        tps:
          bbs:
            ca_cert: (( $ops_manager.ca_certificate ))
            client_cert: (( .properties.bbs_client_cert.cert_pem ))
            client_key: (( .properties.bbs_client_cert.private_key_pem ))
          cc:
            client_cert: (( .properties.tps_client_cert.cert_pem ))
            client_key: (( .properties.tps_client_cert.private_key_pem ))
            ca_cert: (( $ops_manager.ca_certificate ))
          watcher:
            locket:
              api_location: locket.service.cf.internal:8891
            skip_consul_lock: true
          listener_enabled: false
      diego:
        ssl:
          skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
      release_level_backup: true
    name: tps
    release: capi
  - manifest: |
      traffic_controller:
        enabled: (( .properties.enable_v1_firehose.value ))
      system_domain: (( .cloud_controller.system_domain.value ))
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
      cc:
        internal_service_hostname: cloud-controller-ng.service.cf.internal
        mutual_tls:
          ca_cert: (( $ops_manager.ca_certificate ))
        tls_port: 9023
      uaa:
        internal_url: "https://uaa.service.cf.internal:8443"
        ca_cert: (( $ops_manager.ca_certificate ))
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cc_trafficcontroller:
            cert: (( .loggregator_trafficcontroller.cc_trafficcontroller_tls_cert.cert_pem ))
            key: (( .loggregator_trafficcontroller.cc_trafficcontroller_tls_cert.private_key_pem ))
          trafficcontroller:
            cert: (( .loggregator_trafficcontroller.trafficcontroller_tls_cert.cert_pem ))
            key: (( .loggregator_trafficcontroller.trafficcontroller_tls_cert.private_key_pem ))
        outgoing_cert: (( .properties.trafficcontroller_tls_cert.cert_pem ))
        outgoing_key: (( .properties.trafficcontroller_tls_cert.private_key_pem ))
        uaa:
          client: (( .uaa.doppler_client_credentials.identity ))
          client_secret: (( .uaa.doppler_client_credentials.password ))
    name: loggregator_trafficcontroller
    release: loggregator
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          reverse_log_proxy:
            cert: (( .loggregator_trafficcontroller.rlp_tls_cert.cert_pem ))
            key: (( .loggregator_trafficcontroller.rlp_tls_cert.private_key_pem ))
      reverse_log_proxy:
        enabled: (( .properties.enable_v2_firehose.value ))
        egress:
          port: 8086
    name: reverse_log_proxy
    provides: |
      reverse_log_proxy: {as: reverse_log_proxy, shared: true}
    release: loggregator
  - manifest: |-
      http:
        address: "0.0.0.0:8088"
        cert: (( .properties.reverse_log_proxy_gateway_server_tls_cert.cert_pem))
        key: (( .properties.reverse_log_proxy_gateway_server_tls_cert.private_key_pem))
      logs_provider:
        ca_cert: (( $ops_manager.ca_certificate ))
        client_cert: (( .properties.reverse_log_proxy_gateway_client_tls_rlp_cert.cert_pem ))
        client_key: (( .properties.reverse_log_proxy_gateway_client_tls_rlp_cert.private_key_pem ))
        enabled: (( .properties.enable_v2_firehose.value ))
      cc:
        capi_internal_addr: https://cloud-controller-ng.service.cf.internal:9023
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.reverse_log_proxy_gateway_client_tls_cc_cert.cert_pem ))
        key: (( .properties.reverse_log_proxy_gateway_client_tls_cc_cert.private_key_pem ))
        common_name: cloud-controller-ng.service.cf.internal
      uaa:
        ca_cert: (( $ops_manager.ca_certificate ))
        internal_addr: https://uaa.service.cf.internal:8443
        client_id: (( .uaa.doppler_client_credentials.identity ))
        client_secret: (( .uaa.doppler_client_credentials.password ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.rlp_gateway_metrics_tls.cert_pem ))
        key: (( .properties.rlp_gateway_metrics_tls.private_key_pem ))
        server_name: rlp_gateway_metrics
    name: reverse_log_proxy_gateway
    release: loggregator
  - manifest: |
      doppler:
        disable_announce: true
        health_addr: localhost:14826
        outgoing_port: 65123 # This is a random port as nothing cares about what doppler listens on
        enabled: (( .properties.enable_v2_firehose.value ))
      loggregator:
        etcd:
          machines: []
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          doppler:
            cert: (( .doppler.doppler_tls_cert.cert_pem ))
            key: (( .doppler.doppler_tls_cert.private_key_pem ))
    name: doppler
    provides: |
      doppler: {as: doppler, shared: true}
      loggregator: {as: loggregator, shared: true}
    release: loggregator
  - manifest: |
      bpm:
        enabled: true
      credhub:
        authentication:
          mutual_tls:
            trusted_cas:
            - ((( diego-instance-identity-intermediate-ca-2-7.ca )))
          uaa:
            ca_certs:
            - (( $ops_manager.ca_certificate ))
            url: https://uaa.service.cf.internal:8443
        authorization:
          acls:
            enabled: true
          permissions:
            - path: /credhub-clients/*
              actors: ["uaa-client:credhub-service-broker"]
              operations: ["read", "write", "delete", "read_acl", "write_acl"]
            - path: /credhub-service-broker/*
              actors: ["uaa-client:credhub-service-broker"]
              operations: ["read", "write", "delete", "read_acl", "write_acl"]
            - path: /c/*
              actors: ["uaa-client:services_credhub_client"]
              operations: ["read", "write", "delete", "read_acl", "write_acl"]
            - path: /*
              actors: ["uaa-client:cc_service_key_client"]
              operations: ["read"]
            - path: /*
              actors: ["uaa-client:credhub_admin_client"]
              operations: ["read", "write", "delete", "read_acl", "write_acl"]
            - path: /*
              actors: ["uaa-client:tile_installer"]
              operations: [write_acl]
            - path: /nfsbroker/*
              actors: ["uaa-client:nfs-broker-credhub"]
              operations: ["read", "write", "delete", "read_acl", "write_acl"]
            - path: /smbbroker/*
              actors: ["uaa-client:smb-broker-credhub"]
              operations: ["read", "write", "delete", "read_acl", "write_acl"]
        ca_certificate: (( $ops_manager.ca_certificate ))
        data_storage: (( .properties.credhub_database.selected_option.parsed_manifest(db_config) ))
        encryption:
          keys: (( .properties.credhub_encryption_keys.selected_option.parsed_manifest(list) ))
          providers: (( .properties.credhub_providers.selected_option.parsed_manifest(providers) ))
        internal_url: credhub.service.cf.internal
        tls:
          certificate: (( .properties.credhub_tls.cert_pem ))
          private_key: (( .properties.credhub_tls.private_key_pem ))
    name: credhub
    provides: |
      credhub: {shared: true}
    release: credhub
  - name: database-backup-restorer
    release: backup-and-restore-sdk
  - manifest: |
      bosh:
        url: https://(( $director.hostname || $director.deployment_ip )):25555
        root_ca_cert: "(( $director.ca_public_key ))"
      metrics_server:
        addr: (( $director.hostname || $director.deployment_ip )):25595
      metrics_forwarder:
        tls:
          ca_cert: "(( $director.ca_public_key ))"
          common_name: (( $director.hostname || $director.deployment_ip ))
      uaa_client:
        identity: (( $director.bosh_metrics_forwarder_client_name ))
        password: (( $director.bosh_metrics_forwarder_client_secret ))
      loggregator:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
    name: bosh-system-metrics-forwarder
    release: bosh-system-metrics-forwarder
  - manifest: |
      port: 8090
      max_per_source: (( .properties.log_cache_max_per_source.value ))
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.log_cache_server_tls_cert.cert_pem ))
        key: (( .properties.log_cache_server_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.log_cache_metrics_tls.cert_pem ))
        key: (( .properties.log_cache_metrics_tls.private_key_pem ))
        server_name: log_cache_metrics
    name: log-cache
    release: log-cache
  - manifest: |
      external_cert: (( .properties.log_cache_gateway_auth_proxy_tls_cert.cert_pem ))
      external_key: (( .properties.log_cache_gateway_auth_proxy_tls_cert.private_key_pem ))
      cc:
        ca_cert: (( $ops_manager.ca_certificate ))
        capi_internal_addr: https://cloud-controller-ng.service.cf.internal:9023
        cert: (( .properties.log_cache_auth_proxy_client_tls_cert.cert_pem ))
        common_name: cloud-controller-ng.service.cf.internal
        key: (( .properties.log_cache_auth_proxy_client_tls_cert.private_key_pem ))
      proxy_ca_cert: (( $ops_manager.ca_certificate ))
      proxy_port: 8083
      uaa:
        ca_cert: (( $ops_manager.ca_certificate ))
        client_id: (( .uaa.doppler_client_credentials.identity ))
        client_secret: (( .uaa.doppler_client_credentials.password ))
        internal_addr: https://uaa.service.cf.internal:8443
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.log_cache_cf_auth_proxy_metrics_tls.cert_pem ))
        key: (( .properties.log_cache_cf_auth_proxy_metrics_tls.private_key_pem ))
        server_name: log_cache_cf_auth_proxy_metrics
    name: log-cache-cf-auth-proxy
    release: log-cache
  - manifest: |
      gateway_addr: localhost:8087
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.log_cache_gateway_metrics_tls.cert_pem ))
        key: (( .properties.log_cache_gateway_metrics_tls.private_key_pem ))
        server_name: log_cache_gateway_metrics
      proxy_cert: (( .properties.log_cache_gateway_auth_proxy_tls_cert.cert_pem ))
      proxy_key: (( .properties.log_cache_gateway_auth_proxy_tls_cert.private_key_pem ))
    name: log-cache-gateway
    release: log-cache
  - manifest: |-
      enabled: "(( .properties.enable_log_cache_syslog_ingestion.value ? false : true ))"
      logs_provider:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: (( .properties.log_cache_nozzle_client_tls_cert.cert_pem ))
          key: (( .properties.log_cache_nozzle_client_tls_cert.private_key_pem ))
    name: log-cache-nozzle
    release: log-cache
  - manifest: |-
      enabled: "(( .properties.enable_log_cache_syslog_ingestion.value ))"
      tls:
        cert: (( .properties.log_cache_syslog_server_tls.cert_pem ))
        key: (( .properties.log_cache_syslog_server_tls.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.log_cache_syslog_server_metrics_tls.cert_pem ))
        key: (( .properties.log_cache_syslog_server_metrics_tls.private_key_pem ))
        server_name: log-cache-syslog-server-metrics
    name: log-cache-syslog-server
    release: log-cache
  - name: cf-cli-6-linux
    release: cf-cli
  - manifest: |
      smoke_tests: (( .properties.smoke_tests.selected_option.parsed_manifest(smoke_tests) ))
      bpm:
        enabled: true
    name: smoke_tests
    release: smoke-tests
  - manifest: |
      cf:
        api_url: "https://api.(( .cloud_controller.system_domain.value ))"
        uaa_url: "https://login.(( .cloud_controller.system_domain.value ))"
        notifications_service_url: "https://notifications.(( .cloud_controller.system_domain.value ))"
        system_domain: (( .cloud_controller.system_domain.value ))
        apps_domain: (( .cloud_controller.apps_domain.value ))
        push_client_id: (( .uaa.push_usage_service_client_credentials.identity ))
        push_client_secret: (( .uaa.push_usage_service_client_credentials.password ))
      app_usage_service:
        url: "https://app-usage.(( .cloud_controller.system_domain.value ))"
        uaa_client_id: (( .uaa.usage_service_client_credentials.identity ))
        uaa_client_secret: (( .uaa.usage_service_client_credentials.password ))
        rails_secret_token: ((( push-usage-service-secret-token )))
        cutoff_age_in_days: (( .properties.push_usage_service_cutoff_age_in_days.value ))
      databases:
        app_usage_service: (( .properties.system_database.selected_option.parsed_manifest(push-app-usage-service) ))
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
        disable_http_for_links: (( .properties.routing_disable_http.value ))
    name: push-usage-service
    provides: |
      app-usage-internal: {as: app-usage-internal}
    release: push-usage-service-release
  - manifest: |
      bpm:
        enabled: true
      apps_manager:
        foundations: (( .properties.push_apps_manager_foundations.value ))
        generic_white_labeling:
          global_wrapper_footer_content: (( .properties.push_apps_manager_global_wrapper_footer_content.value ))
          accent_color: (( .properties.push_apps_manager_accent_color.value ))
          footer_links: (( .properties.push_apps_manager_footer_links.value ))
          footer_text: (( .properties.push_apps_manager_footer_text.value ))
          global_wrapper_bg_color: (( .properties.push_apps_manager_global_wrapper_bg_color.value ))
          global_wrapper_text_color: (( .properties.push_apps_manager_global_wrapper_text_color.value ))
          global_wrapper_header_content: (( .properties.push_apps_manager_global_wrapper_header_content.value ))
          company_name: (( .properties.push_apps_manager_company_name.value ))
          square_logo: (( .properties.push_apps_manager_square_logo.value ))
          favicon: (( .properties.push_apps_manager_favicon.value ))
        cf_dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
        enable_invitations: (( .properties.push_apps_manager_enable_invitations.value ))
        display_plan_prices: (( .properties.push_apps_manager_display_plan_prices.value ))
        currency_lookup: (( .properties.push_apps_manager_currency_lookup.value ))
        buildpack: (( .properties.push_apps_manager_buildpack.value ))
        instances: 2
        memory: (( .properties.push_apps_manager_memory.value ))
        poll_interval: (( .properties.push_apps_manager_poll_interval.value ))
        app_poll_interval: (( .properties.push_apps_manager_app_poll_interval.value ))
        white_labeling:
          marketplace_name: (( .properties.push_apps_manager_marketplace_name.value ))
          marketplace_url: (( .properties.push_apps_manager_marketplace_url.value ))
          nav_links: (( .properties.push_apps_manager_nav_links.value ))
          product_name: (( .properties.push_apps_manager_product_name.value ))
      app_usage_service:
        url: https://app-usage.(( .cloud_controller.system_domain.value ))
      cf:
        api_url: https://api.(( .cloud_controller.system_domain.value ))
        uaa_url: https://login.(( .cloud_controller.system_domain.value ))
        notifications_service_url: https://notifications.(( .cloud_controller.system_domain.value ))
        admin_username: (( .uaa.push_apps_manager_credentials.identity ))
        admin_password: (( .uaa.push_apps_manager_credentials.password ))
        system_domain: (( .cloud_controller.system_domain.value ))
        apps_domain: (( .cloud_controller.apps_domain.value ))
      search_server:
        buildpack: (( .properties.push_apps_manager_search_server_buildpack.value ))
        memory: (( .properties.push_apps_manager_search_server_memory.value ))
      invitations:
        buildpack: (( .properties.push_apps_manager_invitations_buildpack.value ))
        instances: 1
        memory: (( .properties.push_apps_manager_invitations_memory.value ))
        uaa_client_secret: (( .uaa.invitations_client_credentials.password ))
      metric_registrar:
        enabled: (( .properties.metric_registrar_enabled.value ))
      networking:
        enable_space_developer_self_service: (( .properties.cf_networking_enable_space_developer_self_service.value ))
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
        disable_http_for_links: (( .properties.routing_disable_http.value ))
      login:
        saml:
          providers: (( .properties.uaa.selected_option.parsed_manifest(saml_provider) ))
    name: push-apps-manager
    release: push-apps-manager-release
  - manifest: |
      domain: (( .cloud_controller.system_domain.value ))
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
      notifications:
        network: notifications
        database: (( .properties.system_database.selected_option.parsed_manifest(notifications) ))
        uaa:
          admin_client_id: (( .uaa.admin_client_credentials.identity ))
          admin_client_secret: (( .uaa.admin_client_credentials.password ))
          client_id: (( .uaa.notifications_client_credentials.identity ))
          client_secret: (( .uaa.notifications_client_credentials.password ))
        app_domain: (( .cloud_controller.system_domain.value ))
        encryption_key: ((( deploy-notifications-encryption-key )))
        enable_diego: true
        syslog_url: (( .properties.system_logging.selected_option.parsed_manifest(syslog_url) ))
        organization: system
        buildpack_url: go_buildpack
        instance_count: 3
        space: notifications-with-ui
        error_on_misconfiguration: false
        smtp:
          tls: (( .properties.smtp_enable_starttls_auto.value ))
          auth_mechanism: (( .properties.smtp_auth_mechanism.value ))
          crammd5_secret: (( .properties.smtp_crammd5_secret.value ))
          host: (( .properties.smtp_address.value ))
          pass: (( .properties.smtp_credentials.password ))
          port: (( .properties.smtp_port.value ))
          user: (( .properties.smtp_credentials.identity ))
        sender: (( .properties.smtp_from.value ))
        cf:
          dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
        default_template: |
          {
            "name": "Default Template",
            "subject": "CF Notification: {{.Subject}}",
            "html": "\u003ctable width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-collapse:collapse;font-family: Helvetica, Arial,sans-serif\"\u003e\n    \u003ctbody\u003e\n        \u003ctr\u003e\n            \u003ctd width=\"100%\" align=\"center\" bgcolor=\"#F8f8f8\" style=\"padding-right:10px;padding-left:10px\"\u003e\n                \u003ctable width=\"600\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-collapse:collapse\"\u003e\n                    \u003ctbody\u003e\n                        \u003ctr\u003e\n                            \u003ctd align=\"left\" valign=\"top\" style=\"padding-bottom:30px;padding-top:30px\"\u003e\n                              \u003cimg src=\"http://notifications-ui.{{.Domain}}/assets/pivotal_logo.png\"\n                                alt=\"VMware Tanzu Application Service\" border=\"0\" style=\"display:block\" class=\"CToWUd\"\n                                width=\"166px\" height=\"35px\"\u003e\n                            \u003c/td\u003e\n                        \u003c/tr\u003e\n                    \u003c/tbody\u003e\n                \u003c/table\u003e\n                \u003ctable width=\"600\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-collapse:collapse\"\u003e\n                    \u003ctbody\u003e\n                        \u003ctr\u003e\n                            \u003ctd align=\"left\" valign=\"top\" bgcolor=\"#FFFFFF\"\u003e\n                                \u003ctable width=\"600\" cellpadding=\"40\" cellspacing=\"0\" border=\"0\" style=\"border-collapse:collapse;border:1px solid #e0e4e5\"\u003e\n                                    \u003ctbody\u003e\n                                        \u003ctr\u003e\n                                            \u003ctd style=\"color:#666666;font-size:16px;line-height:22px\"\u003e\n                                                \u003cdiv\u003e\n                                                    {{.HTML}}\n                                                \u003c/div\u003e\n                                            \u003c/td\u003e\n                                        \u003c/tr\u003e\n                                    \u003c/tbody\u003e\n                                \u003c/table\u003e\n                            \u003c/td\u003e\n                        \u003c/tr\u003e\n                    \u003c/tbody\u003e\n                \u003c/table\u003e\n                \u003ctable width=\"600\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-collapse:collapse;font-size:12px;color:#b4b4b4\"\u003e\n                    \u003ctbody\u003e\n                        \u003ctr\u003e\n                          \u003ctd align=\"left\" valign=\"middle\" style=\"padding-top:20px;padding-bottom:20px\"\u003eManage your \u003ca href=\"https://notifications-ui.{{.Domain}}/preferences\"\n                                target=\"_blank\"\u003enotification preferences\u003c/a\u003e or\n                              \u003ca href=\"https://notifications-ui.{{.Domain}}/unsubscribe/{{.UnsubscribeID}}\"\n                                target=\"_blank\"\u003eunsubscribe\u003c/a\u003e\n                            \u003c/td\u003e\n                        \u003c/tr\u003e\n                        \u003ctr\u003e\n                            \u003ctd align=\"left\" valign=\"middle\" style=\"padding-bottom:20px\"\u003eVMware Tanzu Application Service, and the VMware Tanzu Application Service logo are registered\n                                trademarks or trademarks of VMware, Inc. or its affiliates.\n                                in the United States and other countries. All other\n                                trademarks used herein are the property of their\n                                respective owners.\n                                \u003ca\u003e\n                            \u003c/td\u003e\n                        \u003c/tr\u003e\n                        \u003ctr\u003e\n                            \u003ctd align=\"left\" valign=\"middle\" style=\"padding-bottom:20px\"\u003e\u00A9 2020 VMware, Inc. or its affiliates. All rights reserved.\n                                Published in the USA.\n                                \u003ca\u003e\n                            \u003c/td\u003e\n                        \u003c/tr\u003e\n                    \u003c/tbody\u003e\n                \u003c/table\u003e\n            \u003c/td\u003e\n        \u003c/tr\u003e\n    \u003c/tbody\u003e\n\u003c/table\u003e\n",
            "text": "_____\n\n\nVMware Tanzu Application Service\n\n{{.Text}}\n\nManage your notification preferences:\nhttps://notifications-ui.{{.Domain}}/preferences\n\nUnsubscribe from Pivotal emails:\nhttps://notifications-ui.{{.Domain}}/unsubscribe/{{.UnsubscribeID}}\n\nVMware Tanzu Application Service, and the VMware Tanzu Application Service logo are registered trademarks or trademarks of VMware, Inc. or its affiliates. in the United States and other countries. All other trademarks used herein are the property of their respective owners.\n\n\u00A9 2020 VMware, Inc. or its affiliates. All rights reserved. Published in the USA.\n\n______\n",
            "metadata": {}
          }
    name: deploy-notifications
    release: notifications
  - manifest: |
      domain: (( .cloud_controller.system_domain.value ))
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
      notifications_ui:
        organization: system
        space: notifications-with-ui
        syslog_url: (( .properties.system_logging.selected_option.parsed_manifest(syslog_url) ))
        instance_count: 2
        cf:
          dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
        app_domain: (( .cloud_controller.system_domain.value ))
        network: notifications
        encryption_key: ((( deploy-notifications-encryption-key )))
        footer_text: (( .properties.push_apps_manager_footer_text.value || "" ))
        footer_image: (( .properties.push_apps_manager_logo.value ))
        enable_diego: true
        uaa:
          deploy_client_id: (( .uaa.notifications_client_credentials.identity ))
          deploy_client_secret: (( .uaa.notifications_client_credentials.password ))
          client_id: (( .uaa.notifications_ui_client_credentials.identity ))
          client_secret: (( .uaa.notifications_ui_client_credentials.password ))
    name: deploy-notifications-ui
    release: notifications-ui
  - _hack: null
    manifest: |
      autoscale:
        api:
          java_buildpack: 'java_buildpack_offline'
          disable_connection_pooling: (( .properties.autoscale_api_disable_connection_pooling.value ))
        api_instance_count: (( .properties.autoscale_api_instance_count.value ))
        broker:
          password: ((( deploy-autoscaling-broker-credentials.password )))
          user: ((( deploy-autoscaling-broker-credentials.username )))
        cf:
          admin_password: (( .uaa.admin_credentials.password ))
          admin_user: (( .uaa.admin_credentials.identity ))
          dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
        database: (( .properties.system_database.selected_option.parsed_manifest(autoscaling) ))
        encryption_key: ((( deploy-autoscaling-encryption-key )))
        instance_count: (( .properties.autoscale_instance_count.value ))
        instance_memory: '256M'
        log_level: 'error'
        log_verbose: (( .properties.autoscale_enable_verbose_logging.value ))
        marketplace_company_name: VMware, Inc. or its affiliates
        # $v is declared higher up
        marketplace_documentation_url: https://docs.pivotal.io/pivotalcf/2-11/appsman-services/autoscaler/using-autoscaler.html
        marketplace_image_url: data:image/png;base64,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
        metric_collection_interval: (( .properties.autoscale_metric_bucket_count.value ))
        enable_notifications: (( .properties.autoscale_enable_notifications.value ))
        notifications_host: https://notifications.(( .cloud_controller.system_domain.value))
        organization: system
        scaling_interval_in_seconds: (( .properties.autoscale_scaling_interval_in_seconds.value ))
        space: autoscaling
      domain: (( .cloud_controller.system_domain.value ))
      doppler:
        host: wss://doppler.(( .cloud_controller.system_domain.value )):(( .properties.logger_endpoint_port.value || "443" ))
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
      uaa:
        api_client_id: (( .uaa.autoscale_api_client_credentials.identity ))
        api_client_secret: (( .uaa.autoscale_api_client_credentials.password ))
        client: (( .uaa.autoscale_client_credentials.identity ))
        client_secret: (( .uaa.autoscale_client_credentials.password ))
    name: deploy-autoscaler
    release: cf-autoscaling
  - manifest: |
      nfsbrokerpush:
        domain: (( .cloud_controller.system_domain.value ))
        cf:
          admin_user: (( .uaa.admin_credentials.identity ))
          admin_password: (( .uaa.admin_credentials.password ))
          dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
        credhub:
          uaa_ca_cert: (( $ops_manager.ca_certificate ))
          uaa_client_id: (( .uaa.nfsbroker_credhub_client_credentials.identity ))
          uaa_client_secret: (( .uaa.nfsbroker_credhub_client_credentials.password ))
        organization: system
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
        app_domain: (( .cloud_controller.system_domain.value ))
        space: nfs
        username: ((( nfs-broker-push-db-credentials.username )))
        password: ((( nfs-broker-push-db-credentials.password )))
        syslog_url: (( .properties.system_logging.selected_option.parsed_manifest(syslog_url) ))
        ldap_enabled: (( .properties.nfs_volume_driver.enable.ldap_server_host.value_present? ))
        store_id: nfsbroker
    name: nfsbrokerpush
    provides: |
      nfsbrokerpush: {as: ignore-me}
    release: nfs-volume
  - manifest: |
      app_domain: (( .cloud_controller.system_domain.value ))
      domain: (( .cloud_controller.system_domain.value ))
      cf:
        client_id: (( .uaa.smbbroker_client_credentials.identity ))
        client_secret: (( .uaa.smbbroker_client_credentials.password ))
      credhub:
        url: https://credhub.service.cf.internal:8844
        uaa_client_id: (( .uaa.smbbroker_credhub_client_credentials.identity ))
        uaa_client_secret: (( .uaa.smbbroker_credhub_client_credentials.password ))
        store_id: smbbroker
      organization: system
      space: smb
      username: ((( smb-broker-credentials.username )))
      password: ((( smb-broker-credentials.password )))
      skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
      syslog_url: (( .properties.system_logging.selected_option.parsed_manifest(syslog_url) ))
    name: smbbrokerpush
    provides: |
      smbbrokerpush: {as: ignore-me}
    release: smb-volume
  - name: bootstrap
    release: pxc
  - manifest: |
      dnshttps:
        client:
          ca: (( $ops_manager.ca_certificate ))
        server:
          tls:
            certificate: (( .properties.service_discovery_server_tls.cert_pem ))
            private_key: (( .properties.service_discovery_server_tls.private_key_pem ))
    name: service-discovery-controller
    provides: |
      service-discovery-controller: {as: service-discovery-controller, shared: true}
    release: cf-networking
  - manifest: |
      autoscale:
        cf:
          admin_password: (( .uaa.admin_credentials.password ))
          admin_user: (( .uaa.admin_credentials.identity ))
          dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
        metric_collection_interval: (( .properties.autoscale_metric_bucket_count.value ))
        organization: system
        space: autoscaling
        scaling_interval_in_seconds: (( .properties.autoscale_scaling_interval_in_seconds.value ))
      domain: (( .cloud_controller.system_domain.value ))
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
      uaa:
        api_client_id: (( .uaa.autoscale_api_client_credentials.identity ))
        api_client_secret: (( .uaa.autoscale_api_client_credentials.password ))
        client: (( .uaa.autoscale_client_credentials.identity ))
        client_secret: (( .uaa.autoscale_client_credentials.password ))
    name: test-autoscaling
    release: cf-autoscaling
  - manifest: |
      disabled: "(( .properties.metric_registrar_enabled.value ? false : true ))"
      health_check_port: 21546
      orchestration_port: 21547
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
      cloud_controller:
        tls:
          ca: (( $ops_manager.ca_certificate ))
          cert: (( .properties.cloud_controller_mutual_cert.cert_pem ))
          key: (( .properties.cloud_controller_mutual_cert.private_key_pem ))
      orchestration:
        tls:
          ca: (( $ops_manager.ca_certificate ))
          cert: (( .properties.metric_registrar_orchestrator_tls.cert_pem ))
          key: (( .properties.metric_registrar_orchestrator_tls.private_key_pem ))
    name: metric_registrar_orchestrator
    release: metric-registrar
  - manifest: |
      disabled: "(( .properties.metric_registrar_enabled.value ? false : true ))"
      health_check_port: 21544
      orchestration_port: 21545
      blacklisted_tags: (( .properties.metric_registrar_blacklisted_tags.parsed_strings ))
      skip_ssl_validation: (( .ha_proxy.skip_cert_verify.value ))
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
      reverse_log_proxy:
        tls:
          cert: (( .properties.metric_registrar_rlp_tls.cert_pem ))
          key: (( .properties.metric_registrar_rlp_tls.private_key_pem ))
      orchestration:
        tls:
          ca: (( $ops_manager.ca_certificate ))
          cert: (( .properties.metric_registrar_worker_tls.cert_pem ))
          key: (( .properties.metric_registrar_worker_tls.private_key_pem ))
    name: metric_registrar_log_worker
    release: metric-registrar
  - manifest: |
      disabled: "(( .properties.metric_registrar_enabled.value ? false : true ))"
      health_check_port: 21542
      orchestration_port: 21543
      skip_ssl_validation: (( .ha_proxy.skip_cert_verify.value ))
      blacklisted_tags: (( .properties.metric_registrar_blacklisted_tags.parsed_strings ))
      scrape_interval: (( .properties.metric_registrar_scrape_interval_in_seconds.value ))s
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
      cloud_controller:
        tls:
          ca: (( $ops_manager.ca_certificate ))
          cert: (( .properties.cloud_controller_mutual_cert.cert_pem ))
          key: (( .properties.cloud_controller_mutual_cert.private_key_pem ))
      orchestration:
        tls:
          ca: (( $ops_manager.ca_certificate ))
          cert: (( .properties.metric_registrar_worker_tls.cert_pem ))
          key: (( .properties.metric_registrar_worker_tls.private_key_pem ))
      uaa:
        tls:
          ca: (( $ops_manager.ca_certificate ))
        client:
          id: (( .uaa.metric_registrar_credentials.identity ))
          secret: (( .uaa.metric_registrar_credentials.password ))
    name: metric_registrar_endpoint_worker
    release: metric-registrar
  - manifest: |
      skip_ssl_validation: (( .ha_proxy.skip_cert_verify.value ))
      scrape_interval: (( .properties.metric_registrar_scrape_interval_in_seconds.value ))s
      uaa:
        client:
          id: (( .uaa.metric_registrar_smoke_test_credentials.identity ))
          secret: (( .uaa.metric_registrar_smoke_test_credentials.password ))
      cf:
        dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
        organization: system
        space: metric-registrar-monitor
    name: metric_registrar_smoke_test
    release: metric-registrar
- description: Compute
  instance_definition:
    configurable: true
    constraints:
      max: 10
      min: 1
    default: 1
    label: Instances
    name: instances
    type: integer
  label: Compute
  max_in_flight: 4%
  name: compute
  resource_definitions:
  - configurable: true
    constraints:
      min: 2048
    default: 16384
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 4096
    default: 65536
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 2
    label: CPU
    name: cpu
    type: integer
  resource_label: Compute
  single_az_only: false
  templates:
  - manifest: |
      bpm:
        enabled: true
      containers:
        proxy: (( .properties.route_integrity.selected_option.parsed_manifest(proxy) ))
        trusted_ca_certificates:
          - ((( diego-instance-identity-intermediate-ca-2-7.ca )))
          - (( $ops_manager.ca_certificate ))
          - (( $ops_manager.trusted_certificates ))
        set_cpu_weight: true
        graceful_shutdown_interval_in_seconds: (( .properties.app_graceful_shutdown_period_in_seconds.value ))
      diego:
        rep:
          preloaded_rootfses:
            - "cflinuxfs3:/var/vcap/packages/cflinuxfs3/rootfs.tar"
          use_azure_fault_domains: true
          advertise_preference_for_instance_address: (( .properties.container_networking_interface_plugin.selected_option.parsed_manifest(use_container_address) ))
        executor:
          disk_capacity_mb: (( .diego_cell.executor_disk_capacity.value ))
          instance_identity_ca_cert: ((( diego-instance-identity-intermediate-ca-2-7.certificate )))
          instance_identity_key: ((( diego-instance-identity-intermediate-ca-2-7.private_key )))
          memory_capacity_mb: (( .diego_cell.executor_memory_capacity.value ))
          post_setup_hook: sh -c "rm -f /home/vcap/app/.java-buildpack.log /home/vcap/app/**/.java-buildpack.log"
          post_setup_user: root
          max_log_lines_per_second: (( .properties.app_log_rate_limiting.selected_option.parsed_manifest(app_log_rate_limiting_properties) ))

      enable_consul_service_registration: false
      enable_declarative_healthcheck: true
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_unix_epoch) ))
      loggregator:
        use_v2_api: true
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_client_cert.cert_pem ))
        key: (( .properties.loggregator_client_cert.private_key_pem ))
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.rep_server_cert_v2.cert_pem ))
        key: (( .properties.rep_server_cert_v2.private_key_pem ))
    name: rep
    release: diego
  - manifest: |
      bpm:
        enabled: true
      diego:
        route_emitter:
          bbs:
            ca_cert: (( $ops_manager.ca_certificate ))
            client_cert: (( .properties.bbs_client_cert.cert_pem ))
            client_key: (( .properties.bbs_client_cert.private_key_pem ))
          local_mode: true
      internal_routes:
        enabled: true
      loggregator:
        use_v2_api: true
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_client_cert.cert_pem ))
        key: (( .properties.loggregator_client_cert.private_key_pem ))
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_unix_epoch) ))
      register_direct_instance_routes: (( .properties.container_networking_interface_plugin.selected_option.parsed_manifest(use_container_address) ))
      tcp:
        enabled: true
      uaa:
        ca_cert: (( $ops_manager.ca_certificate ))
        client_name: (( .uaa.tcp_emitter_credentials.identity ))
        client_secret: (( .uaa.tcp_emitter_credentials.password ))
    name: route_emitter
    release: diego
  - manifest: |
      tls:
        ca_certificate: (( $ops_manager.ca_certificate ))
        certificate: (( .properties.bbs_client_cert.cert_pem ))
        private_key: (( .properties.bbs_client_cert.private_key_pem ))
    name: cfdot
    release: diego
  - manifest: |
      garden:
        containerd_mode: "(( .properties.enable_garden_containerd_mode.value ? true : false ))"
        cleanup_process_dirs_on_wait: true
        debug_listen_address: 127.0.0.1:17019
        deny_networks:
        - 0.0.0.0/0
        destroy_containers_on_start: true
        http_proxy: (( $ops_manager.http_proxy ))
        https_proxy: (( $ops_manager.https_proxy ))
        network_plugin: /var/vcap/packages/runc-cni/bin/garden-external-networker
        network_plugin_extra_args:
        - --configFile=/var/vcap/jobs/garden-cni/config/adapter.json
        no_proxy: (( $ops_manager.no_proxy ))
        persistent_image_list:
        - /var/vcap/packages/cflinuxfs3/rootfs.tar
      grootfs:
        reserved_space_for_other_jobs_in_mb: (( .properties.garden_disk_cleanup.selected_option.parsed_manifest(reserved_space_for_other_jobs_in_mb) ))
        insecure_docker_registry_list: (( .diego_cell.insecure_docker_registry_list.parsed_strings ))
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: (( .properties.rep_server_cert_v2.cert_pem ))
          key: (( .properties.rep_server_cert_v2.private_key_pem ))
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_unix_epoch) ))
    name: garden
    release: garden-runc
  - manifest: |
      cflinuxfs3-rootfs:
        trusted_certs: |
          ((( /services/tls_leaf.ca )))
          ((( diego-instance-identity-intermediate-ca-2-7.ca )))
          (( $ops_manager.ca_certificate ))
          (( $ops_manager.trusted_certificates ))
    name: cflinuxfs3-rootfs-setup
    release: cflinuxfs3
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_agent_metrics_tls.cert_pem ))
        key: (( .properties.loggregator_agent_metrics_tls.private_key_pem ))
        server_name: loggregator_agent_metrics
      grpc_port: 3459
      disable_udp: true
      disable_logs: (( .properties.disable_logs_in_firehose.value ))
      loggregator_agent:
        enabled: (( .properties.enable_v2_firehose.value ))
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggregator_agent
    release: loggregator-agent
  - manifest: |
      port: 3460
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.syslog_agent_metrics_tls.cert_pem ))
        key: (( .properties.syslog_agent_metrics_tls.private_key_pem ))
        server_name: syslog_agent_metrics
      cache:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: (( .properties.syslog_agent_api_tls.cert_pem ))
          key: (( .properties.syslog_agent_api_tls.private_key_pem ))
          cn: binding-cache
      aggregate_drains: syslog-tls://doppler.service.cf.internal:6067?include-metrics-deprecated=true,(( .properties.syslog_agent_aggregate_drains.value ))
      drain_ca_cert: (( $ops_manager.ca_certificate ))
    name: loggr-syslog-agent
    release: loggregator-agent
  - manifest: |
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_discovery_metrics_tls.cert_pem ))
        key: (( .properties.metrics_discovery_metrics_tls.private_key_pem ))
        server_name: metrics_discovery_metrics
      nats_client:
        cert: (( .properties.nats_client_cert.cert_pem ))
        key: (( .properties.nats_client_cert.private_key_pem ))
    name: metrics-discovery-registrar
    release: metrics-discovery
  - manifest: |
      metrics_exporter_port: 14726
      grpc:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_agent_metrics_tls.cert_pem ))
        key: (( .properties.metrics_agent_metrics_tls.private_key_pem ))
        server_name: metrics_agent_metrics
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
    name: metrics-agent
    release: metrics-discovery
  - manifest: |
      port: 3458
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.forwarder_agent_metrics_tls.cert_pem ))
        key: (( .properties.forwarder_agent_metrics_tls.private_key_pem ))
        server_name: forwarder_agent_metrics
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggr-forwarder-agent
    release: loggregator-agent
  - manifest: |-
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
          cn: prom_scraper
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: "((.properties.prom_scraper_metrics_tls.cert_pem))"
        key: "((.properties.prom_scraper_metrics_tls.private_key_pem))"
        server_name: prom_scraper_metrics
    name: prom_scraper
    release: loggregator-agent
  - manifest: |
      disable: (( .properties.container_networking_interface_plugin.selected_option.parsed_manifest(disable_silk) ))
      dns_servers: ["169.254.0.2"]
      mtu: (( .properties.container_networking_interface_plugin.silk.network_mtu.value ))
      iptables_logging: (( .properties.container_networking_interface_plugin.silk.enable_log_traffic.value ))
      iptables_accepted_udp_logs_per_sec: (( .properties.container_networking_interface_plugin.silk.iptables_accepted_udp_logs_per_sec.value ))
      iptables_denied_logs_per_sec: (( .properties.container_networking_interface_plugin.silk.iptables_denied_logs_per_sec.value ))
      host_tcp_services: (( .properties.host_tcp_services.parsed_manifest(host_tcp_services_addresses) ))
    name: silk-cni
    release: silk
  - consumes: |
      cf_network: {from: cf_network, deployment: (( .deployment_name )) }
    manifest: |
      ca_cert: (( $ops_manager.ca_certificate ))
      client_cert: (( .diego_database.silk_daemon_client_cert.cert_pem ))
      client_key: (( .diego_database.silk_daemon_client_cert.private_key_pem ))
      disable: (( .properties.container_networking_interface_plugin.selected_option.parsed_manifest(disable_silk) ))
      vtep_port: (( .properties.container_networking_interface_plugin.silk.vtep_port.value ))
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_deprecated) ))
    name: silk-daemon
    release: silk
  - manifest: |
      cni_config_dir: (( .properties.container_networking_interface_plugin.selected_option.parsed_manifest(cni_config_dir) ))
      cni_plugin_dir: (( .properties.container_networking_interface_plugin.selected_option.parsed_manifest(cni_plugin_dir) ))
      search_domains: (( .properties.cf_networking_search_domains.parsed_strings ))
    name: garden-cni
    release: cf-networking
  - manifest: |
      disable: (( .properties.container_networking_interface_plugin.selected_option.parsed_manifest(disable_silk) ))
    name: netmon
    release: silk
  - manifest: |
      ca_cert: (( $ops_manager.ca_certificate ))
      client_cert: (( .properties.network_policy_agent_cert.cert_pem ))
      client_key: (( .properties.network_policy_agent_cert.private_key_pem ))
      disable: (( .properties.container_networking_interface_plugin.selected_option.parsed_manifest(disable_silk) ))
      iptables_accepted_udp_logs_per_sec: (( .properties.container_networking_interface_plugin.silk.iptables_accepted_udp_logs_per_sec.value ))
      iptables_logging: (( .properties.container_networking_interface_plugin.silk.enable_log_traffic.value ))
      disable_container_network_policy: "(( .properties.container_networking_interface_plugin.silk.enable_policy_enforcement.value ? false : true ))"
      policy_server:
        hostname: network-policy-server.service.cf.internal
    name: vxlan-policy-agent
    release: silk
  - manifest: |
      (( .properties.nfs_volume_driver.selected_option.parsed_manifest(mapfs_properties) ))
    name: mapfs
    release: mapfs
  - manifest: |
      nfsv3driver: (( .properties.nfs_volume_driver.selected_option.parsed_manifest(nfsv3driver_properties) ))
    name: nfsv3driver
    release: nfs-volume
  - manifest: |
      disable: "(( .properties.enable_smb_volume_driver.value ? false: true ))"
    name: smbdriver
    release: smb-volume
  - manifest: |
      syslog: (( .properties.system_logging.selected_option.parsed_manifest(syslog) ))
    name: syslog_forwarder
    release: syslog
  - name: bpm
    release: bpm
  - manifest: |
      dnshttps:
        client:
          tls:
            certificate: (( .properties.service_discovery_client_tls.cert_pem ))
            private_key: (( .properties.service_discovery_client_tls.private_key_pem ))
        server:
          ca: (( $ops_manager.ca_certificate ))
      internal_domains: (( .properties.cf_networking_internal_domains.parsed_manifest(for_bosh_dns_adapter) ))
    name: bosh-dns-adapter
    release: cf-networking
  - manifest: |
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_deprecated) ))
    name: iptables-logger
    release: silk
- description: Acts as the VMware Tanzu Application Service message bus
  instance_definition:
    configurable: false
    constraints:
      min: 0
    default: 0
    label: Instances
    name: instances
    type: integer
  label: NATS
  max_in_flight: 1
  name: nats
  resource_definitions:
  - configurable: true
    constraints:
      min: 1024
    default: 1024
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 1024
    default: 2048
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 1
    label: CPU
    name: cpu
    type: integer
  resource_label: NATS
  single_az_only: false
  templates:
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
    name: loggregator_agent
    release: loggregator-agent
- description: Stores droplets and app packages on behalf of Cloud Controller
  instance_definition:
    configurable: false
    constraints:
      max: 0
      min: 0
    default: 0
    label: Instances
    name: instances
    type: integer
    zero_if:
      allow_manual_selection_of_zero: false
      property_reference: .properties.system_blobstore
      property_values:
      - external
      - external_gcs
      - external_gcs_service_account
      - external_azure
  label: File Storage
  max_in_flight: 1
  name: nfs_server
  property_blueprints:
  - configurable: false
    default:
      domains:
      - blobstore.service.cf.internal
    name: blobstore_cert
    type: rsa_cert_credentials
  - configurable: true
    default: allow 10.0.0.0/8;,allow 172.16.0.0/12;,allow 192.168.0.0/16;
    name: blobstore_internal_access_rules
    type: string_list
  resource_definitions:
  - configurable: true
    constraints:
      min: 4096
    default: 4096
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 8192
    default: 8192
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: true
    constraints:
      min: 10240
    default: 102400
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 2
    label: CPU
    name: cpu
    type: integer
  resource_label: File Storage
  serial: true
  single_az_only: true
  templates:
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
    name: loggregator_agent
    release: loggregator-agent
- description: MySQL Proxy
  instance_definition:
    configurable: false
    default: 0
    label: Instances
    name: instances
    type: integer
    zero_if:
      allow_manual_selection_of_zero: false
      property_reference: .properties.system_database
      property_values:
      - external
  label: MySQL Proxy
  max_in_flight: 1
  name: mysql_proxy
  property_blueprints:
  - configurable: true
    name: service_hostname
    optional: true
    type: network_address
  - configurable: true
    default: 0
    name: startup_delay
    type: integer
  - configurable: true
    constraints:
      min: 0
    default: 30
    name: shutdown_delay
    type: integer
  - configurable: true
    default: false
    name: enable_inactive_mysql_port
    type: boolean
  - configurable: false
    default: 3336
    name: inactive_mysql_port
    type: integer
  - configurable: false
    name: inactive_mysql_port_null_value
    type: integer
  resource_definitions:
  - configurable: true
    constraints:
      min: 1024
    default: 1024
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 4096
    default: 4096
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 1
    label: CPU
    name: cpu
    type: integer
  resource_label: MySQL Proxy
  single_az_only: false
  templates:
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
    name: loggregator_agent
    release: loggregator-agent
- description: Multi-tenant MySQL server.
  instance_definition:
    configurable: false
    constraints:
      may_only_be_odd_or_zero: true
      min: 0
    default: 0
    label: Instances
    name: instances
    type: integer
    zero_if:
      allow_manual_selection_of_zero: false
      property_reference: .properties.system_database
      property_values:
      - external
  label: MySQL Server
  max_in_flight: 1
  name: mysql
  property_blueprints:
  - configurable: true
    default: true
    name: cli_history
    type: boolean
  - configurable: true
    name: cluster_probe_timeout
    optional: true
    type: integer
  - configurable: true
    default: 3500
    name: max_connections
    type: integer
  - configurable: true
    default: false
    name: prevent_node_auto_rejoin
    type: boolean
  - configurable: true
    default: false
    name: remote_admin_access
    type: boolean
  resource_definitions:
  - configurable: true
    constraints:
      min: 4096
    default: 8192
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 10000
    default: 30000
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: true
    constraints:
      min: 10000
    default: 100000
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 2
    label: CPU
    name: cpu
    type: integer
  resource_label: MySQL Server
  single_az_only: false
  templates:
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
    name: loggregator_agent
    release: loggregator-agent
- description: Contains the backup and restore scripts for use with BBR CLI. This
    VM must be set to 1 instance in order to take a backup using BBR.
  instance_definition:
    configurable: true
    constraints:
      max: 1
      min: 0
    default: 1
    label: Instances
    name: instances
    type: integer
  label: Backup Restore Node
  max_in_flight: 1
  name: backup_restore
  resource_definitions:
  - configurable: true
    constraints:
      min: 1024
    default: 1024
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 2000
    default: 4000
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: true
    constraints:
      min: 10000
    default: 200000
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 1
    label: CPU
    name: cpu
    type: integer
  resource_label: Backup Restore Node
  single_az_only: true
  templates:
  - name: bpm
    release: bpm
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_agent_metrics_tls.cert_pem ))
        key: (( .properties.loggregator_agent_metrics_tls.private_key_pem ))
        server_name: loggregator_agent_metrics
      grpc_port: 3459
      disable_udp: true
      disable_logs: (( .properties.disable_logs_in_firehose.value ))
      loggregator_agent:
        enabled: (( .properties.enable_v2_firehose.value ))
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggregator_agent
    release: loggregator-agent
  - manifest: |
      port: 3460
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.syslog_agent_metrics_tls.cert_pem ))
        key: (( .properties.syslog_agent_metrics_tls.private_key_pem ))
        server_name: syslog_agent_metrics
      cache:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: (( .properties.syslog_agent_api_tls.cert_pem ))
          key: (( .properties.syslog_agent_api_tls.private_key_pem ))
          cn: binding-cache
      aggregate_drains: syslog-tls://doppler.service.cf.internal:6067?include-metrics-deprecated=true,(( .properties.syslog_agent_aggregate_drains.value ))
      drain_ca_cert: (( $ops_manager.ca_certificate ))
    name: loggr-syslog-agent
    release: loggregator-agent
  - manifest: |
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_discovery_metrics_tls.cert_pem ))
        key: (( .properties.metrics_discovery_metrics_tls.private_key_pem ))
        server_name: metrics_discovery_metrics
      nats_client:
        cert: (( .properties.nats_client_cert.cert_pem ))
        key: (( .properties.nats_client_cert.private_key_pem ))
    name: metrics-discovery-registrar
    release: metrics-discovery
  - manifest: |
      metrics_exporter_port: 14726
      grpc:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_agent_metrics_tls.cert_pem ))
        key: (( .properties.metrics_agent_metrics_tls.private_key_pem ))
        server_name: metrics_agent_metrics
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
    name: metrics-agent
    release: metrics-discovery
  - manifest: |
      port: 3458
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.forwarder_agent_metrics_tls.cert_pem ))
        key: (( .properties.forwarder_agent_metrics_tls.private_key_pem ))
        server_name: forwarder_agent_metrics
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggr-forwarder-agent
    release: loggregator-agent
  - manifest: |-
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
          cn: prom_scraper
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: "((.properties.prom_scraper_metrics_tls.cert_pem))"
        key: "((.properties.prom_scraper_metrics_tls.private_key_pem))"
        server_name: prom_scraper_metrics
    name: prom_scraper
    release: loggregator-agent
  - manifest: |
      domain: (( .cloud_controller.system_domain.value ))
      notifications:
        app_domain: (( .cloud_controller.system_domain.value ))
        uaa:
          client_id: (( .uaa.notifications_client_credentials.identity ))
          client_secret: (( .uaa.notifications_client_credentials.password ))
        database: (( .properties.system_database.selected_option.parsed_manifest(notifications) ))
        organization: system
        space: notifications-with-ui
      release_level_backup: true
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
    name: backup-restore-notifications
    release: notifications
  - manifest: |
      autoscale:
        cf:
          admin_password: (( .uaa.admin_credentials.password ))
          admin_user: (( .uaa.admin_credentials.identity ))
          dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
        database: (( .properties.system_database.selected_option.parsed_manifest(autoscaling) ))
        organization: system
        space: autoscaling
      domain: (( .cloud_controller.system_domain.value ))
      release_level_backup: true
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
    name: backup-restore-pcf-autoscaling
    release: cf-autoscaling
  - manifest: |
      release_level_backup: true
    name: bbr-cfnetworkingdb
    release: cf-networking
  - manifest: |
      release_level_backup: true
    name: bbr-cloudcontrollerdb
    release: capi
  - manifest: |
      credhub:
        data_storage: (( .properties.credhub_database.selected_option.parsed_manifest(db_config) ))
      release_level_backup: true
    name: bbr-credhubdb
    release: credhub
  - name: bbr-routingdb
    release: routing
  - manifest: |
      release_level_backup: true
    name: bbr-uaadb
    release: uaa
  - consumes: |
      app-usage-internal: {from: app-usage-internal}
    manifest: |
      database: (( .properties.system_database.selected_option.parsed_manifest(bbr-usage-servicedb) ))
      release_level_backup: true
    name: bbr-usage-servicedb
    release: push-usage-service-release
  - name: cf-cli-6-linux
    release: cf-cli
  - name: database-backup-restorer
    release: backup-and-restore-sdk
  - manifest: |
      autoscale:
        cf:
          admin_password: (( .uaa.admin_credentials.password ))
          admin_user: (( .uaa.admin_credentials.identity ))
          dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
        organization: system
        space: autoscaling
      domain: (( .cloud_controller.system_domain.value ))
      release_level_backup: true
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
    name: lock-unlock-pcf-autoscaling
    release: cf-autoscaling
  - manifest: |
      enabled: (( .properties.system_blobstore.selected_option.parsed_manifest(enable_versioned_s3_backup) ))
      force_path_style: (( .properties.system_blobstore.selected_option.parsed_manifest(enable_backup_path_style) ))
      buckets:
        '(( .properties.system_blobstore_backup_level.selected_option.parsed_manifest(backup_all) ? .properties.system_blobstore.selected_option.parsed_manifest(all_buckets) : .properties.system_blobstore.selected_option.parsed_manifest(skip_buckets) ))'
    name: s3-versioned-blobstore-backup-restorer
    release: backup-and-restore-sdk
  - manifest: |
      enabled: (( .properties.system_blobstore.selected_option.parsed_manifest(enable_unversioned_s3_backup) ))
      force_path_style: (( .properties.system_blobstore.selected_option.parsed_manifest(enable_backup_path_style) ))
      buckets:
        '(( .properties.system_blobstore_backup_level.selected_option.parsed_manifest(backup_all) ? .properties.system_blobstore.selected_option.parsed_manifest(all_buckets) : .properties.system_blobstore.selected_option.parsed_manifest(skip_buckets) ))'
    name: s3-unversioned-blobstore-backup-restorer
    release: backup-and-restore-sdk
  - manifest: |
      enabled: (( .properties.system_blobstore.selected_option.parsed_manifest(enable_gcs_backup) ))
      gcp_service_account_key: (( .properties.system_blobstore.external_gcs_service_account.service_account_json_key.value ))
      bpm:
        enabled: true
      buckets:
        '(( .properties.system_blobstore_backup_level.selected_option.parsed_manifest(backup_all) ? .properties.system_blobstore.selected_option.parsed_manifest(all_buckets) : .properties.system_blobstore.selected_option.parsed_manifest(skip_buckets) ))'
    name: gcs-blobstore-backup-restorer
    release: backup-and-restore-sdk
  - manifest: |
      enabled: (( .properties.system_blobstore.external_azure.enable_bbr.value ))
      containers:
        '(( .properties.system_blobstore_backup_level.selected_option.parsed_manifest(backup_all) ? .properties.system_blobstore.selected_option.parsed_manifest(all_buckets) : .properties.system_blobstore.selected_option.parsed_manifest(skip_buckets) ))'
    name: azure-blobstore-backup-restorer
    release: backup-and-restore-sdk
  - manifest: |
      syslog: (( .properties.system_logging.selected_option.parsed_manifest(syslog) ))
    name: syslog_forwarder
    release: syslog
  - manifest: |
      cf:
        api_url: "https://api.(( .cloud_controller.system_domain.value ))"
        uaa_url: "https://login.(( .cloud_controller.system_domain.value ))"
        notifications_service_url: "https://notifications.(( .cloud_controller.system_domain.value ))"
        system_domain: (( .cloud_controller.system_domain.value ))
        apps_domain: (( .cloud_controller.apps_domain.value ))
        push_client_id: (( .uaa.push_usage_service_client_credentials.identity ))
        push_client_secret: (( .uaa.push_usage_service_client_credentials.password ))
      app_usage_service:
        url: "https://app-usage.(( .cloud_controller.system_domain.value ))"
        uaa_client_id: (( .uaa.usage_service_client_credentials.identity ))
        uaa_client_secret: (( .uaa.usage_service_client_credentials.password ))
        rails_secret_token: ((( push-usage-service-secret-token )))
        cutoff_age_in_days: (( .properties.push_usage_service_cutoff_age_in_days.value ))
      databases:
        app_usage_service: (( .properties.system_database.selected_option.parsed_manifest(push-app-usage-service) ))
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
        disable_http_for_links: (( .properties.routing_disable_http.value ))
    name: push-usage-service
    provides: |
      app-usage-internal: {as: ignore-me}
    release: push-usage-service-release
  - manifest: |
      bpm:
        enabled: true
      apps_manager:
        foundations: (( .properties.push_apps_manager_foundations.value ))
        generic_white_labeling:
          global_wrapper_footer_content: (( .properties.push_apps_manager_global_wrapper_footer_content.value ))
          accent_color: (( .properties.push_apps_manager_accent_color.value ))
          footer_links: (( .properties.push_apps_manager_footer_links.value ))
          footer_text: (( .properties.push_apps_manager_footer_text.value ))
          global_wrapper_bg_color: (( .properties.push_apps_manager_global_wrapper_bg_color.value ))
          global_wrapper_text_color: (( .properties.push_apps_manager_global_wrapper_text_color.value ))
          global_wrapper_header_content: (( .properties.push_apps_manager_global_wrapper_header_content.value ))
          company_name: (( .properties.push_apps_manager_company_name.value ))
          square_logo: (( .properties.push_apps_manager_square_logo.value ))
          favicon: (( .properties.push_apps_manager_favicon.value ))
        cf_dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
        enable_invitations: (( .properties.push_apps_manager_enable_invitations.value ))
        display_plan_prices: (( .properties.push_apps_manager_display_plan_prices.value ))
        currency_lookup: (( .properties.push_apps_manager_currency_lookup.value ))
        buildpack: (( .properties.push_apps_manager_buildpack.value ))
        instances: 2
        memory: (( .properties.push_apps_manager_memory.value ))
        poll_interval: (( .properties.push_apps_manager_poll_interval.value ))
        app_poll_interval: (( .properties.push_apps_manager_app_poll_interval.value ))
        white_labeling:
          marketplace_name: (( .properties.push_apps_manager_marketplace_name.value ))
          marketplace_url: (( .properties.push_apps_manager_marketplace_url.value ))
          nav_links: (( .properties.push_apps_manager_nav_links.value ))
          product_name: (( .properties.push_apps_manager_product_name.value ))
      app_usage_service:
        url: https://app-usage.(( .cloud_controller.system_domain.value ))
      cf:
        api_url: https://api.(( .cloud_controller.system_domain.value ))
        uaa_url: https://login.(( .cloud_controller.system_domain.value ))
        notifications_service_url: https://notifications.(( .cloud_controller.system_domain.value ))
        admin_username: (( .uaa.push_apps_manager_credentials.identity ))
        admin_password: (( .uaa.push_apps_manager_credentials.password ))
        system_domain: (( .cloud_controller.system_domain.value ))
        apps_domain: (( .cloud_controller.apps_domain.value ))
      search_server:
        buildpack: (( .properties.push_apps_manager_search_server_buildpack.value ))
        memory: (( .properties.push_apps_manager_search_server_memory.value ))
      invitations:
        buildpack: (( .properties.push_apps_manager_invitations_buildpack.value ))
        instances: 1
        memory: (( .properties.push_apps_manager_invitations_memory.value ))
        uaa_client_secret: (( .uaa.invitations_client_credentials.password ))
      metric_registrar:
        enabled: (( .properties.metric_registrar_enabled.value ))
      networking:
        enable_space_developer_self_service: (( .properties.cf_networking_enable_space_developer_self_service.value ))
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
        disable_http_for_links: (( .properties.routing_disable_http.value ))
      login:
        saml:
          providers: (( .properties.uaa.selected_option.parsed_manifest(saml_provider) ))
    name: push-apps-manager
    release: push-apps-manager-release
  - _hack: null
    manifest: |
      autoscale:
        api:
          java_buildpack: 'java_buildpack_offline'
          disable_connection_pooling: (( .properties.autoscale_api_disable_connection_pooling.value ))
        api_instance_count: (( .properties.autoscale_api_instance_count.value ))
        broker:
          password: ((( deploy-autoscaling-broker-credentials.password )))
          user: ((( deploy-autoscaling-broker-credentials.username )))
        cf:
          admin_password: (( .uaa.admin_credentials.password ))
          admin_user: (( .uaa.admin_credentials.identity ))
          dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
        database: (( .properties.system_database.selected_option.parsed_manifest(autoscaling) ))
        encryption_key: ((( deploy-autoscaling-encryption-key )))
        instance_count: (( .properties.autoscale_instance_count.value ))
        instance_memory: '256M'
        log_level: 'error'
        log_verbose: (( .properties.autoscale_enable_verbose_logging.value ))
        marketplace_company_name: VMware, Inc. or its affiliates
        # $v is declared higher up
        marketplace_documentation_url: https://docs.pivotal.io/pivotalcf/2-11/appsman-services/autoscaler/using-autoscaler.html
        marketplace_image_url: data:image/png;base64,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
        metric_collection_interval: (( .properties.autoscale_metric_bucket_count.value ))
        enable_notifications: (( .properties.autoscale_enable_notifications.value ))
        notifications_host: https://notifications.(( .cloud_controller.system_domain.value))
        organization: system
        scaling_interval_in_seconds: (( .properties.autoscale_scaling_interval_in_seconds.value ))
        space: autoscaling
      domain: (( .cloud_controller.system_domain.value ))
      doppler:
        host: wss://doppler.(( .cloud_controller.system_domain.value )):(( .properties.logger_endpoint_port.value || "443" ))
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
      uaa:
        api_client_id: (( .uaa.autoscale_api_client_credentials.identity ))
        api_client_secret: (( .uaa.autoscale_api_client_credentials.password ))
        client: (( .uaa.autoscale_client_credentials.identity ))
        client_secret: (( .uaa.autoscale_client_credentials.password ))
    name: deploy-autoscaler
    release: cf-autoscaling
  - manifest: |
      domain: (( .cloud_controller.system_domain.value ))
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
      notifications:
        network: notifications
        database: (( .properties.system_database.selected_option.parsed_manifest(notifications) ))
        uaa:
          admin_client_id: (( .uaa.admin_client_credentials.identity ))
          admin_client_secret: (( .uaa.admin_client_credentials.password ))
          client_id: (( .uaa.notifications_client_credentials.identity ))
          client_secret: (( .uaa.notifications_client_credentials.password ))
        app_domain: (( .cloud_controller.system_domain.value ))
        encryption_key: ((( deploy-notifications-encryption-key )))
        enable_diego: true
        syslog_url: (( .properties.system_logging.selected_option.parsed_manifest(syslog_url) ))
        organization: system
        buildpack_url: go_buildpack
        instance_count: 3
        space: notifications-with-ui
        error_on_misconfiguration: false
        smtp:
          tls: (( .properties.smtp_enable_starttls_auto.value ))
          auth_mechanism: (( .properties.smtp_auth_mechanism.value ))
          crammd5_secret: (( .properties.smtp_crammd5_secret.value ))
          host: (( .properties.smtp_address.value ))
          pass: (( .properties.smtp_credentials.password ))
          port: (( .properties.smtp_port.value ))
          user: (( .properties.smtp_credentials.identity ))
        sender: (( .properties.smtp_from.value ))
        cf:
          dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
        default_template: |
          {
            "name": "Default Template",
            "subject": "CF Notification: {{.Subject}}",
            "html": "\u003ctable width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-collapse:collapse;font-family: Helvetica, Arial,sans-serif\"\u003e\n    \u003ctbody\u003e\n        \u003ctr\u003e\n            \u003ctd width=\"100%\" align=\"center\" bgcolor=\"#F8f8f8\" style=\"padding-right:10px;padding-left:10px\"\u003e\n                \u003ctable width=\"600\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-collapse:collapse\"\u003e\n                    \u003ctbody\u003e\n                        \u003ctr\u003e\n                            \u003ctd align=\"left\" valign=\"top\" style=\"padding-bottom:30px;padding-top:30px\"\u003e\n                              \u003cimg src=\"http://notifications-ui.{{.Domain}}/assets/pivotal_logo.png\"\n                                alt=\"VMware Tanzu Application Service\" border=\"0\" style=\"display:block\" class=\"CToWUd\"\n                                width=\"166px\" height=\"35px\"\u003e\n                            \u003c/td\u003e\n                        \u003c/tr\u003e\n                    \u003c/tbody\u003e\n                \u003c/table\u003e\n                \u003ctable width=\"600\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-collapse:collapse\"\u003e\n                    \u003ctbody\u003e\n                        \u003ctr\u003e\n                            \u003ctd align=\"left\" valign=\"top\" bgcolor=\"#FFFFFF\"\u003e\n                                \u003ctable width=\"600\" cellpadding=\"40\" cellspacing=\"0\" border=\"0\" style=\"border-collapse:collapse;border:1px solid #e0e4e5\"\u003e\n                                    \u003ctbody\u003e\n                                        \u003ctr\u003e\n                                            \u003ctd style=\"color:#666666;font-size:16px;line-height:22px\"\u003e\n                                                \u003cdiv\u003e\n                                                    {{.HTML}}\n                                                \u003c/div\u003e\n                                            \u003c/td\u003e\n                                        \u003c/tr\u003e\n                                    \u003c/tbody\u003e\n                                \u003c/table\u003e\n                            \u003c/td\u003e\n                        \u003c/tr\u003e\n                    \u003c/tbody\u003e\n                \u003c/table\u003e\n                \u003ctable width=\"600\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-collapse:collapse;font-size:12px;color:#b4b4b4\"\u003e\n                    \u003ctbody\u003e\n                        \u003ctr\u003e\n                          \u003ctd align=\"left\" valign=\"middle\" style=\"padding-top:20px;padding-bottom:20px\"\u003eManage your \u003ca href=\"https://notifications-ui.{{.Domain}}/preferences\"\n                                target=\"_blank\"\u003enotification preferences\u003c/a\u003e or\n                              \u003ca href=\"https://notifications-ui.{{.Domain}}/unsubscribe/{{.UnsubscribeID}}\"\n                                target=\"_blank\"\u003eunsubscribe\u003c/a\u003e\n                            \u003c/td\u003e\n                        \u003c/tr\u003e\n                        \u003ctr\u003e\n                            \u003ctd align=\"left\" valign=\"middle\" style=\"padding-bottom:20px\"\u003eVMware Tanzu Application Service, and the VMware Tanzu Application Service logo are registered\n                                trademarks or trademarks of VMware, Inc. or its affiliates.\n                                in the United States and other countries. All other\n                                trademarks used herein are the property of their\n                                respective owners.\n                                \u003ca\u003e\n                            \u003c/td\u003e\n                        \u003c/tr\u003e\n                        \u003ctr\u003e\n                            \u003ctd align=\"left\" valign=\"middle\" style=\"padding-bottom:20px\"\u003e\u00A9 2020 VMware, Inc. or its affiliates. All rights reserved.\n                                Published in the USA.\n                                \u003ca\u003e\n                            \u003c/td\u003e\n                        \u003c/tr\u003e\n                    \u003c/tbody\u003e\n                \u003c/table\u003e\n            \u003c/td\u003e\n        \u003c/tr\u003e\n    \u003c/tbody\u003e\n\u003c/table\u003e\n",
            "text": "_____\n\n\nVMware Tanzu Application Service\n\n{{.Text}}\n\nManage your notification preferences:\nhttps://notifications-ui.{{.Domain}}/preferences\n\nUnsubscribe from Pivotal emails:\nhttps://notifications-ui.{{.Domain}}/unsubscribe/{{.UnsubscribeID}}\n\nVMware Tanzu Application Service, and the VMware Tanzu Application Service logo are registered trademarks or trademarks of VMware, Inc. or its affiliates. in the United States and other countries. All other trademarks used herein are the property of their respective owners.\n\n\u00A9 2020 VMware, Inc. or its affiliates. All rights reserved. Published in the USA.\n\n______\n",
            "metadata": {}
          }
    name: deploy-notifications
    release: notifications
  - manifest: |
      nfsbrokerpush:
        domain: (( .cloud_controller.system_domain.value ))
        cf:
          admin_user: (( .uaa.admin_credentials.identity ))
          admin_password: (( .uaa.admin_credentials.password ))
          dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
        credhub:
          uaa_ca_cert: (( $ops_manager.ca_certificate ))
          uaa_client_id: (( .uaa.nfsbroker_credhub_client_credentials.identity ))
          uaa_client_secret: (( .uaa.nfsbroker_credhub_client_credentials.password ))
        organization: system
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
        app_domain: (( .cloud_controller.system_domain.value ))
        space: nfs
        username: ((( nfs-broker-push-db-credentials.username )))
        password: ((( nfs-broker-push-db-credentials.password )))
        syslog_url: (( .properties.system_logging.selected_option.parsed_manifest(syslog_url) ))
        ldap_enabled: (( .properties.nfs_volume_driver.enable.ldap_server_host.value_present? ))
        store_id: nfsbroker
    name: nfsbrokerpush
    provides: |
      nfsbrokerpush: {as: nfsbrokerpush}
    release: nfs-volume
  - manifest: |
      app_domain: (( .cloud_controller.system_domain.value ))
      domain: (( .cloud_controller.system_domain.value ))
      cf:
        client_id: (( .uaa.smbbroker_client_credentials.identity ))
        client_secret: (( .uaa.smbbroker_client_credentials.password ))
      credhub:
        url: https://credhub.service.cf.internal:8844
        uaa_client_id: (( .uaa.smbbroker_credhub_client_credentials.identity ))
        uaa_client_secret: (( .uaa.smbbroker_credhub_client_credentials.password ))
        store_id: smbbroker
      organization: system
      space: smb
      username: ((( smb-broker-credentials.username )))
      password: ((( smb-broker-credentials.password )))
      skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
      syslog_url: (( .properties.system_logging.selected_option.parsed_manifest(syslog_url) ))
    name: smbbrokerpush
    provides: |
      smbbrokerpush: {as: smbbrokerpush}
    release: smb-volume
  - manifest: |-
      apps_manager:
        cf_dial_timeout: (( .properties.cf_dial_timeout_in_seconds.value ))
      cf:
        api_url: https://api.(( .cloud_controller.system_domain.value ))
        uaa_url: https://login.(( .cloud_controller.system_domain.value ))
        notifications_service_url: https://notifications.(( .cloud_controller.system_domain.value ))
        admin_username: (( .uaa.push_apps_manager_credentials.identity ))
        admin_password: (( .uaa.push_apps_manager_credentials.password ))
        system_domain: (( .cloud_controller.system_domain.value ))
        apps_domain: (( .cloud_controller.apps_domain.value ))
      ssl:
        skip_cert_verify: (( .ha_proxy.skip_cert_verify.value ))
    name: bbr-apps-manager
    release: push-apps-manager-release
  - consumes: 'smbbrokerpush: {from: smbbrokerpush}'
    name: bbr-smbbroker
    release: smb-volume
  - consumes: |
      nfsbrokerpush: {from: nfsbrokerpush}
    name: nfsbroker-bbr-lock
    release: nfs-volume
- description: An datastore node for Diego
  instance_definition:
    configurable: false
    constraints:
      min: 0
    default: 0
    label: Instances
    name: instances
    type: integer
  label: Diego BBS
  max_in_flight: 1
  name: diego_database
  property_blueprints:
  - configurable: false
    default:
      domains:
      - locket.service.cf.internal
    name: locket_server_cert
    type: rsa_cert_credentials
  - configurable: false
    default:
      domains:
      - silk-controller.service.cf.internal
    name: silk_controller_server_cert
    type: rsa_cert_credentials
  - configurable: false
    name: silk_daemon_client_cert
    type: rsa_cert_credentials
  resource_definitions:
  - configurable: true
    constraints:
      min: 1024
    default: 1024
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 1024
    default: 2048
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 1
    label: CPU
    name: cpu
    type: integer
  resource_label: Diego BBS
  serial: true
  single_az_only: false
  templates:
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
    name: loggregator_agent
    release: loggregator-agent
- description: Authentication and Authorization service for VMware Tanzu Application
    Service
  instance_definition:
    configurable: false
    constraints:
      min: 0
    default: 0
    label: Instances
    name: instances
    type: integer
  label: UAA
  max_in_flight: 1
  name: uaa
  property_blueprints:
  - default:
      identity: admin
    name: admin_credentials
    type: simple_credentials
  - default:
      identity: push_apps_manager
    name: push_apps_manager_credentials
    type: simple_credentials
  - default:
      identity: smoke_tests
    name: run_smoke_tests_credentials
    type: simple_credentials
  - default:
      identity: system_services
    name: system_services_credentials
    type: simple_credentials
  - default:
      identity: system_verification
    name: system_verification_credentials
    type: simple_credentials
  - default:
      identity: system_passwords
    name: system_passwords_client_credentials
    type: simple_credentials
  - default:
      identity: login
    name: login_client_credentials
    type: simple_credentials
  - default:
      identity: identity
    label: Identity client credentials
    name: identity_client_credentials
    type: simple_credentials
  - default:
      identity: gorouter
    name: gorouter_client_credentials
    type: simple_credentials
  - default:
      identity: doppler
    name: doppler_client_credentials
    type: simple_credentials
  - default:
      identity: noisy_neighbor_nozzle
    name: noisy_neighbor_client_credentials
    type: simple_credentials
  - default:
      identity: opentsdb-firehose-nozzle
    name: opentsdb_nozzle_credentials
    type: simple_credentials
  - default:
      identity: push_usage_service
    name: push_usage_service_client_credentials
    type: simple_credentials
  - default:
      identity: usage_service
    name: usage_service_client_credentials
    type: simple_credentials
  - default:
      identity: invitations
    name: invitations_client_credentials
    type: simple_credentials
  - default:
      identity: autoscaling_service
    name: autoscale_client_credentials
    type: simple_credentials
  - default:
      identity: autoscaling_api
    name: autoscale_api_client_credentials
    type: simple_credentials
  - default:
      identity: cc-service-dashboards
    name: cc_service_dashboards_credentials
    type: simple_credentials
  - default:
      identity: cc_service_key_client
    name: cc_service_key_credentials
    type: simple_credentials
  - default:
      identity: credhub_admin_client
    name: credhub_admin_client_client_credentials
    type: simple_credentials
  - default:
      identity: services_credhub_client
    name: services_credhub_credentials
    type: simple_credentials
  - default:
      identity: cloud_controller
    name: cc_client_credentials
    type: simple_credentials
  - default:
      identity: admin
    name: admin_client_credentials
    type: simple_credentials
  - name: jwt_signing_key_credentials
    type: rsa_pkey_credentials
  - default:
      identity: notifications
    name: notifications_client_credentials
    type: simple_credentials
  - default:
      identity: notifications_template
    name: notifications_template_client_credentials
    type: simple_credentials
  - default:
      identity: ssh_proxy
    name: ssh_proxy_client_credentials
    type: simple_credentials
  - default:
      identity: notifications_ui_client
    name: notifications_ui_client_credentials
    type: simple_credentials
  - default:
      identity: cloud_controller_username_lookup
    name: cloud_controller_username_lookup_credentials
    type: simple_credentials
  - default:
      identity: cc_routing
    name: cc_routing_credentials
    type: simple_credentials
  - default:
      identity: apps_metrics
    name: apps_metrics_credentials
    type: simple_credentials
  - default:
      identity: apps_metrics_processing
    name: apps_metrics_processing_credentials
    type: simple_credentials
  - default:
      identity: catalyst
    name: catalyst_credentials
    type: simple_credentials
  - default:
      identity: healthwatch_ui
    name: healthwatch_ui_credentials
    type: simple_credentials
  - default:
      identity: healthwatch_api_admin
    name: healthwatch_api_admin_credentials
    type: simple_credentials
  - default:
      identity: healthwatch_alerts
    name: healthwatch_alerts_credentials
    type: simple_credentials
  - default:
      identity: healthwatch_firehose
    name: healthwatch_firehose_credentials
    type: simple_credentials
  - default:
      identity: tcp_router
    name: tcp_router_credentials
    type: simple_credentials
  - default:
      identity: tcp_emitter
    name: tcp_emitter_credentials
    type: simple_credentials
  - default:
      identity: loggregator
    name: loggregator_credentials
    type: simple_credentials
  - default:
      identity: loggregator
    name: metric_registrar_credentials
    type: simple_credentials
  - default:
      identity: metric_registrar_smoke_test
    name: metric_registrar_smoke_test_credentials
    type: simple_credentials
  - configurable: true
    name: service_provider_key_credentials
    type: rsa_cert_credentials
  - configurable: true
    name: service_provider_key_password
    optional: true
    type: secret
  - configurable: true
    default: 3600
    name: apps_manager_access_token_lifetime
    type: integer
  - configurable: true
    default: 7200
    name: cf_cli_access_token_lifetime
    type: integer
  - configurable: true
    default: 1209600
    name: cf_cli_refresh_token_lifetime
    type: integer
  - configurable: true
    default: true
    name: enable_uri_encoding_compatibility_mode
    type: boolean
  - default:
      domains:
      - uaa.service.cf.internal
    name: ssl_credentials
    type: rsa_cert_credentials
  - default:
      identity: concourse_atc
    name: concourse_atc_client_credentials
    type: simple_credentials
  - default:
      identity: logsearch-firehose
    name: logsearch_firehose_credentials
    type: simple_credentials
  - default:
      identity: splunk-firehose
    name: splunk_firehose_credentials
    type: simple_credentials
  - default:
      identity: stackdriver-nozzle
    name: stackdriver_nozzle_credentials
    type: simple_credentials
  - default:
      identity: solace_router
    name: solace_router_client_credentials
    type: simple_credentials
  - default:
      identity: greenplum_broker
    name: greenplum_broker_client_credentials
    type: simple_credentials
  - default:
      identity: greenplum_router_admin
    name: greenplum_router_admin_client_credentials
    type: simple_credentials
  - default:
      identity: greenplum_router
    name: greenplum_router_client_credentials
    type: simple_credentials
  - default:
      identity: cloudcache_broker
    name: cloudcache_broker_client_credentials
    type: simple_credentials
  - default:
      identity: dedicated-mysql-notifications
    name: dedicated_mysql_notifications_client_credentials
    type: simple_credentials
  - configurable: true
    default: Email
    name: customize_username_label
    type: string
  - configurable: true
    default: Password
    name: customize_password_label
    type: string
  - default:
      identity: push-notifications-dashboard
    name: push_notifications_dashboard_client
    type: simple_credentials
  - default:
      identity: push-api-client
    name: push_api_client
    type: simple_credentials
  - default:
      identity: network-policy-server
    name: network_policy_server_client
    type: simple_credentials
  - default:
      identity: container-networking-interface
    name: container_networking_interface_client_credentials
    type: simple_credentials
  - configurable: true
    default: 10\.\d{1,3}\.\d{1,3}\.\d{1,3}|192\.168\.\d{1,3}\.\d{1,3}|169\.254\.\d{1,3}\.\d{1,3}|127\.\d{1,3}\.\d{1,3}\.\d{1,3}|172\.1[6-9]{1}\.\d{1,3}\.\d{1,3}|172\.2[0-9]{1}\.\d{1,3}\.\d{1,3}|172\.3[0-1]{1}\.\d{1,3}\.\d{1,3}
    name: proxy_ips_regex
    type: string
  - configurable: true
    name: issuer_uri
    optional: true
    type: string
  - default:
      identity: tile_installer
    name: tile_installer_client_credentials
    type: simple_credentials
  - default:
      identity: nfs-broker-credhub
    name: nfsbroker_credhub_client_credentials
    type: simple_credentials
  - default:
      identity: smb-broker
    name: smbbroker_client_credentials
    type: simple_credentials
  - default:
      identity: smb-broker-credhub
    name: smbbroker_credhub_client_credentials
    type: simple_credentials
  - default:
      identity: telemetry-usage-service
    name: telemetry_usage_service_client_credentials
    type: simple_credentials
  resource_definitions:
  - configurable: true
    constraints:
      min: 1024
    default: 4096
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 2048
    default: 32768
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 2
    label: CPU
    name: cpu
    type: integer
  resource_label: UAA
  serial: true
  single_az_only: false
  templates:
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
    name: loggregator_agent
    release: loggregator-agent
- description: Coordinates VMware Tanzu Application Service application lifecycles
  instance_definition:
    configurable: false
    constraints:
      min: 0
    default: 0
    label: Instances
    name: instances
    type: integer
  label: Cloud Controller
  max_in_flight: 1
  name: cloud_controller
  property_blueprints:
  - default:
      identity: db_encryption
    name: db_encryption_credentials
    type: simple_credentials
  - configurable: true
    name: encrypt_key
    optional: true
    type: secret
  - configurable: true
    constraints:
      max: 2048
      min: 1024
    default: 1024
    name: max_file_size
    optional: false
    type: integer
  - configurable: true
    constraints:
      min: 2147483648
    default: 2147483648
    name: max_package_size
    optional: false
    type: integer
  - configurable: true
    constraints:
      max: 2048
      min: 64
    default: 1024
    name: default_app_memory
    optional: false
    type: integer
  - configurable: true
    constraints:
      max: 20480
      min: 512
    default: 2048
    name: max_disk_quota_app
    optional: false
    type: integer
  - configurable: true
    constraints:
      max: 20480
      min: 512
    default: 1024
    name: default_disk_quota_app
    optional: false
    type: integer
  - configurable: true
    default: true
    name: enable_custom_buildpacks
    optional: false
    type: boolean
  - configurable: true
    name: system_domain
    type: wildcard_domain
  - configurable: true
    name: apps_domain
    type: wildcard_domain
  - configurable: true
    constraints:
      max: 102400
      min: 10240
    default: 10240
    name: default_quota_memory_limit_mb
    type: integer
  - configurable: true
    constraints:
      max: 1000
      min: 0
    default: 100
    name: default_quota_max_number_services
    type: integer
  - configurable: true
    default: 900
    name: staging_timeout_in_seconds
    type: integer
  - configurable: true
    default: true
    name: allow_app_ssh_access
    type: boolean
  - configurable: true
    default: true
    name: default_app_ssh_access
    type: boolean
  - configurable: true
    default: true
    name: security_event_logging_enabled
    type: boolean
  - configurable: false
    name: locket_client_cert
    type: rsa_cert_credentials
  resource_definitions:
  - configurable: true
    constraints:
      min: 4096
    default: 4096
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 20480
    default: 20480
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 1
    label: CPU
    name: cpu
    type: integer
  resource_label: Cloud Controller
  serial: true
  single_az_only: false
  templates:
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
    name: loggregator_agent
    release: loggregator-agent
- description: |
    HAProxy is the default load balancer for SSL termination. Alternatively, you
    can use your own load balancer and forward traffic to the VMware Tanzu Application
    Service router IP. Self signed certificates will function properly.
  instance_definition:
    configurable: true
    constraints:
      min: 0
    default: 0
    label: Instances
    name: instances
    type: integer
  label: HAProxy
  max_in_flight: 1
  name: ha_proxy
  property_blueprints:
  - configurable: true
    name: static_ips
    optional: true
    type: ip_ranges
  - configurable: true
    name: skip_cert_verify
    type: boolean
  - configurable: true
    name: internal_only_domains
    optional: true
    type: string_list
  - configurable: true
    name: trusted_domain_cidrs
    optional: true
    type: string
  resource_definitions:
  - configurable: true
    constraints:
      min: 1024
    default: 1024
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 2048
    default: 2048
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 1
    label: CPU
    name: cpu
    type: integer
  resource_label: HAProxy
  single_az_only: false
  templates:
  - name: bpm
    release: bpm
  - manifest: |
      ha_proxy:
        backend_ca_file: (( .properties.haproxy_forward_tls.enable.backend_ca.value ))
        backend_crt: |
          (( .properties.haproxy_client_certificate.cert_pem ))
          (( .properties.haproxy_client_certificate.private_key_pem ))
        backend_port: (( .properties.haproxy_forward_tls.selected_option.parsed_manifest(backend_port) ))
        backend_ssl: (( .properties.haproxy_forward_tls.selected_option.parsed_manifest(backend_ssl) ))
        buffer_size_bytes: (( .properties.haproxy_max_buffer_size.value ))
        client_ca_file: (( .properties.haproxy_custom_ca_certificates.value ))
        client_cert: (( .properties.haproxy_client_cert_validation.selected_option.parsed_manifest(client_cert_validation) ))
        client_timeout: (( .router.request_timeout_in_seconds.value ))
        custom_http_error_files:
          "503": |
                 HTTP/1.1 503 Service Unavailable
                 Cache-Control: no-cache
                 Connection: close
                 Content-Type: text/html

                 <html><body><h1>503 Service Unavailable</h1>
                 No server is available to handle this request.
                 </body></html>

          "504": |
                 HTTP/1.1 504 Gateway Time-out
                 Cache-Control: no-cache
                 Connection: close
                 Content-Type: text/html

                 <html><body><h1>504 Gateway Time-out</h1>
                 The server didn't respond in time.
                 </body></html>
        disable_http: (( .properties.routing_disable_http.value ))
        disable_tls_10: (( .properties.routing_minimum_tls_version.selected_option.parsed_manifest(disable_tls_10) ))
        disable_tls_11: (( .properties.routing_minimum_tls_version.selected_option.parsed_manifest(disable_tls_11) ))
        enable_health_check_http: true
        hsts_enable: (( .properties.haproxy_hsts_support.selected_option.parsed_manifest(hsts_enable) ))
        hsts_include_subdomains: (( .properties.haproxy_hsts_support.selected_option.parsed_manifest(hsts_include_subdomains) ))
        hsts_max_age: (( .properties.haproxy_hsts_support.selected_option.parsed_manifest(hsts_max_age) ))
        hsts_preload: (( .properties.haproxy_hsts_support.selected_option.parsed_manifest(hsts_preload) ))
        internal_only_domains: (( .ha_proxy.internal_only_domains.parsed_strings ))
        keepalive_timeout: (( .router.frontend_idle_timeout.value ))
        server_timeout: (( .router.request_timeout_in_seconds.value ))
        ssl_ciphers: (( .properties.haproxy_ssl_ciphers.value ))
        ssl_pem: (( .properties.networking_poe_ssl_certs.parsed_manifest(routing_certificates_and_private_keys) ))
        tcp_link_port: 2222
        trusted_domain_cidrs: (( .ha_proxy.trusted_domain_cidrs.value ))
    name: haproxy
    release: haproxy
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_agent_metrics_tls.cert_pem ))
        key: (( .properties.loggregator_agent_metrics_tls.private_key_pem ))
        server_name: loggregator_agent_metrics
      grpc_port: 3459
      disable_udp: true
      disable_logs: (( .properties.disable_logs_in_firehose.value ))
      loggregator_agent:
        enabled: (( .properties.enable_v2_firehose.value ))
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggregator_agent
    release: loggregator-agent
  - manifest: |
      port: 3460
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.syslog_agent_metrics_tls.cert_pem ))
        key: (( .properties.syslog_agent_metrics_tls.private_key_pem ))
        server_name: syslog_agent_metrics
      cache:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: (( .properties.syslog_agent_api_tls.cert_pem ))
          key: (( .properties.syslog_agent_api_tls.private_key_pem ))
          cn: binding-cache
      aggregate_drains: syslog-tls://doppler.service.cf.internal:6067?include-metrics-deprecated=true,(( .properties.syslog_agent_aggregate_drains.value ))
      drain_ca_cert: (( $ops_manager.ca_certificate ))
    name: loggr-syslog-agent
    release: loggregator-agent
  - manifest: |
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_discovery_metrics_tls.cert_pem ))
        key: (( .properties.metrics_discovery_metrics_tls.private_key_pem ))
        server_name: metrics_discovery_metrics
      nats_client:
        cert: (( .properties.nats_client_cert.cert_pem ))
        key: (( .properties.nats_client_cert.private_key_pem ))
    name: metrics-discovery-registrar
    release: metrics-discovery
  - manifest: |
      metrics_exporter_port: 14726
      grpc:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_agent_metrics_tls.cert_pem ))
        key: (( .properties.metrics_agent_metrics_tls.private_key_pem ))
        server_name: metrics_agent_metrics
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
    name: metrics-agent
    release: metrics-discovery
  - manifest: |
      port: 3458
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.forwarder_agent_metrics_tls.cert_pem ))
        key: (( .properties.forwarder_agent_metrics_tls.private_key_pem ))
        server_name: forwarder_agent_metrics
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggr-forwarder-agent
    release: loggregator-agent
  - manifest: |-
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
          cn: prom_scraper
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: "((.properties.prom_scraper_metrics_tls.cert_pem))"
        key: "((.properties.prom_scraper_metrics_tls.private_key_pem))"
        server_name: prom_scraper_metrics
    name: prom_scraper
    release: loggregator-agent
  - manifest: |
      syslog: (( .properties.system_logging.selected_option.parsed_manifest(syslog) ))
    name: syslog_forwarder
    release: syslog
- description: Diego Brain
  instance_definition:
    configurable: false
    constraints:
      min: 0
    default: 0
    label: Instances
    name: instances
    type: integer
  label: Diego Brain
  max_in_flight: 1
  name: diego_brain
  property_blueprints:
  - configurable: false
    name: ssh_host_key
    type: rsa_pkey_credentials
  - configurable: true
    name: static_ips
    optional: true
    type: ip_ranges
  - configurable: true
    default: 200
    name: starting_container_count_maximum
    type: integer
  - configurable: false
    default:
      domains:
      - cc-uploader.service.cf.internal
    name: cc_uploader_server_cert
    type: rsa_cert_credentials
  resource_definitions:
  - configurable: true
    constraints:
      min: 1024
    default: 2048
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 4096
    default: 4096
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 1
    label: CPU
    name: cpu
    type: integer
  resource_label: Diego Brain
  single_az_only: false
  templates:
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
    name: loggregator_agent
    release: loggregator-agent
- description: |
    Routers route Internet traffic to applications and between VMware Tanzu
    Application Service components.
  instance_definition:
    configurable: true
    constraints:
      min: 1
    default: 1
    label: Instances
    name: instances
    type: integer
  label: Router
  max_in_flight: 1
  name: router
  property_blueprints:
  - configurable: true
    name: static_ips
    optional: true
    type: ip_ranges
  - configurable: true
    default: false
    name: disable_insecure_cookies
    type: boolean
  - configurable: true
    constraints:
      min: 1
    default: 900
    name: request_timeout_in_seconds
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 900
    name: frontend_idle_timeout
    type: integer
  - configurable: true
    default: 20
    name: drain_wait
    type: integer
  - configurable: true
    default: 900
    name: drain_timeout
    type: integer
  - configurable: true
    default: 20
    name: lb_healthy_threshold
    type: integer
  - configurable: true
    default: true
    name: enable_zipkin
    type: boolean
  - configurable: true
    default: true
    name: enable_write_access_logs
    type: boolean
  - configurable: true
    name: extra_headers_to_log
    optional: true
    type: string_list
  - configurable: true
    default: false
    name: enable_isolated_routing
    type: boolean
  resource_definitions:
  - configurable: true
    constraints:
      min: 1024
    default: 1024
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 2048
    default: 2048
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 2
    label: CPU
    name: cpu
    type: integer
  resource_label: Router
  serial: true
  single_az_only: false
  templates:
  - name: bpm
    release: bpm
  - manifest: |
      uaa:
        clients:
          gorouter:
            secret: (( .uaa.gorouter_client_credentials.password ))
        ca_cert: (( $ops_manager.ca_certificate ))
        ssl:
          port: 8443
      request_timeout_in_seconds: (( .router.request_timeout_in_seconds.value ))
      router:
        http_rewrite:
          responses:
            remove_headers: (( .properties.router_headers_remove_if_specified.value ))
        balancing_algorithm: (( .properties.router_balancing_algorithm.value ))
        backends:
          max_conns: (( .properties.router_backend_max_conn.value ))
          enable_tls: true
          cert_chain: (( .properties.routing_backends_client_cert_with_san.cert_pem ))
          private_key: (( .properties.routing_backends_client_cert_with_san.private_key_pem ))
        ca_certs: |
          (( .properties.routing_custom_ca_certificates.value ))
          (( $ops_manager.ca_certificate ))
          ((( /services/tls_leaf.ca )))
          ((( diego-instance-identity-intermediate-ca-2-7.ca )))
          (( .properties.network_policy_server_external_cert.cert_pem ))
        forwarded_client_cert: (( .properties.routing_tls_termination.selected_option.parsed_manifest(gorouter_forwarded_client_cert) ))
        disable_log_forwarded_for: (( .properties.routing_log_client_ips.selected_option.parsed_manifest(disable_log_forwarded_for) ))
        disable_log_source_ips: (( .properties.routing_log_client_ips.selected_option.parsed_manifest(disable_log_source_ips) ))
        max_idle_connections: (( .properties.router_keepalive_connections.selected_option.parsed_manifest(max_idle_connections) ))
        client_cert_validation: (( .properties.router_client_cert_validation.selected_option.parsed_manifest(client_cert_validation) ))
        enable_proxy: (( .properties.router_enable_proxy.value ))
        route_services_secret: (( .properties.route_services.selected_option.parsed_manifest(secret) ))
        route_services_internal_lookup: (( .properties.route_services.selected_option.parsed_manifest(internal_lookup) ))
        ssl_skip_validation: (( .ha_proxy.skip_cert_verify.value ))
        drain_wait: (( .router.drain_wait.value ))
        drain_timeout: (( .router.drain_timeout.value ))
        tracing:
          enable_zipkin: (( .router.enable_zipkin.value ))
        write_access_logs_locally: (( .router.enable_write_access_logs.value ))
        secure_cookies: (( .router.disable_insecure_cookies.value ))
        load_balancer_healthy_threshold: (( .router.lb_healthy_threshold.value ))
        extra_headers_to_log: (( .router.extra_headers_to_log.parsed_strings ))
        routing_table_sharding_mode: '(( .router.enable_isolated_routing.value ? "shared-and-segments" : "all" ))'
        status:
          user: ((( router-status-credentials.username )))
          password: ((( router-status-credentials.password )))
        cipher_suites: (( .properties.gorouter_ssl_ciphers.value ))
        disable_http: (( .properties.routing_disable_http.value ))
        enable_ssl: true
        tls_pem: (( .properties.networking_poe_ssl_certs.parsed_manifest(routing_certificates_and_private_keys) ))
        min_tls_version: (( .properties.routing_minimum_tls_version.selected_option.parsed_manifest(min_tls_version) ))
        frontend_idle_timeout: (( .router.frontend_idle_timeout.value ))
        sticky_session_cookie_names: (( .properties.router_sticky_session_cookie_names.parsed_manifest(sticky_session_cookie_names) ))
        logging:
          format:
            timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_deprecated) ))
      routing_api:
        enabled: true
    name: gorouter
    release: routing
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_agent_metrics_tls.cert_pem ))
        key: (( .properties.loggregator_agent_metrics_tls.private_key_pem ))
        server_name: loggregator_agent_metrics
      grpc_port: 3459
      disable_udp: true
      disable_logs: (( .properties.disable_logs_in_firehose.value ))
      loggregator_agent:
        enabled: (( .properties.enable_v2_firehose.value ))
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggregator_agent
    release: loggregator-agent
  - manifest: |
      port: 3460
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.syslog_agent_metrics_tls.cert_pem ))
        key: (( .properties.syslog_agent_metrics_tls.private_key_pem ))
        server_name: syslog_agent_metrics
      cache:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: (( .properties.syslog_agent_api_tls.cert_pem ))
          key: (( .properties.syslog_agent_api_tls.private_key_pem ))
          cn: binding-cache
      aggregate_drains: syslog-tls://doppler.service.cf.internal:6067?include-metrics-deprecated=true,(( .properties.syslog_agent_aggregate_drains.value ))
      drain_ca_cert: (( $ops_manager.ca_certificate ))
    name: loggr-syslog-agent
    release: loggregator-agent
  - manifest: |
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_discovery_metrics_tls.cert_pem ))
        key: (( .properties.metrics_discovery_metrics_tls.private_key_pem ))
        server_name: metrics_discovery_metrics
      nats_client:
        cert: (( .properties.nats_client_cert.cert_pem ))
        key: (( .properties.nats_client_cert.private_key_pem ))
    name: metrics-discovery-registrar
    release: metrics-discovery
  - manifest: |
      metrics_exporter_port: 14726
      grpc:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_agent_metrics_tls.cert_pem ))
        key: (( .properties.metrics_agent_metrics_tls.private_key_pem ))
        server_name: metrics_agent_metrics
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
    name: metrics-agent
    release: metrics-discovery
  - manifest: |
      port: 3458
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.forwarder_agent_metrics_tls.cert_pem ))
        key: (( .properties.forwarder_agent_metrics_tls.private_key_pem ))
        server_name: forwarder_agent_metrics
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggr-forwarder-agent
    release: loggregator-agent
  - manifest: |-
      loggregator:
        tls:
          ca: (( $ops_manager.ca_certificate ))
          cert: (( .doppler.metron_tls_cert.cert_pem ))
          key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggr_udp_forwarder_tls.cert_pem ))
        key: (( .properties.loggr_udp_forwarder_tls.private_key_pem ))
        server_name: loggr_udp_forwarder_metrics
    name: loggr-udp-forwarder
    release: loggregator-agent
  - manifest: |-
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
          cn: prom_scraper
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: "((.properties.prom_scraper_metrics_tls.cert_pem))"
        key: "((.properties.prom_scraper_metrics_tls.private_key_pem))"
        server_name: prom_scraper_metrics
    name: prom_scraper
    release: loggregator-agent
  - manifest: |
      syslog: (( .properties.system_logging.selected_option.parsed_manifest(syslog) ))
    name: syslog_forwarder
    release: syslog
- description: Monitors the MySQL Cluster
  instance_definition:
    configurable: true
    constraints:
      max: 1
    default: 1
    label: Instances
    name: instances
    type: integer
    zero_if:
      allow_manual_selection_of_zero: true
      property_reference: .properties.system_database
      property_values:
      - external
  label: MySQL Monitor
  max_in_flight: 1
  name: mysql_monitor
  property_blueprints:
  - configurable: true
    default: 30
    name: poll_frequency
    type: integer
  - configurable: true
    default: 20
    name: write_read_delay
    type: integer
  - configurable: true
    name: recipient_email
    type: string
  resource_definitions:
  - configurable: true
    constraints:
      min: 256
    default: 1024
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 1024
    default: 1024
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 1
    label: CPU
    name: cpu
    type: integer
  resource_label: MySQL Monitor
  single_az_only: true
  templates:
  - name: bpm
    release: bpm
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_agent_metrics_tls.cert_pem ))
        key: (( .properties.loggregator_agent_metrics_tls.private_key_pem ))
        server_name: loggregator_agent_metrics
      grpc_port: 3459
      disable_udp: true
      disable_logs: (( .properties.disable_logs_in_firehose.value ))
      loggregator_agent:
        enabled: (( .properties.enable_v2_firehose.value ))
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggregator_agent
    release: loggregator-agent
  - manifest: |
      port: 3460
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.syslog_agent_metrics_tls.cert_pem ))
        key: (( .properties.syslog_agent_metrics_tls.private_key_pem ))
        server_name: syslog_agent_metrics
      cache:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: (( .properties.syslog_agent_api_tls.cert_pem ))
          key: (( .properties.syslog_agent_api_tls.private_key_pem ))
          cn: binding-cache
      aggregate_drains: syslog-tls://doppler.service.cf.internal:6067?include-metrics-deprecated=true,(( .properties.syslog_agent_aggregate_drains.value ))
      drain_ca_cert: (( $ops_manager.ca_certificate ))
    name: loggr-syslog-agent
    release: loggregator-agent
  - manifest: |
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_discovery_metrics_tls.cert_pem ))
        key: (( .properties.metrics_discovery_metrics_tls.private_key_pem ))
        server_name: metrics_discovery_metrics
      nats_client:
        cert: (( .properties.nats_client_cert.cert_pem ))
        key: (( .properties.nats_client_cert.private_key_pem ))
    name: metrics-discovery-registrar
    release: metrics-discovery
  - manifest: |
      metrics_exporter_port: 14726
      grpc:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_agent_metrics_tls.cert_pem ))
        key: (( .properties.metrics_agent_metrics_tls.private_key_pem ))
        server_name: metrics_agent_metrics
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
    name: metrics-agent
    release: metrics-discovery
  - manifest: |
      port: 3458
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.forwarder_agent_metrics_tls.cert_pem ))
        key: (( .properties.forwarder_agent_metrics_tls.private_key_pem ))
        server_name: forwarder_agent_metrics
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggr-forwarder-agent
    release: loggregator-agent
  - manifest: |-
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
          cn: prom_scraper
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: "((.properties.prom_scraper_metrics_tls.cert_pem))"
        key: "((.properties.prom_scraper_metrics_tls.private_key_pem))"
        server_name: prom_scraper_metrics
    name: prom_scraper
    release: loggregator-agent
  - consumes: |
      mysql: {from: pxc-direct-mysql}
    name: mysql-diag
    release: mysql-monitoring
  - consumes: |
      mysql: {from: pxc-direct-mysql}
    manifest: |
      cf_mysql:
        external_host: p-mysql-ert.(( .cloud_controller.system_domain.value ))
      cf:
        skip_ssl_validation: (( .ha_proxy.skip_cert_verify.value ))
      domain: (( .cloud_controller.system_domain.value ))
      mysql-monitoring:
        cluster_identifier: cf
        recipient_email: (( recipient_email.value ))
        replication-canary:
          canary_database: monitor
          canary_username: ((( mysql-monitor-db-credentials.username )))
          canary_password: ((( mysql-monitor-db-credentials.password )))
          mysql_port: 13306
          notifications_client_username: (( .uaa.notifications_client_credentials.identity ))
          notifications_client_secret: (( .uaa.notifications_client_credentials.password ))
          poll_frequency: (( poll_frequency.value ))
          switchboard_count: (( .mysql_proxy.instances ))
          switchboard_username: ((( mysql-proxy-dashboard-credentials.username )))
          switchboard_password: ((( mysql-proxy-dashboard-credentials.password )))
          uaa_admin_client_username: (( .uaa.admin_client_credentials.identity ))
          uaa_admin_client_secret: (( .uaa.admin_client_credentials.password ))
          write_read_delay: (( write_read_delay.value ))
      logging:
        format:
          timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_unix_epoch) ))
    name: replication-canary
    release: mysql-monitoring
  - manifest: |
      syslog: (( .properties.system_logging.selected_option.parsed_manifest(syslog) ))
    name: syslog_forwarder
    release: syslog
- description: Schedules asynchronous tasks for cloud controller
  instance_definition:
    configurable: false
    constraints:
      min: 0
    default: 0
    label: Instances
    name: instances
    type: integer
  label: Clock Global
  max_in_flight: 1
  name: clock_global
  resource_definitions:
  - configurable: true
    constraints:
      min: 1024
    default: 1024
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 20480
    default: 20480
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 1
    label: CPU
    name: cpu
    type: integer
  resource_label: Clock Global
  single_az_only: false
  templates:
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
    name: loggregator_agent
    release: loggregator-agent
- description: Worker for cloud controller asynchronous tasks
  instance_definition:
    configurable: false
    constraints:
      min: 0
    default: 0
    label: Instances
    name: instances
    type: integer
  label: Cloud Controller Worker
  max_in_flight: 1
  name: cloud_controller_worker
  resource_definitions:
  - configurable: true
    constraints:
      min: 1024
    default: 1024
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 2048
    default: 2048
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 1
    label: CPU
    name: cpu
    type: integer
  resource_label: Cloud Controller Worker
  single_az_only: false
  templates:
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
    name: loggregator_agent
    release: loggregator-agent
- description: Diego Cell
  instance_definition:
    configurable: false
    constraints:
      min: 0
    default: 0
    label: Instances
    name: instances
    type: integer
  label: Diego Cell
  max_in_flight: 4%
  name: diego_cell
  property_blueprints:
  - configurable: true
    constraints:
      min: 1
    label: Cell Disk Capacity (in MB)
    name: executor_disk_capacity
    optional: true
    type: integer
  - configurable: true
    constraints:
      min: 1
    label: Cell Memory Capacity (in MB)
    name: executor_memory_capacity
    optional: true
    type: integer
  - configurable: true
    name: insecure_docker_registry_list
    optional: true
    type: string_list
  resource_definitions:
  - configurable: true
    constraints:
      min: 2048
    default: 16384
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 4096
    default: 65536
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 2
    label: CPU
    name: cpu
    type: integer
  resource_label: Diego Cell
  single_az_only: false
  templates:
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
    name: loggregator_agent
    release: loggregator-agent
- description: Loggregator trafficcontroller distributes requests to Loggregator servers
  instance_definition:
    configurable: false
    constraints:
      min: 0
    default: 0
    label: Instances
    name: instances
    type: integer
  label: Loggregator Trafficcontroller
  max_in_flight: 1
  name: loggregator_trafficcontroller
  property_blueprints:
  - configurable: false
    default:
      domains:
      - cc_trafficcontroller
    name: cc_trafficcontroller_tls_cert
    type: rsa_cert_credentials
  - configurable: false
    default:
      domains:
      - trafficcontroller
    name: trafficcontroller_tls_cert
    type: rsa_cert_credentials
  - configurable: false
    default:
      domains:
      - statsdinjector
    name: statsdinjector_tls_cert
    type: rsa_cert_credentials
  - configurable: false
    default:
      domains:
      - reverselogproxy
    name: rlp_tls_cert
    type: rsa_cert_credentials
  resource_definitions:
  - configurable: true
    constraints:
      min: 1024
    default: 1024
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 2048
    default: 2048
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 1
    label: CPU
    name: cpu
    type: integer
  resource_label: Loggregator Trafficcontroller
  single_az_only: false
  templates:
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
    name: loggregator_agent
    release: loggregator-agent
- description: Doppler server collects application logs
  instance_definition:
    configurable: false
    constraints:
      min: 0
    default: 0
    label: Instances
    name: instances
    type: integer
  label: Doppler Server
  max_in_flight: 1
  name: doppler
  property_blueprints:
  - configurable: false
    default:
      domains:
      - doppler
    name: doppler_tls_cert
    type: rsa_cert_credentials
  - configurable: false
    default:
      domains:
      - metron
    name: metron_tls_cert
    type: rsa_cert_credentials
  resource_definitions:
  - configurable: true
    constraints:
      min: 4096
    default: 4096
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 2048
    default: 2048
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 1
    label: CPU
    name: cpu
    type: integer
  resource_label: Doppler Server
  single_az_only: false
  templates:
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
    name: loggregator_agent
    release: loggregator-agent
- description: TCP Routers route TCP traffic.
  instance_definition:
    configurable: true
    constraints:
      min: 0
    default: 1
    label: Instances
    name: instances
    type: integer
    zero_if:
      allow_manual_selection_of_zero: false
      property_reference: .properties.tcp_routing
      property_values:
      - disable
  label: TCP Router
  max_in_flight: 1
  name: tcp_router
  property_blueprints:
  - configurable: true
    name: static_ips
    optional: true
    type: ip_ranges
  resource_definitions:
  - configurable: true
    constraints:
      min: 1024
    default: 1024
    label: RAM
    name: ram
    type: integer
  - configurable: false
    default: 0
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    constraints:
      min: 1024
    default: 1024
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 1
    default: 1
    label: CPU
    name: cpu
    type: integer
  resource_label: TCP Router
  single_az_only: false
  templates:
  - name: bpm
    release: bpm
  - manifest: |-
      uaa:
        tls_port: 8443
        ca_cert: (( $ops_manager.ca_certificate ))
      tcp_router:
        oauth_secret: (( .uaa.tcp_router_credentials.password ))
        log_level: debug
        request_timeout_in_seconds: (( .properties.tcp_routing.selected_option.parsed_manifest(tcp_router_request_timeout_in_seconds) ))
    name: tcp_router
    release: routing
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_agent_metrics_tls.cert_pem ))
        key: (( .properties.loggregator_agent_metrics_tls.private_key_pem ))
        server_name: loggregator_agent_metrics
      grpc_port: 3459
      disable_udp: true
      disable_logs: (( .properties.disable_logs_in_firehose.value ))
      loggregator_agent:
        enabled: (( .properties.enable_v2_firehose.value ))
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggregator_agent
    release: loggregator-agent
  - manifest: |
      port: 3460
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.syslog_agent_metrics_tls.cert_pem ))
        key: (( .properties.syslog_agent_metrics_tls.private_key_pem ))
        server_name: syslog_agent_metrics
      cache:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: (( .properties.syslog_agent_api_tls.cert_pem ))
          key: (( .properties.syslog_agent_api_tls.private_key_pem ))
          cn: binding-cache
      aggregate_drains: syslog-tls://doppler.service.cf.internal:6067?include-metrics-deprecated=true,(( .properties.syslog_agent_aggregate_drains.value ))
      drain_ca_cert: (( $ops_manager.ca_certificate ))
    name: loggr-syslog-agent
    release: loggregator-agent
  - manifest: |
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_discovery_metrics_tls.cert_pem ))
        key: (( .properties.metrics_discovery_metrics_tls.private_key_pem ))
        server_name: metrics_discovery_metrics
      nats_client:
        cert: (( .properties.nats_client_cert.cert_pem ))
        key: (( .properties.nats_client_cert.private_key_pem ))
    name: metrics-discovery-registrar
    release: metrics-discovery
  - manifest: |
      metrics_exporter_port: 14726
      grpc:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_agent_metrics_tls.cert_pem ))
        key: (( .properties.metrics_agent_metrics_tls.private_key_pem ))
        server_name: metrics_agent_metrics
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
    name: metrics-agent
    release: metrics-discovery
  - manifest: |
      port: 3458
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.forwarder_agent_metrics_tls.cert_pem ))
        key: (( .properties.forwarder_agent_metrics_tls.private_key_pem ))
        server_name: forwarder_agent_metrics
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggr-forwarder-agent
    release: loggregator-agent
  - manifest: |-
      loggregator:
        tls:
          ca: (( $ops_manager.ca_certificate ))
          cert: (( .doppler.metron_tls_cert.cert_pem ))
          key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggr_udp_forwarder_tls.cert_pem ))
        key: (( .properties.loggr_udp_forwarder_tls.private_key_pem ))
        server_name: loggr_udp_forwarder_metrics
    name: loggr-udp-forwarder
    release: loggregator-agent
  - manifest: |-
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
          cn: prom_scraper
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: "((.properties.prom_scraper_metrics_tls.cert_pem))"
        key: "((.properties.prom_scraper_metrics_tls.private_key_pem))"
        server_name: prom_scraper_metrics
    name: prom_scraper
    release: loggregator-agent
  - manifest: |
      syslog: (( .properties.system_logging.selected_option.parsed_manifest(syslog) ))
    name: syslog_forwarder
    release: syslog
- description: CredHub
  instance_definition:
    configurable: false
    constraints:
      min: 0
    default: 0
    label: Instances
    name: instances
    type: integer
  label: CredHub
  max_in_flight: 1
  name: credhub
  resource_definitions:
  - configurable: true
    constraints:
      min: 2
    default: 2
    label: CPU
    name: cpu
    type: integer
  - configurable: true
    constraints:
      min: 8192
    default: 8192
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 10240
    default: 10240
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  resource_label: CredHub
  single_az_only: false
  templates:
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
    name: loggregator_agent
    release: loggregator-agent
- description: This configures the istio routers to serve routes
  instance_definition:
    configurable: true
    constraints:
      max: 1
      min: 0
    default: 1
    label: Instances
    name: instances
    type: integer
    zero_if:
      allow_manual_selection_of_zero: false
      property_reference: .properties.istio
      property_values:
      - disable
  label: Istio Control
  max_in_flight: 1
  name: istio_control
  resource_definitions:
  - configurable: true
    constraints:
      min: 8192
    default: 8192
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 2048
    default: 2048
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 2
    default: 2
    label: CPU
    name: cpu
    type: integer
  resource_label: Istio Control
  serial: true
  single_az_only: false
  templates:
  - name: bpm
    release: bpm
  - manifest: |
      cloud_controller_client_ca_cert: (( $ops_manager.ca_certificate ))
      pilot_client_ca_cert: (( $ops_manager.ca_certificate ))
      server_cert: (( .properties.copilot_server_cert.cert_pem ))
      server_key: (( .properties.copilot_server_cert.private_key_pem ))
      bbs:
        server_ca_cert: (( $ops_manager.ca_certificate ))
        client_cert: (( .properties.bbs_client_cert.cert_pem ))
        client_key: (( .properties.bbs_client_cert.private_key_pem ))
      frontend_tls_keypairs: (( .properties.istio_frontend_tls_keypairs.parsed_manifest(istio_certificates_and_private_keys) ))
    name: copilot
    release: istio
  - manifest: |
      copilot:
        server_ca_cert: (( $ops_manager.ca_certificate ))
        client_cert: (( .properties.pilot_server_cert.cert_pem ))
        client_key: (( .properties.pilot_server_cert.private_key_pem ))
      bpm:
        enable: true
    name: pilot-discovery
    release: istio
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_agent_metrics_tls.cert_pem ))
        key: (( .properties.loggregator_agent_metrics_tls.private_key_pem ))
        server_name: loggregator_agent_metrics
      grpc_port: 3459
      disable_udp: true
      disable_logs: (( .properties.disable_logs_in_firehose.value ))
      loggregator_agent:
        enabled: (( .properties.enable_v2_firehose.value ))
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggregator_agent
    release: loggregator-agent
  - manifest: |
      port: 3460
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.syslog_agent_metrics_tls.cert_pem ))
        key: (( .properties.syslog_agent_metrics_tls.private_key_pem ))
        server_name: syslog_agent_metrics
      cache:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: (( .properties.syslog_agent_api_tls.cert_pem ))
          key: (( .properties.syslog_agent_api_tls.private_key_pem ))
          cn: binding-cache
      aggregate_drains: syslog-tls://doppler.service.cf.internal:6067?include-metrics-deprecated=true,(( .properties.syslog_agent_aggregate_drains.value ))
      drain_ca_cert: (( $ops_manager.ca_certificate ))
    name: loggr-syslog-agent
    release: loggregator-agent
  - manifest: |
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_discovery_metrics_tls.cert_pem ))
        key: (( .properties.metrics_discovery_metrics_tls.private_key_pem ))
        server_name: metrics_discovery_metrics
      nats_client:
        cert: (( .properties.nats_client_cert.cert_pem ))
        key: (( .properties.nats_client_cert.private_key_pem ))
    name: metrics-discovery-registrar
    release: metrics-discovery
  - manifest: |
      metrics_exporter_port: 14726
      grpc:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_agent_metrics_tls.cert_pem ))
        key: (( .properties.metrics_agent_metrics_tls.private_key_pem ))
        server_name: metrics_agent_metrics
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
    name: metrics-agent
    release: metrics-discovery
  - manifest: |
      port: 3458
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.forwarder_agent_metrics_tls.cert_pem ))
        key: (( .properties.forwarder_agent_metrics_tls.private_key_pem ))
        server_name: forwarder_agent_metrics
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggr-forwarder-agent
    release: loggregator-agent
  - manifest: |-
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
          cn: prom_scraper
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: "((.properties.prom_scraper_metrics_tls.cert_pem))"
        key: "((.properties.prom_scraper_metrics_tls.private_key_pem))"
        server_name: prom_scraper_metrics
    name: prom_scraper
    release: loggregator-agent
  - manifest: |
      syslog: (( .properties.system_logging.selected_option.parsed_manifest(syslog) ))
    name: syslog_forwarder
    release: syslog
- description: Istio based replacement for Gorouter
  instance_definition:
    configurable: true
    constraints:
      min: 0
    default: 2
    label: Instances
    name: instances
    type: integer
    zero_if:
      allow_manual_selection_of_zero: false
      property_reference: .properties.istio
      property_values:
      - disable
  label: Istio Router
  max_in_flight: 1
  name: istio_router
  property_blueprints:
  - configurable: true
    name: static_ips
    optional: true
    type: ip_ranges
  resource_definitions:
  - configurable: true
    constraints:
      min: 8192
    default: 8192
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 2048
    default: 2048
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 2
    default: 2
    label: CPU
    name: cpu
    type: integer
  resource_label: Istio Router
  serial: true
  single_az_only: false
  templates:
  - name: bpm
    release: bpm
  - consumes: |
      pilot: {from: pilot}
    name: envoy
    release: istio
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_agent_metrics_tls.cert_pem ))
        key: (( .properties.loggregator_agent_metrics_tls.private_key_pem ))
        server_name: loggregator_agent_metrics
      grpc_port: 3459
      disable_udp: true
      disable_logs: (( .properties.disable_logs_in_firehose.value ))
      loggregator_agent:
        enabled: (( .properties.enable_v2_firehose.value ))
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggregator_agent
    release: loggregator-agent
  - manifest: |
      port: 3460
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.syslog_agent_metrics_tls.cert_pem ))
        key: (( .properties.syslog_agent_metrics_tls.private_key_pem ))
        server_name: syslog_agent_metrics
      cache:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: (( .properties.syslog_agent_api_tls.cert_pem ))
          key: (( .properties.syslog_agent_api_tls.private_key_pem ))
          cn: binding-cache
      aggregate_drains: syslog-tls://doppler.service.cf.internal:6067?include-metrics-deprecated=true,(( .properties.syslog_agent_aggregate_drains.value ))
      drain_ca_cert: (( $ops_manager.ca_certificate ))
    name: loggr-syslog-agent
    release: loggregator-agent
  - manifest: |
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_discovery_metrics_tls.cert_pem ))
        key: (( .properties.metrics_discovery_metrics_tls.private_key_pem ))
        server_name: metrics_discovery_metrics
      nats_client:
        cert: (( .properties.nats_client_cert.cert_pem ))
        key: (( .properties.nats_client_cert.private_key_pem ))
    name: metrics-discovery-registrar
    release: metrics-discovery
  - manifest: |
      metrics_exporter_port: 14726
      grpc:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_agent_metrics_tls.cert_pem ))
        key: (( .properties.metrics_agent_metrics_tls.private_key_pem ))
        server_name: metrics_agent_metrics
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
    name: metrics-agent
    release: metrics-discovery
  - manifest: |
      port: 3458
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.forwarder_agent_metrics_tls.cert_pem ))
        key: (( .properties.forwarder_agent_metrics_tls.private_key_pem ))
        server_name: forwarder_agent_metrics
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggr-forwarder-agent
    release: loggregator-agent
  - manifest: |-
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
          cn: prom_scraper
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: "((.properties.prom_scraper_metrics_tls.cert_pem))"
        key: "((.properties.prom_scraper_metrics_tls.private_key_pem))"
        server_name: prom_scraper_metrics
    name: prom_scraper
    release: loggregator-agent
  - manifest: |
      syslog: (( .properties.system_logging.selected_option.parsed_manifest(syslog) ))
    name: syslog_forwarder
    release: syslog
- description: Does bulk syncing of Cloud Controller routes with Copilot.
  instance_definition:
    configurable: true
    constraints:
      max: 1
      min: 0
    default: 1
    label: Instances
    name: instances
    type: integer
    zero_if:
      allow_manual_selection_of_zero: false
      property_reference: .properties.istio
      property_values:
      - disable
  label: Route Syncer
  max_in_flight: 1
  name: route_syncer
  resource_definitions:
  - configurable: true
    constraints:
      min: 8192
    default: 8192
    label: RAM
    name: ram
    type: integer
  - configurable: true
    constraints:
      min: 2048
    default: 2048
    label: Ephemeral Disk
    name: ephemeral_disk
    type: integer
  - configurable: false
    default: 0
    label: Persistent Disk
    name: persistent_disk
    type: integer
  - configurable: true
    constraints:
      min: 2
    default: 2
    label: CPU
    name: cpu
    type: integer
  resource_label: Route Syncer
  serial: true
  single_az_only: false
  templates:
  - name: bpm
    release: bpm
  - manifest: |
      bpm:
       enable: true
      ccdb: (( .properties.system_database.selected_option.parsed_manifest(ccdb) ))
    name: cc_route_syncer
    release: capi
  - manifest: |
      loggregator:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          agent:
            cert: (( .doppler.metron_tls_cert.cert_pem ))
            key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.loggregator_agent_metrics_tls.cert_pem ))
        key: (( .properties.loggregator_agent_metrics_tls.private_key_pem ))
        server_name: loggregator_agent_metrics
      grpc_port: 3459
      disable_udp: true
      disable_logs: (( .properties.disable_logs_in_firehose.value ))
      loggregator_agent:
        enabled: (( .properties.enable_v2_firehose.value ))
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggregator_agent
    release: loggregator-agent
  - manifest: |
      port: 3460
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.syslog_agent_metrics_tls.cert_pem ))
        key: (( .properties.syslog_agent_metrics_tls.private_key_pem ))
        server_name: syslog_agent_metrics
      cache:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: (( .properties.syslog_agent_api_tls.cert_pem ))
          key: (( .properties.syslog_agent_api_tls.private_key_pem ))
          cn: binding-cache
      aggregate_drains: syslog-tls://doppler.service.cf.internal:6067?include-metrics-deprecated=true,(( .properties.syslog_agent_aggregate_drains.value ))
      drain_ca_cert: (( $ops_manager.ca_certificate ))
    name: loggr-syslog-agent
    release: loggregator-agent
  - manifest: |
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_discovery_metrics_tls.cert_pem ))
        key: (( .properties.metrics_discovery_metrics_tls.private_key_pem ))
        server_name: metrics_discovery_metrics
      nats_client:
        cert: (( .properties.nats_client_cert.cert_pem ))
        key: (( .properties.nats_client_cert.private_key_pem ))
    name: metrics-discovery-registrar
    release: metrics-discovery
  - manifest: |
      metrics_exporter_port: 14726
      grpc:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.metrics_agent_metrics_tls.cert_pem ))
        key: (( .properties.metrics_agent_metrics_tls.private_key_pem ))
        server_name: metrics_agent_metrics
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
    name: metrics-agent
    release: metrics-discovery
  - manifest: |
      port: 3458
      tls:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: (( .properties.forwarder_agent_metrics_tls.cert_pem ))
        key: (( .properties.forwarder_agent_metrics_tls.private_key_pem ))
        server_name: forwarder_agent_metrics
      tags:
        product: "Small Footprint VMware Tanzu Application Service"
        system_domain: "(( .cloud_controller.system_domain.value ))"
    name: loggr-forwarder-agent
    release: loggregator-agent
  - manifest: |-
      scrape:
        tls:
          ca_cert: (( $ops_manager.ca_certificate ))
          cert: "((.properties.prom_scraper_scrape_tls.cert_pem))"
          key: "((.properties.prom_scraper_scrape_tls.private_key_pem))"
          cn: prom_scraper
      metrics:
        ca_cert: (( $ops_manager.ca_certificate ))
        cert: "((.properties.prom_scraper_metrics_tls.cert_pem))"
        key: "((.properties.prom_scraper_metrics_tls.private_key_pem))"
        server_name: prom_scraper_metrics
    name: prom_scraper
    release: loggregator-agent
  - manifest: |
      syslog: (( .properties.system_logging.selected_option.parsed_manifest(syslog) ))
    name: syslog_forwarder
    release: syslog
kiln_metadata:
  metadata_git_sha: 2c61695e0133b7c4a7c1658e7922704e6230020e
label: Small Footprint VMware Tanzu Application Service
metadata_version: "2.10"
minimum_version_for_upgrade: 2.10.0
name: cf
pivnet_filename_regex: srt-.*\.pivotal
post_deploy_errands:
- colocated: true
  description: Runs Smoke Tests against your installation
  instances:
  - control/first
  label: Smoke Test Errand
  name: smoke_tests
  run_default: true
- colocated: true
  description: Pushes the Usage Service application to your installation. Apps Manager
    depends on this application.
  instances:
  - control/first
  label: Usage Service Errand
  name: push-usage-service
  run_default: true
- colocated: true
  description: Pushes the Apps Manager application to your installation
  instances:
  - control/first
  label: Apps Manager Errand
  name: push-apps-manager
  run_default: true
- colocated: true
  description: |
    Pushes the Notifications application to your installation
  instances:
  - control/first
  label: Notifications Errand
  name: deploy-notifications
  run_default: true
- colocated: true
  description: Pushes the Notifications UI component to your installation
  instances:
  - control/first
  label: Notifications UI Errand
  name: deploy-notifications-ui
  run_default: true
- colocated: true
  description: Pushes the App Autoscaler application to your installation
  instances:
  - control/first
  label: App Autoscaler Errand
  name: deploy-autoscaler
  run_default: true
- colocated: true
  description: Runs Smoke Tests against the App Autoscaling Service.
  instances:
  - control/first
  label: App Autoscaler Smoke Test Errand
  name: test-autoscaling
  run_default: true
- colocated: true
  description: Runs Smoke Tests against the Metric Registrar. Requires that "Enable
    Metric Registrar" is checked in the Metric Registrar tab.
  instances:
  - control/first
  label: Metric Registrar Smoke Test Errand
  name: metric_registrar_smoke_test
  run_default: false
- colocated: true
  description: Pushes the NFS Broker application to your installation
  instances:
  - control/first
  label: NFS Broker Errand
  name: nfsbrokerpush
  run_default: true
- colocated: true
  description: Pushes the SMB Broker application to your installation
  instances:
  - control/first
  label: SMB Broker Errand
  name: smbbrokerpush
  run_default: true
- colocated: true
  description: Re-encrypts credentials in Cloud Controller DB with selected encryption
    key
  instances:
  - control/first
  label: Rotate CC Database Key
  name: rotate_cc_database_key
  run_default: false
product_version: 2.11.0-build.75
property_blueprints:
- configurable: false
  default: account
  name: account_database_name
  type: string
- configurable: true
  constraints:
    min: 10
  default: 10
  name: app_graceful_shutdown_period_in_seconds
  type: integer
- configurable: true
  default: disable
  name: app_log_rate_limiting
  option_templates:
  - name: enable
    named_manifests:
    - manifest: |
        (( .properties.app_log_rate_limiting.enable.max_log_lines_per_second.value ))
      name: app_log_rate_limiting_properties
    property_blueprints:
    - configurable: true
      constraints:
        min: 1
      default: 100
      name: max_log_lines_per_second
      optional: true
      type: integer
    select_value: enable
  - name: disable
    named_manifests:
    - manifest: |
        0
      name: app_log_rate_limiting_properties
    select_value: disable
  type: selector
- configurable: false
  default: app_usage_service
  name: app_usage_service_database_name
  type: string
- configurable: false
  name: auctioneer_client_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - auctioneer.service.cf.internal
    - '*.auctioneer.service.cf.internal'
  name: auctioneer_server_cert
  type: rsa_cert_credentials
- configurable: true
  default: false
  name: autoscale_api_disable_connection_pooling
  type: boolean
- configurable: true
  constraints:
    min: 1
  default: 1
  name: autoscale_api_instance_count
  type: integer
- configurable: false
  default: autoscale
  name: autoscale_database_name
  type: string
- configurable: true
  default: true
  name: autoscale_enable_notifications
  type: boolean
- configurable: true
  default: false
  name: autoscale_enable_verbose_logging
  type: boolean
- configurable: true
  constraints:
    min: 1
  default: 3
  name: autoscale_instance_count
  type: integer
- configurable: true
  constraints:
    max: 3600
    min: 60
  default: 120
  name: autoscale_metric_bucket_count
  type: integer
- configurable: true
  constraints:
    max: 120
    min: 15
  default: 35
  name: autoscale_scaling_interval_in_seconds
  type: integer
- configurable: false
  name: bbs_client_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - bbs.service.cf.internal
    - '*.bbs.service.cf.internal'
  name: bbs_server_cert
  type: rsa_cert_credentials
- configurable: true
  default: disable
  name: cc_api_rate_limit
  option_templates:
  - name: enable
    named_manifests:
    - manifest: |
        enabled: true
        general_limit: (( .properties.cc_api_rate_limit.enable.general_limit.value ))
        unauthenticated_limit: (( .properties.cc_api_rate_limit.enable.unauthenticated_limit.value ))
      name: rate_limiter
    property_blueprints:
    - configurable: true
      default: 2000
      name: general_limit
      type: integer
    - configurable: true
      default: 100
      name: unauthenticated_limit
      type: integer
    select_value: enable
  - name: disable
    named_manifests:
    - manifest: |
        enabled: false
      name: rate_limiter
    select_value: disable
  type: selector
- configurable: true
  default: info
  name: cc_logging_level
  type: text
- configurable: false
  default: ccdb
  name: ccdb_database_name
  type: string
- configurable: true
  constraints:
    min: -1
  default: 3600
  name: ccdb_connection_validation_timeout
  type: integer
- configurable: true
  constraints:
    min: 1
  default: 3600
  name: ccdb_read_timeout
  type: integer
- configurable: true
  name: cf_dial_timeout_in_seconds
  optional: true
  type: integer
- configurable: true
  constraints:
    min: 120
  default: 120
  name: cf_networking_database_connection_timeout
  type: integer
- configurable: true
  default: false
  name: cf_networking_enable_space_developer_self_service
  type: boolean
- configurable: true
  name: cf_networking_search_domains
  optional: true
  type: string_list
- configurable: true
  default:
  - name: apps.internal
  name: cf_networking_internal_domains
  named_manifests:
  - manifest: |
      (( current_record.name.value ))
    name: for_bosh_dns_adapter
  - manifest: |
      name: (( current_record.name.value ))
      internal: true
    name: for_cloud_controller_ng
  property_blueprints:
  - configurable: true
    name: name
    type: string
  type: collection
- configurable: false
  name: cloud_controller_client_cert
  type: rsa_cert_credentials
- configurable: true
  default: 60
  minimum: 60
  name: cloud_controller_default_health_check_timeout
  type: integer
- configurable: false
  default:
    domains:
    - cloud-controller-ng.service.cf.internal
  name: cloud_controller_logcache_tls_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - cloud-controller-ng.service.cf.internal
  name: cloud_controller_mutual_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - cloud-controller-ng.service.cf.internal
  name: cloud_controller_public_tls_cert
  type: rsa_cert_credentials
- configurable: true
  default: false
  name: cloud_controller_temporary_disable_deployments
  type: boolean
- configurable: true
  default: 31
  name: cloud_controller_completed_tasks_cutoff_age_in_days
  type: integer
- configurable: true
  name: cloud_controller_encryption_keys
  named_manifests:
  - manifest: |
      label: (( current_record.label.value ))
      encryption_key: (( current_record.encryption_key.value ))
      active: (( current_record.primary.value ))
    name: keys
  optional: true
  property_blueprints:
  - configurable: true
    name: label
    type: string
  - configurable: true
    name: encryption_key
    type: secret
  - configurable: true
    default: false
    name: primary
    type: boolean
  type: collection
- configurable: true
  default: enable
  name: container_networking
  option_templates:
  - name: enable
    select_value: enable
  - name: disable
    select_value: disable
  type: selector
- configurable: true
  default: silk
  name: container_networking_interface_plugin
  option_templates:
  - name: silk
    named_manifests:
    - manifest: |
        false
      name: disable_silk
    - manifest: |
        false
      name: use_container_address
    - manifest: |
        /var/vcap/jobs/silk-cni/config/cni
      name: cni_config_dir
    - manifest: |
        /var/vcap/packages/silk-cni/bin
      name: cni_plugin_dir
    property_blueprints:
    - configurable: true
      default: 1454
      name: network_mtu
      type: integer
    - configurable: true
      name: network_cidr
      optional: true
      type: string
    - configurable: true
      default: 4789
      name: vtep_port
      type: integer
    - configurable: true
      default: 1
      name: iptables_denied_logs_per_sec
      type: integer
    - configurable: true
      default: 100
      name: iptables_accepted_udp_logs_per_sec
      type: integer
    - configurable: true
      default: false
      name: enable_log_traffic
      type: boolean
    - configurable: true
      default: true
      name: enable_policy_enforcement
      type: boolean
    select_value: silk
  - name: external
    named_manifests:
    - manifest: |
        true
      name: disable_silk
    - manifest: |
        true
      name: use_container_address
    - manifest: |
        /var/vcap/jobs/cni/config/cni
      name: cni_config_dir
    - manifest: |
        /var/vcap/packages/cni/bin
      name: cni_plugin_dir
    select_value: external
  type: selector
- configurable: false
  default:
    domains:
    - copilot.service.cf.internal
  name: copilot_client_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - copilot.service.cf.internal
  name: copilot_server_cert
  type: rsa_cert_credentials
- configurable: true
  default: internal_mysql
  name: credhub_database
  option_templates:
  - name: internal_mysql
    named_manifests:
    - manifest: |
        (( .properties.system_database.selected_option.parsed_manifest(credhub) ))
      name: db_config
    select_value: internal_mysql
  - name: external
    named_manifests:
    - manifest: |
        type: mysql
        host: (( .properties.credhub_database.external.host.value ))
        port: (( .properties.credhub_database.external.port.value ))
        username: (( .properties.credhub_database.external.username.value ))
        password: (( .properties.credhub_database.external.password.value ))
        database: (( .properties.credhub_database_name.value ))
        require_tls: true
        tls_ca: (( .properties.credhub_database.external.tls_ca.value ))
        hostname_verification:
          enabled: "(( .properties.credhub_database.external.disable_hostname_verification.value ? false : true ))"
      name: db_config
    property_blueprints:
    - configurable: true
      name: host
      type: string
    - configurable: true
      name: port
      type: port
    - configurable: true
      name: username
      type: string
    - configurable: true
      name: password
      type: secret
    - configurable: true
      name: tls_ca
      type: text
    - name: require_tls
      type: boolean
    - configurable: true
      default: false
      name: disable_hostname_verification
      type: boolean
    select_value: external
  type: selector
- configurable: false
  default: credhub
  name: credhub_database_name
  type: string
- configurable: false
  default: only-option
  name: credhub_providers
  option_templates:
  - name: doesnt-matter
    named_manifests:
    - manifest: |
        '(( .properties.credhub_hsm_provider_partition.value ? .properties.credhub_providers.selected_option.parsed_manifest(hsm_and_internal_and_maybe_kms) : .properties.credhub_providers.selected_option.parsed_manifest(internal_and_maybe_kms) ))'
      name: providers
    - manifest: |
        - (( .properties.credhub_internal_provider_keys.parsed_manifest(providers) ))
        - (( .properties.credhub_kms_providers.parsed_manifest(providers) ))
      name: internal_and_maybe_kms
    - manifest: |
        - (( .properties.credhub_internal_provider_keys.parsed_manifest(providers) ))
        - (( .properties.credhub_kms_providers.parsed_manifest(providers) ))
        - name: hsm-provider
          type: hsm
          connection_properties:
            partition: (( .properties.credhub_hsm_provider_partition.value ))
            partition_password: ((  .properties.credhub_hsm_provider_partition_password.value ))
            client_certificate: (( .properties.credhub_hsm_provider_client_certificate.cert_pem ))
            client_key: (( .properties.credhub_hsm_provider_client_certificate.private_key_pem ))
            servers: (( .properties.credhub_hsm_provider_servers.parsed_manifest(servers) ))
      name: hsm_and_internal_and_maybe_kms
    select_value: only-option
  type: selector
- configurable: false
  default: only-option
  name: credhub_encryption_keys
  option_templates:
  - name: doesnt-matter
    named_manifests:
    - manifest: |
        '(( .properties.credhub_hsm_provider_partition.value ? .properties.credhub_encryption_keys.selected_option.parsed_manifest(hsm_and_internal_and_maybe_kms) : .properties.credhub_encryption_keys.selected_option.parsed_manifest(internal_and_maybe_kms) ))'
      name: list
    - manifest: |
        - (( .properties.credhub_internal_provider_keys.parsed_manifest(keys) ))
        - (( .properties.credhub_kms_providers.parsed_manifest(keys) ))
      name: internal_and_maybe_kms
    - manifest: |
        - (( .properties.credhub_internal_provider_keys.parsed_manifest(keys) ))
        - (( .properties.credhub_kms_providers.parsed_manifest(keys) ))
        - (( .properties.credhub_hsm_provider_encryption_keys.parsed_manifest(keys) ))
      name: hsm_and_internal_and_maybe_kms
    select_value: only-option
  type: selector
- configurable: true
  name: credhub_internal_provider_keys
  named_manifests:
  - manifest: |
      name: internal-provider
      type: internal
    name: providers
  - manifest: |
      provider_name: internal-provider
      key_properties:
        encryption_key_name: (( current_record.name.value ))
        encryption_password: (( current_record.key.value ))
      active: (( current_record.primary.value ))
    name: keys
  property_blueprints:
  - configurable: true
    name: name
    type: string
  - configurable: true
    constraints:
    - error_message: This password must be at least 20 characters
      must_match_regex: ^.{20,}$
    name: key
    type: secret
  - configurable: true
    default: false
    name: primary
    type: boolean
  type: collection
- configurable: true
  name: credhub_kms_providers
  named_manifests:
  - manifest: |
      provider_name: (( current_record.instance_name.value ))
      key_properties:
        encryption_key_name: kms-plugin-key-name
      active: (( current_record.primary.value ))
    name: keys
  - manifest: |
      name: (( current_record.instance_name.value ))
      type: kms-plugin
      connection_properties:
        endpoint: (( current_record.endpoint.value ))
        host: credhub-kms
        ca: (((/services/tls_leaf.ca)))
    name: providers
  optional: true
  property_blueprints:
  - configurable: true
    name: instance_name
    type: string
  - configurable: true
    name: endpoint
    type: string
  - configurable: true
    default: false
    name: primary
    type: boolean
  type: collection
- configurable: true
  name: credhub_hsm_provider_partition
  optional: true
  type: string
- configurable: true
  name: credhub_hsm_provider_partition_password
  optional: true
  type: secret
- configurable: true
  constraints:
    allow_encrypted_key: true
  name: credhub_hsm_provider_client_certificate
  optional: true
  type: rsa_cert_credentials
- configurable: true
  name: credhub_hsm_provider_encryption_keys
  named_manifests:
  - manifest: |
      provider_name: hsm-provider
      key_properties:
        encryption_key_name: (( current_record.name.value ))
      active: (( current_record.primary.value ))
    name: keys
  optional: true
  property_blueprints:
  - configurable: true
    name: name
    type: string
  - configurable: true
    default: false
    name: primary
    type: boolean
  type: collection
- configurable: true
  name: credhub_hsm_provider_servers
  named_manifests:
  - manifest: |
      host: (( current_record.host_address.value ))
      port: (( current_record.port.value ))
      partition_serial_number: (( current_record.partition_serial_number.value ))
      certificate: (( current_record.certificate.value ))
    name: servers
  optional: true
  property_blueprints:
  - configurable: true
    name: host_address
    type: string
  - configurable: true
    name: port
    type: integer
  - configurable: true
    name: partition_serial_number
    type: string
  - configurable: true
    name: certificate
    type: text
  type: collection
- configurable: false
  default:
    domains:
    - credhub.service.cf.internal
  name: credhub_tls
  type: rsa_cert_credentials
- configurable: false
  default: diego
  name: diego_database_name
  type: string
- configurable: true
  constraints:
    min: 1
  default: 100
  name: diego_database_max_open_connections
  type: integer
- configurable: true
  default: true
  name: enable_smb_volume_driver
  type: boolean
- configurable: true
  default: false
  name: enable_tls_to_internal_pxc
  type: boolean
- configurable: true
  default: false
  name: experimental_dynamic_egress_enforcement
  type: boolean
- configurable: false
  default:
    domains:
    - file-server.service.cf.internal
  name: file_server_cert
  type: rsa_cert_credentials
- configurable: true
  default: reserved
  name: garden_disk_cleanup
  option_templates:
  - name: never
    named_manifests:
    - manifest: |
        -1
      name: reserved_space_for_other_jobs_in_mb
    select_value: never
  - name: routine
    named_manifests:
    - manifest: |
        0
      name: reserved_space_for_other_jobs_in_mb
    select_value: routine
  - name: reserved
    named_manifests:
    - manifest: |
        (( .properties.garden_disk_cleanup.reserved.reserved_space_for_other_jobs_in_mb.value ))
      name: reserved_space_for_other_jobs_in_mb
    property_blueprints:
    - configurable: true
      constraints:
        min: 15360
      default: 15360
      name: reserved_space_for_other_jobs_in_mb
      type: integer
    select_value: reserved
  type: selector
- configurable: true
  default: true
  name: enable_garden_containerd_mode
  type: boolean
- configurable: true
  default: ECDHE-RSA-AES128-GCM-SHA256:TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
  name: gorouter_ssl_ciphers
  type: text
- configurable: true
  default: none
  name: haproxy_client_cert_validation
  option_templates:
  - name: none
    named_manifests:
    - manifest: |
        false
      name: client_cert_validation
    select_value: none
  - name: request
    named_manifests:
    - manifest: |
        true
      name: client_cert_validation
    select_value: request
  type: selector
- configurable: false
  name: haproxy_client_certificate
  type: rsa_cert_credentials
- configurable: true
  name: haproxy_custom_ca_certificates
  optional: true
  type: text
- configurable: true
  default: enable
  name: haproxy_forward_tls
  option_templates:
  - name: enable
    named_manifests:
    - manifest: |
        443
      name: backend_port
    - manifest: |
        "verify"
      name: backend_ssl
    property_blueprints:
    - configurable: true
      name: backend_ca
      type: text
    select_value: enable
  - name: disable
    named_manifests:
    - manifest: |
        80
      name: backend_port
    - manifest: |
        "off"
      name: backend_ssl
    select_value: disable
  type: selector
- configurable: true
  default: disable
  name: haproxy_hsts_support
  option_templates:
  - name: enable
    named_manifests:
    - manifest: |
        true
      name: hsts_enable
    - manifest: |
        (( .properties.haproxy_hsts_support.enable.include_subdomains.value ))
      name: hsts_include_subdomains
    - manifest: |
        (( .properties.haproxy_hsts_support.enable.max_age.value ))
      name: hsts_max_age
    - manifest: |
        (( .properties.haproxy_hsts_support.enable.enable_preload.value ))
      name: hsts_preload
    property_blueprints:
    - configurable: true
      default: 31536000
      name: max_age
      type: integer
    - configurable: true
      default: false
      name: include_subdomains
      type: boolean
    - configurable: true
      default: false
      name: enable_preload
      type: boolean
    select_value: enable
  - name: disable
    named_manifests:
    - manifest: |
        false
      name: hsts_enable
    - manifest: |
        false
      name: hsts_include_subdomains
    - manifest: |
        0
      name: hsts_max_age
    - manifest: |
        false
      name: hsts_preload
    select_value: disable
  type: selector
- configurable: true
  default: 16384
  name: haproxy_max_buffer_size
  type: integer
- configurable: true
  default: DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384
  name: haproxy_ssl_ciphers
  type: text
- configurable: true
  name: host_tcp_services
  named_manifests:
  - manifest: |
      (( current_record.ip_and_port.value ))
    name: host_tcp_services_addresses
  optional: true
  property_blueprints:
  - configurable: true
    name: name
    optional: true
    type: string
  - configurable: true
    name: ip_and_port
    type: string
  type: collection
- configurable: true
  default: disable
  name: istio
  option_templates:
  - name: disable
    named_manifests:
    - manifest: "false"
      name: capi_enabled
    - manifest: |
        []
      name: ingress_istio_domain
    select_value: disable
  - name: enable
    named_manifests:
    - manifest: "true"
      name: capi_enabled
    - manifest: |
        '(( .properties.istio_domain.value ? "" : "mesh."))(( .properties.istio_domain.value ? .properties.istio_domain.value : .cloud_controller.apps_domain.value ))'
      name: ingress_istio_domain
    select_value: enable
  type: selector
- configurable: true
  name: istio_frontend_tls_keypairs
  named_manifests:
  - manifest: |
      cert_chain: (( current_record.certificate.cert_pem ))
      private_key: (( current_record.certificate.private_key_pem ))
    name: istio_certificates_and_private_keys
  optional: true
  property_blueprints:
  - configurable: true
    name: name
    type: string
  - configurable: true
    name: certificate
    type: rsa_cert_credentials
  type: collection
- configurable: true
  name: istio_domain
  optional: true
  type: string
- configurable: false
  default: locket
  name: locket_database_name
  type: string
- configurable: true
  constraints:
    min: 1
  default: 200
  name: locket_database_max_open_connections
  type: integer
- configurable: false
  default:
    domains:
    - log-cache
  name: log_cache_auth_proxy_client_tls_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - log-cache
  name: log_cache_nozzle_client_tls_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - log_cache
    - log-cache
    - logcache
  name: log_cache_server_tls_cert
  type: rsa_cert_credentials
- configurable: true
  constraints:
    min: 100000
  default: 100000
  name: log_cache_max_per_source
  type: integer
- configurable: false
  default:
    domains:
    - log_cache_cf_auth_proxy_metrics
  name: log_cache_cf_auth_proxy_metrics_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - log_cache_gateway_metrics
  name: log_cache_gateway_metrics_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - log_cache_metrics
  name: log_cache_metrics_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - doppler.service.cf.internal
    - q-s3.doppler.default.cf.bosh
  name: log_cache_syslog_server_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - log-cache-syslog-server-metrics
  name: log_cache_syslog_server_metrics_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - forwarder_agent_metrics
  name: forwarder_agent_metrics_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - loggr_udp_forwarder_metrics
  name: loggr_udp_forwarder_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - localhost
    - log-cache.service.cf.internal
  name: log_cache_gateway_auth_proxy_tls_cert
  type: rsa_cert_credentials
- configurable: true
  name: logger_endpoint_port
  optional: true
  type: port
- configurable: false
  default:
    domains:
    - loggregator_agent_metrics
  name: loggregator_agent_metrics_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - loggr_syslog_binding_cache_metrics
  name: loggr_syslog_binding_cache_metrics_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - loggr_metric_scraper_metrics
  name: loggr_metric_scraper_metrics_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - leadership_election_metrics
  name: leadership_election_metrics_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - leadership_election
  name: leadership_election_tls
  type: rsa_cert_credentials
- configurable: false
  name: loggregator_client_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - metrics_agent_metrics
  name: metrics_agent_metrics_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - metrics_discovery_metrics
  name: metrics_discovery_metrics_tls
  type: rsa_cert_credentials
- configurable: true
  default: deployment,job,index,id
  name: metric_registrar_blacklisted_tags
  type: string_list
- configurable: true
  default: true
  name: metric_registrar_enabled
  type: boolean
- configurable: false
  default:
    domains:
    - metric-registrar-orchestration
  name: metric_registrar_orchestrator_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - reverselogproxy
  name: metric_registrar_rlp_tls
  type: rsa_cert_credentials
- configurable: true
  constraints:
    max: 600
    min: 15
  default: 35
  name: metric_registrar_scrape_interval_in_seconds
  type: integer
- configurable: false
  default:
    domains:
    - metric-registrar-orchestration
  name: metric_registrar_worker_tls
  type: rsa_cert_credentials
- configurable: true
  default: enable
  name: mysql_activity_logging
  option_templates:
  - name: disable
    named_manifests:
    - manifest: ""
      name: mysql_audit_events
    - manifest: |
        false
      name: pxc_server_audit_logs_enabled
    select_value: disable
  - name: enable
    named_manifests:
    - manifest: (( .properties.mysql_activity_logging.enable.audit_logging_events.value
        ))
      name: mysql_audit_events
    - manifest: |
        true
      name: pxc_server_audit_logs_enabled
    property_blueprints:
    - configurable: true
      default: connect,query
      name: audit_logging_events
      type: string
    select_value: enable
  type: selector
- configurable: false
  default:
    domains:
    - nats.service.cf.internal
    - '*.nats.service.cf.internal'
  name: nats_tls_external_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - nats.service.cf.internal
    - '*.nats.service.cf.internal'
  name: nats_client_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - nats.service.cf.internal
    - '*.nats.service.cf.internal'
  name: nats_tls_internal_cert
  type: rsa_cert_credentials
- name: network_policy_agent_cert
  type: rsa_cert_credentials
- default:
    domains:
    - network-policy-server.service.cf.internal
    - '*.network-policy-server.service.cf.internal'
  name: network_policy_server_cert
  type: rsa_cert_credentials
- default:
    domains:
    - network-policy-server.service.cf.internal
  name: network_policy_server_external_cert
  type: rsa_cert_credentials
- configurable: true
  name: networking_poe_ssl_certs
  named_manifests:
  - manifest: |
      cert_chain: (( current_record.certificate.cert_pem ))
      private_key: (( current_record.certificate.private_key_pem ))
    name: routing_certificates_and_private_keys
  property_blueprints:
  - configurable: true
    name: name
    type: string
  - configurable: true
    name: certificate
    type: rsa_cert_credentials
  type: collection
- configurable: false
  default: networkpolicyserver
  name: networkpolicyserver_database_name
  type: string
- configurable: true
  constraints:
    min: 1
  default: 200
  name: networkpolicyserver_database_max_open_connections
  type: integer
- configurable: true
  constraints:
    min: 1
  default: 200
  name: networkpolicyserverinternal_database_max_open_connections
  type: integer
- configurable: true
  default: enable
  name: nfs_volume_driver
  option_templates:
  - name: enable
    named_manifests:
    - manifest: |
        "(( .properties.nfs_volume_driver.enable.ldap_server_host.value_present? ? .properties.nfs_volume_driver.selected_option.parsed_manifest(nfsv3driver_properties_ldap) : .properties.nfs_volume_driver.selected_option.parsed_manifest(nfsv3driver_properties_non_ldap) ))"
      name: nfsv3driver_properties
    - manifest: |
        disable: false
        ldap_svc_user: (( .properties.nfs_volume_driver.enable.ldap_service_account_user.value ))
        ldap_svc_password: (( .properties.nfs_volume_driver.enable.ldap_service_account_password.value ))
        ldap_host: (( .properties.nfs_volume_driver.enable.ldap_server_host.value ))
        ldap_port: (( .properties.nfs_volume_driver.enable.ldap_server_port.value ))
        ldap_user_fqdn: (( .properties.nfs_volume_driver.enable.ldap_user_fqdn.value ))
        ldap_ca_cert: (( .properties.nfs_volume_driver.enable.ldap_ca_cert.value ))
        allowed-in-source: ""
      name: nfsv3driver_properties_ldap
    - manifest: |
        disable: false
        ldap_svc_user: (( .properties.nfs_volume_driver.enable.ldap_service_account_user.value ))
        ldap_svc_password: (( .properties.nfs_volume_driver.enable.ldap_service_account_password.value ))
        ldap_host: (( .properties.nfs_volume_driver.enable.ldap_server_host.value ))
        ldap_port: (( .properties.nfs_volume_driver.enable.ldap_server_port.value ))
        ldap_user_fqdn: (( .properties.nfs_volume_driver.enable.ldap_user_fqdn.value ))
        ldap_ca_cert: (( .properties.nfs_volume_driver.enable.ldap_ca_cert.value ))
      name: nfsv3driver_properties_non_ldap
    - manifest: |
        disable: false
      name: mapfs_properties
    property_blueprints:
    - configurable: true
      name: ldap_service_account_user
      optional: true
      type: string
    - configurable: true
      name: ldap_service_account_password
      optional: true
      type: secret
    - configurable: true
      name: ldap_server_host
      optional: true
      type: string
    - configurable: true
      name: ldap_server_port
      optional: true
      type: integer
    - configurable: true
      name: ldap_user_fqdn
      optional: true
      type: string
    - configurable: true
      name: ldap_ca_cert
      optional: true
      type: text
    select_value: enable
  - name: disable
    named_manifests:
    - manifest: |
        disable: true
      name: nfsv3driver_properties
    - manifest: |
        disable: true
      name: mapfs_properties
    select_value: disable
  type: selector
- configurable: false
  default: notifications
  name: notifications_database_name
  type: string
- configurable: false
  default:
    domains:
    - pilot.service.cf.internal
  name: pilot_server_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - prom_scraper
  name: prom_scraper_scrape_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - prom_scraper_metrics
  name: prom_scraper_metrics_tls
  type: rsa_cert_credentials
- configurable: true
  name: push_apps_manager_accent_color
  optional: true
  type: string
- configurable: true
  default: 10
  name: push_apps_manager_app_poll_interval
  type: integer
- configurable: true
  default: 30
  name: push_apps_manager_poll_interval
  type: integer
- configurable: true
  name: push_apps_manager_company_name
  optional: true
  type: string
- configurable: true
  default: '{ "usd": "$", "eur": "€" }'
  name: push_apps_manager_currency_lookup
  type: string
- configurable: true
  default: false
  name: push_apps_manager_display_plan_prices
  type: boolean
- configurable: true
  default: true
  name: push_apps_manager_enable_invitations
  type: boolean
- configurable: true
  name: push_apps_manager_favicon
  optional: true
  type: text
- configurable: true
  name: push_apps_manager_footer_links
  optional: true
  property_blueprints:
  - configurable: true
    name: name
    type: string
  - configurable: true
    name: href
    type: string
  type: collection
- configurable: true
  name: push_apps_manager_footer_text
  optional: true
  type: string
- configurable: true
  name: push_apps_manager_foundations
  optional: true
  type: text
- configurable: true
  name: push_apps_manager_redirect_uris
  optional: true
  type: text
- configurable: true
  name: push_apps_manager_global_wrapper_bg_color
  optional: true
  type: string
- configurable: true
  name: push_apps_manager_global_wrapper_footer_content
  optional: true
  type: text
- configurable: true
  name: push_apps_manager_global_wrapper_header_content
  optional: true
  type: text
- configurable: true
  name: push_apps_manager_global_wrapper_text_color
  optional: true
  type: string
- configurable: true
  default: nodejs_buildpack
  name: push_apps_manager_search_server_buildpack
  type: string
- configurable: true
  constraints:
    min: 256
  name: push_apps_manager_search_server_memory
  optional: true
  type: integer
- configurable: true
  default: nodejs_buildpack
  name: push_apps_manager_invitations_buildpack
  type: string
- configurable: true
  constraints:
    min: 256
  name: push_apps_manager_invitations_memory
  optional: true
  type: integer
- configurable: true
  name: push_apps_manager_logo
  optional: true
  type: text
- configurable: true
  name: push_apps_manager_marketplace_name
  optional: true
  type: string
- configurable: true
  name: push_apps_manager_marketplace_url
  optional: true
  type: string
- configurable: true
  default: staticfile_buildpack
  name: push_apps_manager_buildpack
  type: string
- configurable: true
  constraints:
    min: 128
  name: push_apps_manager_memory
  optional: true
  type: integer
- _hack: null
  configurable: true
  default:
  - href: https://docs.pivotal.io/pivotalcf/2-11/pas/intro.html
    name: Docs
  - href: /tools
    name: Tools
  name: push_apps_manager_nav_links
  property_blueprints:
  - configurable: true
    name: name
    type: string
  - configurable: true
    name: href
    type: string
  type: collection
- configurable: true
  name: push_apps_manager_product_name
  optional: true
  type: string
- configurable: true
  name: push_apps_manager_square_logo
  optional: true
  type: text
- configurable: true
  constraints:
    min: 93
  default: 365
  name: push_usage_service_cutoff_age_in_days
  type: integer
- configurable: false
  default:
    domains:
    - pxc_internal_certificate
  name: pxc_internal_certificate
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - mysql.service.cf.internal
  name: pxc_server_certificate
  type: rsa_cert_credentials
- configurable: false
  name: rep_client_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - '*.cell.service.cf.internal'
    - cell.service.cf.internal
    - 127.0.0.1
    - localhost
  name: rep_server_cert_v2
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - rlp_gateway
  name: reverse_log_proxy_gateway_client_tls_cc_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - reverse-log-proxy.service.cf.internal
  name: reverse_log_proxy_gateway_server_tls_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - rlp_gateway
  name: reverse_log_proxy_gateway_client_tls_rlp_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - rlp_gateway_metrics
  name: rlp_gateway_metrics_tls
  type: rsa_cert_credentials
- configurable: true
  default: tls_verify
  name: route_integrity
  option_templates:
  - name: tls_verify
    named_manifests:
    - manifest: |
        enabled: true
        additional_memory_allocation_mb: 32
      name: proxy
    select_value: tls_verify
  - name: mutual_tls_verify
    named_manifests:
    - manifest: |
        enabled: true
        additional_memory_allocation_mb: 32
        enable_unproxied_port_mappings: false
        require_and_verify_client_certificates: true
        trusted_ca_certificates:
        - (( $ops_manager.ca_certificate ))
        verify_subject_alt_name:
        - gorouter.service.cf.internal
        - ssh-proxy.service.cf.internal
      name: proxy
    - manifest: |
        tls:
          enabled: true
          ca_certificates:
          - ((( diego-instance-identity-intermediate-ca-2-7.ca )))
          client_certificate: (( .properties.ssh_proxy_backends_tls.cert_pem ))
          client_private_key: (( .properties.ssh_proxy_backends_tls.private_key_pem ))
      name: backends_tls
    select_value: mutual_tls_verify
  type: selector
- configurable: true
  default: enable
  name: route_services
  option_templates:
  - name: enable
    named_manifests:
    - manifest: |
        ((( router-route-services-secret )))
      name: secret
    - manifest: |
        (( .properties.route_services.enable.internal_lookup.value ))
      name: internal_lookup
    property_blueprints:
    - configurable: true
      default: false
      name: ignore_ssl_cert_verification
      type: boolean
    - configurable: true
      default: false
      name: internal_lookup
      type: boolean
    select_value: enable
  - name: disable
    named_manifests:
    - manifest: ""
      name: secret
    - manifest: |
        false
      name: internal_lookup
    select_value: disable
  type: selector
- configurable: true
  default: 500
  name: router_backend_max_conn
  type: integer
- configurable: true
  default: request
  name: router_client_cert_validation
  option_templates:
  - name: none
    named_manifests:
    - manifest: |
        none
      name: client_cert_validation
    select_value: none
  - name: request
    named_manifests:
    - manifest: |
        request
      name: client_cert_validation
    select_value: request
  - name: require
    named_manifests:
    - manifest: |
        require
      name: client_cert_validation
    select_value: require
  type: selector
- configurable: true
  default: false
  name: router_enable_proxy
  type: boolean
- configurable: true
  default: enable
  name: router_keepalive_connections
  option_templates:
  - name: enable
    named_manifests:
    - manifest: |
        49000
      name: max_idle_connections
    select_value: enable
  - name: disable
    named_manifests:
    - manifest: |
        0
      name: max_idle_connections
    select_value: disable
  type: selector
- configurable: false
  default:
    domains:
    - routing-api.service.cf.internal
  name: routing_api_client_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - routing-api.service.cf.internal
  name: routing_api_server_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - gorouter.service.cf.internal
  name: routing_backends_client_cert_with_san
  type: rsa_cert_credentials
- configurable: true
  name: routing_custom_ca_certificates
  optional: true
  type: text
- configurable: false
  default: routing
  name: routing_database_name
  type: string
- configurable: true
  default: tls_v1_2
  name: routing_minimum_tls_version
  option_templates:
  - name: tls_v1_0
    named_manifests:
    - manifest: |
        TLSv1.0
      name: min_tls_version
    - manifest: |
        false
      name: disable_tls_10
    - manifest: |
        false
      name: disable_tls_11
    select_value: tls_v1_0
  - name: tls_v1_1
    named_manifests:
    - manifest: |
        TLSv1.1
      name: min_tls_version
    - manifest: |
        true
      name: disable_tls_10
    - manifest: |
        false
      name: disable_tls_11
    select_value: tls_v1_1
  - name: tls_v1_2
    named_manifests:
    - manifest: |
        TLSv1.2
      name: min_tls_version
    - manifest: |
        true
      name: disable_tls_10
    - manifest: |
        true
      name: disable_tls_11
    select_value: tls_v1_2
  type: selector
- configurable: true
  default: log_client_ips
  name: routing_log_client_ips
  option_templates:
  - name: log_client_ips
    named_manifests:
    - manifest: |
        false
      name: disable_log_forwarded_for
    - manifest: |
        false
      name: disable_log_source_ips
    select_value: log_client_ips
  - name: disable_x_forwarded_for
    named_manifests:
    - manifest: |
        true
      name: disable_log_forwarded_for
    - manifest: |
        false
      name: disable_log_source_ips
    select_value: disable_x_forwarded_for
  - name: disable_all_log_client_ips
    named_manifests:
    - manifest: |
        true
      name: disable_log_forwarded_for
    - manifest: |
        true
      name: disable_log_source_ips
    select_value: disable_all_log_client_ips
  type: selector
- configurable: true
  default: false
  name: routing_disable_http
  type: boolean
- configurable: true
  default: load_balancer
  name: routing_tls_termination
  option_templates:
  - name: load_balancer
    named_manifests:
    - manifest: |
        always_forward
      name: gorouter_forwarded_client_cert
    select_value: load_balancer
  - name: ha_proxy
    named_manifests:
    - manifest: |
        forward
      name: gorouter_forwarded_client_cert
    select_value: ha_proxy
  - name: router
    named_manifests:
    - manifest: |
        sanitize_set
      name: gorouter_forwarded_client_cert
    select_value: router
  type: selector
- configurable: true
  default: round-robin
  name: router_balancing_algorithm
  option_templates:
  - name: round_robin
    select_value: round-robin
  - name: least_connection
    select_value: least-connection
  type: selector
- configurable: true
  name: saml_entity_id_override
  optional: true
  type: string
- configurable: true
  default: SHA256
  name: saml_signature_algorithm
  optional: false
  options:
  - label: SHA256
    name: SHA256
  - label: SHA512
    name: SHA512
  type: dropdown_select
- configurable: true
  default: false
  name: secure_service_instance_credentials
  type: boolean
- configurable: true
  name: security_acknowledgement
  type: string
- configurable: false
  default:
    domains:
    - service-discovery-controller.service.cf.internal
  name: service_discovery_client_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - service-discovery-controller.service.cf.internal
  name: service_discovery_server_tls
  type: rsa_cert_credentials
- configurable: true
  default: 1m
  name: system_metrics_scraper_scrape_interval
  type: string
- configurable: true
  default: rfc3339
  name: logging_timestamp_format
  option_templates:
  - name: rfc3339
    named_manifests:
    - manifest: |
        rfc3339
      name: rfc3339_or_deprecated
    - manifest: |
        rfc3339
      name: rfc3339_or_unix_epoch
    select_value: rfc3339
  - name: deprecated
    named_manifests:
    - manifest: |
        deprecated
      name: rfc3339_or_deprecated
    - manifest: |
        unix-epoch
      name: rfc3339_or_unix_epoch
    select_value: deprecated
  type: selector
- configurable: false
  default: silk
  name: silk_database_name
  type: string
- configurable: true
  constraints:
    min: 1
  default: 200
  name: silk_database_max_open_connections
  type: integer
- configurable: true
  default: on_demand
  name: smoke_tests
  option_templates:
  - name: on_demand
    named_manifests:
    - manifest: |
        api: "https://api.(( .cloud_controller.system_domain.value ))"
        user: (( .uaa.run_smoke_tests_credentials.identity ))
        password: (( .uaa.run_smoke_tests_credentials.password ))
        organization: system
        skip_ssl_validation: (( .ha_proxy.skip_cert_verify.value ))
        cf_dial_timeout_in_seconds: (( .properties.cf_dial_timeout_in_seconds.value ))
      name: smoke_tests
    select_value: on_demand
  - name: specified
    named_manifests:
    - manifest: |
        api: "https://api.(( .cloud_controller.system_domain.value ))"
        user: (( .uaa.run_smoke_tests_credentials.identity ))
        password: (( .uaa.run_smoke_tests_credentials.password ))
        organization: (( .properties.smoke_tests.specified.org_name.value ))
        space: (( .properties.smoke_tests.specified.space_name.value ))
        skip_ssl_validation: (( .ha_proxy.skip_cert_verify.value ))
        cf_dial_timeout_in_seconds: (( .properties.cf_dial_timeout_in_seconds.value ))
      name: smoke_tests
    property_blueprints:
    - configurable: true
      name: org_name
      type: string
    - configurable: true
      name: space_name
      type: string
    select_value: specified
  type: selector
- configurable: true
  name: smtp_address
  optional: true
  type: network_address
- configurable: true
  default: plain
  name: smtp_auth_mechanism
  options:
  - label: None
    name: none
  - label: Plain
    name: plain
  - label: CRAMMD5
    name: cram-md5
  type: dropdown_select
- configurable: true
  name: smtp_crammd5_secret
  optional: true
  type: string
- configurable: true
  name: smtp_credentials
  optional: true
  type: simple_credentials
- configurable: true
  default: false
  name: smtp_enable_starttls_auto
  type: boolean
- configurable: true
  name: smtp_from
  optional: true
  type: email
- configurable: true
  name: smtp_port
  optional: true
  type: port
- configurable: false
  default:
    domains:
    - ssh-proxy.service.cf.internal
  name: ssh_proxy_backends_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - syslog_agent_metrics
  name: syslog_agent_metrics_tls
  type: rsa_cert_credentials
- configurable: true
  name: syslog_agent_aggregate_drains
  optional: true
  type: string_list
- configurable: true
  default: true
  name: syslog_drop_debug
  type: boolean
- configurable: true
  name: syslog_host
  optional: true
  type: network_address
- configurable: true
  name: syslog_port
  optional: true
  type: port
- configurable: true
  name: syslog_protocol
  optional: true
  options:
  - label: TCP protocol
    name: tcp
  - label: RELP protocol
    name: relp
  - label: UDP protocol
    name: udp
  type: dropdown_select
- configurable: true
  name: syslog_rule
  optional: true
  type: text
- configurable: true
  default: disabled
  name: syslog_tls
  option_templates:
  - name: disabled
    named_manifests:
    - manifest: |
        false
      name: tls_enabled
    - manifest: ""
      name: ca_cert
    - manifest: |
        ""
      name: permitted_peer
    select_value: disabled
  - name: enabled
    named_manifests:
    - manifest: |
        true
      name: tls_enabled
    - manifest: |
        (( .properties.syslog_tls.enabled.tls_ca_cert.value ))
      name: ca_cert
    - manifest: |
        (( .properties.syslog_tls.enabled.tls_permitted_peer.value ))
      name: permitted_peer
    property_blueprints:
    - configurable: true
      name: tls_ca_cert
      type: ca_certificate
    - configurable: true
      name: tls_permitted_peer
      type: string
    select_value: enabled
  type: selector
- configurable: true
  default: false
  name: syslog_use_tcp_for_file_forwarding_local_transport
  type: boolean
- configurable: true
  default: internal
  name: system_blobstore
  option_templates:
  - name: internal
    named_manifests:
    - manifest: |
        - "buildpacks"
        - "packages"
        - "droplets"
      name: all_buckets
    - manifest: |
        '(( .properties.system_blobstore_backup_level.selected_option.parsed_manifest(backup_skip_droplets) ? .properties.system_blobstore.selected_option.parsed_manifest(skip_droplets_buckets) : .properties.system_blobstore.selected_option.parsed_manifest(skip_droplets_packages_buckets) ))'
      name: skip_buckets
    - manifest: |
        - "buildpacks"
        - "packages"
      name: skip_droplets_buckets
    - manifest: |
        - "buildpacks"
      name: skip_droplets_packages_buckets
    - manifest: |
        blobstore_type: webdav
        webdav_config:
          username: ((( webdav-blobstore-credentials.username )))
          password: ((( webdav-blobstore-credentials.password )))
          public_endpoint: https://blobstore.(( .cloud_controller.system_domain.value ))
          ca_cert: (( $ops_manager.ca_certificate ))
      name: ccbuildpack
    - manifest: |
        max_staged_droplets_stored:  (( .properties.system_blobstore_ccdroplet_max_staged_droplets_stored.value ))
        blobstore_type: webdav
        webdav_config:
          username: ((( webdav-blobstore-credentials.username )))
          password: ((( webdav-blobstore-credentials.password )))
          public_endpoint: https://blobstore.(( .cloud_controller.system_domain.value ))
          ca_cert: (( $ops_manager.ca_certificate ))
      name: ccdroplet
    - manifest: |
        max_package_size: (( .cloud_controller.max_package_size.value ))
        max_valid_packages_stored: (( .properties.system_blobstore_ccpackage_max_valid_packages_stored.value ))
        blobstore_type: webdav
        webdav_config:
          username: ((( webdav-blobstore-credentials.username )))
          password: ((( webdav-blobstore-credentials.password )))
          public_endpoint: https://blobstore.(( .cloud_controller.system_domain.value ))
          ca_cert: (( $ops_manager.ca_certificate ))
      name: ccpackage
    - manifest: |
        blobstore_type: webdav
        webdav_config:
          username: ((( webdav-blobstore-credentials.username )))
          password: ((( webdav-blobstore-credentials.password )))
          public_endpoint: https://blobstore.(( .cloud_controller.system_domain.value ))
          ca_cert: (( $ops_manager.ca_certificate ))
      name: ccresource
    - manifest: null
      name: backup_buildpack
    - manifest: null
      name: backup_buildpack_iam
    - manifest: null
      name: backup_droplet
    - manifest: null
      name: backup_droplet_iam
    - manifest: null
      name: backup_package
    - manifest: null
      name: backup_package_iam
    - manifest: |
        false
      name: enable_unversioned_s3_backup
    - manifest: |
        false
      name: enable_backup_path_style
    - manifest: |
        false
      name: enable_versioned_s3_backup
    - manifest: |
        false
      name: enable_gcs_backup
    - manifest: |
        true
      name: enable_internal_backup
    select_value: internal
  - name: external
    named_manifests:
    - manifest: |
        encryption: "AES256"
      name: aes_hash
    - manifest: |
        encryption: "aws:kms"
        x-amz-server-side-encryption-aws-kms-key-id: (( .properties.system_blobstore.external.encryption_kms_key_id.value ))
      name: kms_hash
    - manifest: |
        "(( .properties.system_blobstore.external.encryption_kms_key_id.value ? .properties.system_blobstore.selected_option.parsed_manifest(kms_hash) : .properties.system_blobstore.selected_option.parsed_manifest(aes_hash) ))"
      name: encrypt_hash
    - manifest: '{}'
      name: empty_hash
    - manifest: |
        buildpacks: '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(backup_buildpack_iam) : .properties.system_blobstore.selected_option.parsed_manifest(backup_buildpack) ))'
        droplets: '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(backup_droplet_iam) : .properties.system_blobstore.selected_option.parsed_manifest(backup_droplet) ))'
        packages: '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(backup_package_iam) : .properties.system_blobstore.selected_option.parsed_manifest(backup_package) ))'
      name: all_buckets
    - manifest: |
        '(( .properties.system_blobstore_backup_level.selected_option.parsed_manifest(backup_skip_droplets) ? .properties.system_blobstore.selected_option.parsed_manifest(skip_droplets_buckets) : .properties.system_blobstore.selected_option.parsed_manifest(skip_droplets_packages_buckets) ))'
      name: skip_buckets
    - manifest: |
        buildpacks: '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(backup_buildpack_iam) : .properties.system_blobstore.selected_option.parsed_manifest(backup_buildpack) ))'
        packages: '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(backup_package_iam) : .properties.system_blobstore.selected_option.parsed_manifest(backup_package) ))'
      name: skip_droplets_buckets
    - manifest: |
        buildpacks: '(( .properties.system_blobstore.external.iam_instance_profile_authentication.value ? .properties.system_blobstore.selected_option.parsed_manifest(backup_buildpack_iam) : .properties.system_blobstore.selected_option.parsed_manifest(backup_buildpack) ))'
      name: skip_droplets_packages_buckets
    - manifest: |
        blobstore_type: fog
        buildpack_directory_key: (( .properties.system_blobstore.external.buildpacks_bucket.value ))
        fog_connection:
          provider: AWS
          aws_access_key_id: (( .properties.system_blobstore.external.access_key.value ))
          aws_secret_access_key: (( .properties.system_blobstore.external.secret_key.value ))
          aws_signature_version: (( .properties.system_blobstore.external.signature_version.value ))
          region:  (( .properties.system_blobstore.external.region.value ))
          path_style: (( .properties.system_blobstore.external.path_style_s3_urls.value ))
          endpoint: (( .properties.system_blobstore.external.endpoint.value ))
        fog_aws_storage_options: '(( .properties.system_blobstore.external.encryption.value ? .properties.system_blobstore.selected_option.parsed_manifest(encrypt_hash) : .properties.system_blobstore.selected_option.parsed_manifest(empty_hash) ))'
      name: ccbuildpack
    - manifest: |
        blobstore_type: fog
        buildpack_directory_key: (( .properties.system_blobstore.external.buildpacks_bucket.value ))
        fog_connection:
          provider: AWS
          aws_signature_version: (( .properties.system_blobstore.external.signature_version.value ))
          use_iam_profile: true
          region:  (( .properties.system_blobstore.external.region.value ))
          path_style: (( .properties.system_blobstore.external.path_style_s3_urls.value ))
          endpoint: (( .properties.system_blobstore.external.endpoint.value ))
        fog_aws_storage_options: '(( .properties.system_blobstore.external.encryption.value ? .properties.system_blobstore.selected_option.parsed_manifest(encrypt_hash) : .properties.system_blobstore.selected_option.parsed_manifest(empty_hash) ))'
      name: ccbuildpack_iam
    - manifest: |
        max_staged_droplets_stored:  (( .properties.system_blobstore_ccdroplet_max_staged_droplets_stored.value ))
        blobstore_type: fog
        droplet_directory_key: (( .properties.system_blobstore.external.droplets_bucket.value ))
        fog_connection:
          provider: AWS
          aws_access_key_id: (( .properties.system_blobstore.external.access_key.value ))
          aws_secret_access_key: (( .properties.system_blobstore.external.secret_key.value ))
          aws_signature_version: (( .properties.system_blobstore.external.signature_version.value ))
          region:  (( .properties.system_blobstore.external.region.value ))
          path_style: (( .properties.system_blobstore.external.path_style_s3_urls.value ))
          endpoint: (( .properties.system_blobstore.external.endpoint.value ))
        fog_aws_storage_options: '(( .properties.system_blobstore.external.encryption.value ? .properties.system_blobstore.selected_option.parsed_manifest(encrypt_hash) : .properties.system_blobstore.selected_option.parsed_manifest(empty_hash) ))'
      name: ccdroplet
    - manifest: |
        max_staged_droplets_stored: 2
        blobstore_type: fog
        droplet_directory_key: (( .properties.system_blobstore.external.droplets_bucket.value ))
        fog_connection:
          provider: AWS
          aws_signature_version: (( .properties.system_blobstore.external.signature_version.value ))
          use_iam_profile: true
          region:  (( .properties.system_blobstore.external.region.value ))
          path_style: (( .properties.system_blobstore.external.path_style_s3_urls.value ))
          endpoint: (( .properties.system_blobstore.external.endpoint.value ))
        fog_aws_storage_options: '(( .properties.system_blobstore.external.encryption.value ? .properties.system_blobstore.selected_option.parsed_manifest(encrypt_hash) : .properties.system_blobstore.selected_option.parsed_manifest(empty_hash) ))'
      name: ccdroplet_iam
    - manifest: |
        max_package_size: (( .cloud_controller.max_package_size.value ))
        max_valid_packages_stored: (( .properties.system_blobstore_ccpackage_max_valid_packages_stored.value ))
        app_package_directory_key: (( .properties.system_blobstore.external.packages_bucket.value ))
        blobstore_type: fog
        fog_connection:
          provider: AWS
          aws_access_key_id: (( .properties.system_blobstore.external.access_key.value ))
          aws_secret_access_key: (( .properties.system_blobstore.external.secret_key.value ))
          aws_signature_version: (( .properties.system_blobstore.external.signature_version.value ))
          region:  (( .properties.system_blobstore.external.region.value ))
          path_style: (( .properties.system_blobstore.external.path_style_s3_urls.value ))
          endpoint: (( .properties.system_blobstore.external.endpoint.value ))
        fog_aws_storage_options: '(( .properties.system_blobstore.external.encryption.value ? .properties.system_blobstore.selected_option.parsed_manifest(encrypt_hash) : .properties.system_blobstore.selected_option.parsed_manifest(empty_hash) ))'
      name: ccpackage
    - manifest: |
        max_package_size: (( .cloud_controller.max_package_size.value ))
        app_package_directory_key: (( .properties.system_blobstore.external.packages_bucket.value ))
        blobstore_type: fog
        fog_connection:
          provider: AWS
          aws_signature_version: (( .properties.system_blobstore.external.signature_version.value ))
          use_iam_profile: true
          region:  (( .properties.system_blobstore.external.region.value ))
          path_style: (( .properties.system_blobstore.external.path_style_s3_urls.value ))
          endpoint: (( .properties.system_blobstore.external.endpoint.value ))
        fog_aws_storage_options: '(( .properties.system_blobstore.external.encryption.value ? .properties.system_blobstore.selected_option.parsed_manifest(encrypt_hash) : .properties.system_blobstore.selected_option.parsed_manifest(empty_hash) ))'
      name: ccpackage_iam
    - manifest: |
        blobstore_type: fog
        resource_directory_key: (( .properties.system_blobstore.external.resources_bucket.value ))
        fog_connection:
          provider: AWS
          aws_access_key_id: (( .properties.system_blobstore.external.access_key.value ))
          aws_secret_access_key: (( .properties.system_blobstore.external.secret_key.value ))
          aws_signature_version: (( .properties.system_blobstore.external.signature_version.value ))
          region:  (( .properties.system_blobstore.external.region.value ))
          path_style: (( .properties.system_blobstore.external.path_style_s3_urls.value ))
          endpoint: (( .properties.system_blobstore.external.endpoint.value ))
        fog_aws_storage_options: '(( .properties.system_blobstore.external.encryption.value ? .properties.system_blobstore.selected_option.parsed_manifest(encrypt_hash) : .properties.system_blobstore.selected_option.parsed_manifest(empty_hash) ))'
      name: ccresource
    - manifest: |
        blobstore_type: fog
        resource_directory_key: (( .properties.system_blobstore.external.resources_bucket.value ))
        fog_connection:
          provider: AWS
          aws_signature_version: (( .properties.system_blobstore.external.signature_version.value ))
          use_iam_profile: true
          region:  (( .properties.system_blobstore.external.region.value ))
          path_style: (( .properties.system_blobstore.external.path_style_s3_urls.value ))
          endpoint: (( .properties.system_blobstore.external.endpoint.value ))
        fog_aws_storage_options: '(( .properties.system_blobstore.external.encryption.value ? .properties.system_blobstore.selected_option.parsed_manifest(encrypt_hash) : .properties.system_blobstore.selected_option.parsed_manifest(empty_hash) ))'
      name: ccresource_iam
    - manifest: |
        name: (( .properties.system_blobstore.external.buildpacks_bucket.value ))
        region: (( .properties.system_blobstore.external.region.value ))
        aws_access_key_id: (( .properties.system_blobstore.external.access_key.value ))
        aws_secret_access_key: (( .properties.system_blobstore.external.secret_key.value ))
        endpoint: (( .properties.system_blobstore.external.endpoint.value ))
        backup:
          name: (( .properties.system_blobstore.external.buildpacks_backup_bucket.value ))
          region: (( .properties.system_blobstore.external.backup_region.value ))
      name: backup_buildpack
    - manifest: |
        name: (( .properties.system_blobstore.external.buildpacks_bucket.value ))
        region: (( .properties.system_blobstore.external.region.value ))
        endpoint: (( .properties.system_blobstore.external.endpoint.value ))
        use_iam_profile: true
        backup:
          name: (( .properties.system_blobstore.external.buildpacks_backup_bucket.value ))
          region: (( .properties.system_blobstore.external.backup_region.value ))
      name: backup_buildpack_iam
    - manifest: |
        name: (( .properties.system_blobstore.external.droplets_bucket.value ))
        region: (( .properties.system_blobstore.external.region.value ))
        aws_access_key_id: (( .properties.system_blobstore.external.access_key.value ))
        aws_secret_access_key: (( .properties.system_blobstore.external.secret_key.value ))
        endpoint: (( .properties.system_blobstore.external.endpoint.value ))
        backup:
          name: (( .properties.system_blobstore.external.droplets_backup_bucket.value ))
          region: (( .properties.system_blobstore.external.backup_region.value ))
      name: backup_droplet
    - manifest: |
        name: (( .properties.system_blobstore.external.droplets_bucket.value ))
        region: (( .properties.system_blobstore.external.region.value ))
        endpoint: (( .properties.system_blobstore.external.endpoint.value ))
        use_iam_profile: true
        backup:
          name: (( .properties.system_blobstore.external.droplets_backup_bucket.value ))
          region: (( .properties.system_blobstore.external.backup_region.value ))
      name: backup_droplet_iam
    - manifest: |
        name: (( .properties.system_blobstore.external.packages_bucket.value ))
        region: (( .properties.system_blobstore.external.region.value ))
        aws_access_key_id: (( .properties.system_blobstore.external.access_key.value ))
        aws_secret_access_key: (( .properties.system_blobstore.external.secret_key.value ))
        endpoint: (( .properties.system_blobstore.external.endpoint.value ))
        backup:
          name: (( .properties.system_blobstore.external.packages_backup_bucket.value ))
          region: (( .properties.system_blobstore.external.backup_region.value ))
      name: backup_package
    - manifest: |
        name: (( .properties.system_blobstore.external.packages_bucket.value ))
        region: (( .properties.system_blobstore.external.region.value ))
        endpoint: (( .properties.system_blobstore.external.endpoint.value ))
        use_iam_profile: true
        backup:
          name: (( .properties.system_blobstore.external.packages_backup_bucket.value ))
          region: (( .properties.system_blobstore.external.backup_region.value ))
      name: backup_package_iam
    - manifest: |
        '(( .properties.system_blobstore.external.versioning.value ? false : true ))'
      name: enable_unversioned_s3_backup
    - manifest: |
        (( .properties.system_blobstore.external.versioning.value ))
      name: enable_versioned_s3_backup
    - manifest: |
        (( .properties.system_blobstore.external.path_style_s3_urls.value ))
      name: enable_backup_path_style
    - manifest: |
        false
      name: enable_gcs_backup
    - manifest: |
        false
      name: enable_internal_backup
    property_blueprints:
    - configurable: true
      default: https://s3.amazonaws.com
      name: endpoint
      type: string
    - configurable: true
      default: true
      name: path_style_s3_urls
      type: boolean
    - configurable: true
      name: buildpacks_bucket
      type: string
    - configurable: true
      name: droplets_bucket
      type: string
    - configurable: true
      name: packages_bucket
      type: string
    - configurable: true
      name: resources_bucket
      type: string
    - configurable: true
      name: buildpacks_backup_bucket
      optional: true
      type: string
    - configurable: true
      name: droplets_backup_bucket
      optional: true
      type: string
    - configurable: true
      name: packages_backup_bucket
      optional: true
      type: string
    - configurable: true
      default: false
      name: iam_instance_profile_authentication
      type: boolean
    - configurable: true
      name: access_key
      optional: true
      type: string
    - configurable: true
      name: secret_key
      optional: true
      type: secret
    - configurable: true
      default: 4
      name: signature_version
      optional: false
      options:
      - label: V2 Signature
        name: 2
      - label: V4 Signature
        name: 4
      type: dropdown_select
    - configurable: true
      name: region
      optional: true
      type: string
    - configurable: true
      name: backup_region
      optional: true
      type: string
    - configurable: true
      default: false
      name: encryption
      optional: false
      type: boolean
    - configurable: true
      name: encryption_kms_key_id
      optional: true
      type: string
    - configurable: true
      default: false
      name: versioning
      type: boolean
    select_value: external
  - name: external_gcs
    named_manifests:
    - manifest: |
        droplet:
          bucket_name: (( .properties.system_blobstore.external_gcs_service_account.droplets_bucket.value ))
          backup_bucket_name: (( .properties.system_blobstore.external_gcs_service_account.backup_bucket.value ))
        buildpack:
          bucket_name: (( .properties.system_blobstore.external_gcs_service_account.buildpacks_bucket.value ))
          backup_bucket_name: (( .properties.system_blobstore.external_gcs_service_account.backup_bucket.value ))
        package:
          bucket_name: (( .properties.system_blobstore.external_gcs_service_account.packages_bucket.value ))
          backup_bucket_name: (( .properties.system_blobstore.external_gcs_service_account.backup_bucket.value ))
      name: all_buckets
    - manifest: |
        '(( .properties.system_blobstore_backup_level.selected_option.parsed_manifest(backup_skip_droplets) ? .properties.system_blobstore.selected_option.parsed_manifest(skip_droplets_buckets) : .properties.system_blobstore.selected_option.parsed_manifest(skip_droplets_packages_buckets) ))'
      name: skip_buckets
    - manifest: |
        buildpack:
          bucket_name: (( .properties.system_blobstore.external_gcs_service_account.buildpacks_bucket.value ))
          backup_bucket_name: (( .properties.system_blobstore.external_gcs_service_account.backup_bucket.value ))
        package:
          bucket_name: (( .properties.system_blobstore.external_gcs_service_account.packages_bucket.value ))
          backup_bucket_name: (( .properties.system_blobstore.external_gcs_service_account.backup_bucket.value ))
      name: skip_droplets_buckets
    - manifest: |
        buildpack:
          bucket_name: (( .properties.system_blobstore.external_gcs_service_account.buildpacks_bucket.value ))
          backup_bucket_name: (( .properties.system_blobstore.external_gcs_service_account.backup_bucket.value ))
      name: skip_droplets_packages_buckets
    - manifest: |
        blobstore_type: fog
        buildpack_directory_key: (( .properties.system_blobstore.external_gcs.buildpacks_bucket.value ))
        fog_connection:
          provider: Google
          google_storage_access_key_id: (( .properties.system_blobstore.external_gcs.access_key.value ))
          google_storage_secret_access_key: (( .properties.system_blobstore.external_gcs.secret_key.value ))
      name: ccbuildpack
    - manifest: |
        max_staged_droplets_stored:  (( .properties.system_blobstore_ccdroplet_max_staged_droplets_stored.value ))
        blobstore_type: fog
        droplet_directory_key: (( .properties.system_blobstore.external_gcs.droplets_bucket.value ))
        fog_connection:
          provider: Google
          google_storage_access_key_id: (( .properties.system_blobstore.external_gcs.access_key.value ))
          google_storage_secret_access_key: (( .properties.system_blobstore.external_gcs.secret_key.value ))
      name: ccdroplet
    - manifest: |
        max_package_size: (( .cloud_controller.max_package_size.value ))
        max_valid_packages_stored: (( .properties.system_blobstore_ccpackage_max_valid_packages_stored.value ))
        blobstore_type: fog
        app_package_directory_key: (( .properties.system_blobstore.external_gcs.packages_bucket.value ))
        fog_connection:
          provider: Google
          google_storage_access_key_id: (( .properties.system_blobstore.external_gcs.access_key.value ))
          google_storage_secret_access_key: (( .properties.system_blobstore.external_gcs.secret_key.value ))
      name: ccpackage
    - manifest: |
        blobstore_type: fog
        resource_directory_key: (( .properties.system_blobstore.external_gcs.resources_bucket.value ))
        fog_connection:
          provider: Google
          google_storage_access_key_id: (( .properties.system_blobstore.external_gcs.access_key.value ))
          google_storage_secret_access_key: (( .properties.system_blobstore.external_gcs.secret_key.value ))
      name: ccresource
    - manifest: null
      name: backup_buildpack
    - manifest: null
      name: backup_buildpack_iam
    - manifest: null
      name: backup_droplet
    - manifest: null
      name: backup_droplet_iam
    - manifest: null
      name: backup_package
    - manifest: null
      name: backup_package_iam
    - manifest: |
        false
      name: enable_unversioned_s3_backup
    - manifest: |
        false
      name: enable_versioned_s3_backup
    - manifest: |
        false
      name: enable_backup_path_style
    - manifest: |
        false
      name: enable_gcs_backup
    - manifest: |
        false
      name: enable_internal_backup
    property_blueprints:
    - configurable: true
      name: buildpacks_bucket
      type: string
    - configurable: true
      name: droplets_bucket
      type: string
    - configurable: true
      name: packages_bucket
      type: string
    - configurable: true
      name: resources_bucket
      type: string
    - configurable: true
      name: access_key
      type: string
    - configurable: true
      name: secret_key
      type: secret
    select_value: external_gcs
  - name: external_gcs_service_account
    named_manifests:
    - manifest: |
        droplet:
          bucket_name: (( .properties.system_blobstore.external_gcs_service_account.droplets_bucket.value ))
          backup_bucket_name: (( .properties.system_blobstore.external_gcs_service_account.backup_bucket.value ))
        buildpack:
          bucket_name: (( .properties.system_blobstore.external_gcs_service_account.buildpacks_bucket.value ))
          backup_bucket_name: (( .properties.system_blobstore.external_gcs_service_account.backup_bucket.value ))
        package:
          bucket_name: (( .properties.system_blobstore.external_gcs_service_account.packages_bucket.value ))
          backup_bucket_name: (( .properties.system_blobstore.external_gcs_service_account.backup_bucket.value ))
      name: all_buckets
    - manifest: |
        '(( .properties.system_blobstore_backup_level.selected_option.parsed_manifest(backup_skip_droplets) ? .properties.system_blobstore.selected_option.parsed_manifest(skip_droplets_buckets) : .properties.system_blobstore.selected_option.parsed_manifest(skip_droplets_packages_buckets) ))'
      name: skip_buckets
    - manifest: |
        buildpack:
          bucket_name: (( .properties.system_blobstore.external_gcs_service_account.buildpacks_bucket.value ))
          backup_bucket_name: (( .properties.system_blobstore.external_gcs_service_account.backup_bucket.value ))
        package:
          bucket_name: (( .properties.system_blobstore.external_gcs_service_account.packages_bucket.value ))
          backup_bucket_name: (( .properties.system_blobstore.external_gcs_service_account.backup_bucket.value ))
      name: skip_droplets_buckets
    - manifest: |
        buildpack:
          bucket_name: (( .properties.system_blobstore.external_gcs_service_account.buildpacks_bucket.value ))
          backup_bucket_name: (( .properties.system_blobstore.external_gcs_service_account.backup_bucket.value ))
      name: skip_droplets_packages_buckets
    - manifest: |
        blobstore_type: fog
        buildpack_directory_key: (( .properties.system_blobstore.external_gcs_service_account.buildpacks_bucket.value ))
        fog_connection:
          provider: Google
          google_project: (( .properties.system_blobstore.external_gcs_service_account.project_id.value ))
          google_client_email: (( .properties.system_blobstore.external_gcs_service_account.service_account_email.value ))
          google_json_key_string: (( .properties.system_blobstore.external_gcs_service_account.service_account_json_key.value ))
      name: ccbuildpack
    - manifest: |
        max_staged_droplets_stored: 2
        blobstore_type: fog
        droplet_directory_key: (( .properties.system_blobstore.external_gcs_service_account.droplets_bucket.value ))
        fog_connection:
          provider: Google
          google_project: (( .properties.system_blobstore.external_gcs_service_account.project_id.value ))
          google_client_email: (( .properties.system_blobstore.external_gcs_service_account.service_account_email.value ))
          google_json_key_string: (( .properties.system_blobstore.external_gcs_service_account.service_account_json_key.value ))
      name: ccdroplet
    - manifest: |
        max_package_size: (( .cloud_controller.max_package_size.value ))
        blobstore_type: fog
        app_package_directory_key: (( .properties.system_blobstore.external_gcs_service_account.packages_bucket.value ))
        fog_connection:
          provider: Google
          google_project: (( .properties.system_blobstore.external_gcs_service_account.project_id.value ))
          google_client_email: (( .properties.system_blobstore.external_gcs_service_account.service_account_email.value ))
          google_json_key_string: (( .properties.system_blobstore.external_gcs_service_account.service_account_json_key.value ))
      name: ccpackage
    - manifest: |
        blobstore_type: fog
        resource_directory_key: (( .properties.system_blobstore.external_gcs_service_account.resources_bucket.value ))
        fog_connection:
          provider: Google
          google_project: (( .properties.system_blobstore.external_gcs_service_account.project_id.value ))
          google_client_email: (( .properties.system_blobstore.external_gcs_service_account.service_account_email.value ))
          google_json_key_string: (( .properties.system_blobstore.external_gcs_service_account.service_account_json_key.value ))
      name: ccresource
    - manifest: |
        enabled: true
        gcp_service_account_key: (( .properties.system_blobstore.external_gcs_service_account.service_account_json_key.value ))
        bpm:
          enabled: true
        buckets:
          droplet:
            bucket_name: (( .properties.system_blobstore.external_gcs_service_account.droplets_bucket.value ))
            backup_bucket_name: (( .properties.system_blobstore.external_gcs_service_account.backup_bucket.value ))
          buildpack:
            bucket_name: (( .properties.system_blobstore.external_gcs_service_account.buildpacks_bucket.value ))
            backup_bucket_name: (( .properties.system_blobstore.external_gcs_service_account.backup_bucket.value ))
          package:
            bucket_name: (( .properties.system_blobstore.external_gcs_service_account.packages_bucket.value ))
            backup_bucket_name: (( .properties.system_blobstore.external_gcs_service_account.backup_bucket.value ))
      name: backup_bucket
    - manifest: |
        true
      name: enable_gcs_backup
    - manifest: |
        false
      name: enable_unversioned_s3_backup
    - manifest: |
        false
      name: enable_versioned_s3_backup
    - manifest: |
        false
      name: enable_backup_path_style
    - manifest: |
        false
      name: enable_internal_backup
    - manifest: null
      name: backup_buildpack
    - manifest: null
      name: backup_buildpack_iam
    - manifest: null
      name: backup_droplet
    - manifest: null
      name: backup_droplet_iam
    - manifest: null
      name: backup_package
    - manifest: null
      name: backup_package_iam
    property_blueprints:
    - configurable: true
      name: buildpacks_bucket
      type: string
    - configurable: true
      name: droplets_bucket
      type: string
    - configurable: true
      name: packages_bucket
      type: string
    - configurable: true
      name: resources_bucket
      type: string
    - configurable: true
      name: backup_bucket
      type: string
    - configurable: true
      name: project_id
      type: string
    - configurable: true
      name: service_account_email
      type: string
    - configurable: true
      name: service_account_json_key
      type: text
    select_value: external_gcs_service_account
  - name: external_azure
    named_manifests:
    - manifest: |
        buildpacks:
          name: (( .properties.system_blobstore.external_azure.buildpacks_container.value ))
          azure_storage_account:  (( .properties.system_blobstore.external_azure.account_name.value ))
          azure_storage_key: (( .properties.system_blobstore.external_azure.access_key.value ))
          restore_from:
            azure_storage_account:  (( .properties.system_blobstore.external_azure.restore_from_account_name.value ))
            azure_storage_key: (( .properties.system_blobstore.external_azure.restore_from_access_key.value ))
        droplets:
          name: (( .properties.system_blobstore.external_azure.droplets_container.value ))
          azure_storage_account:  (( .properties.system_blobstore.external_azure.account_name.value ))
          azure_storage_key: (( .properties.system_blobstore.external_azure.access_key.value ))
          restore_from:
            azure_storage_account:  (( .properties.system_blobstore.external_azure.restore_from_account_name.value ))
            azure_storage_key: (( .properties.system_blobstore.external_azure.restore_from_access_key.value ))
        packages:
          name: (( .properties.system_blobstore.external_azure.droplets_container.value ))
          azure_storage_account:  (( .properties.system_blobstore.external_azure.account_name.value ))
          azure_storage_key: (( .properties.system_blobstore.external_azure.access_key.value ))
          restore_from:
            azure_storage_account:  (( .properties.system_blobstore.external_azure.restore_from_account_name.value ))
            azure_storage_key: (( .properties.system_blobstore.external_azure.restore_from_access_key.value ))
      name: all_buckets
    - manifest: |
        '(( .properties.system_blobstore_backup_level.selected_option.parsed_manifest(backup_skip_droplets) ? .properties.system_blobstore.selected_option.parsed_manifest(skip_droplets_buckets) : .properties.system_blobstore.selected_option.parsed_manifest(skip_droplets_packages_buckets) ))'
      name: skip_buckets
    - manifest: |
        buildpacks:
          name: (( .properties.system_blobstore.external_azure.buildpacks_container.value ))
          azure_storage_account:  (( .properties.system_blobstore.external_azure.account_name.value ))
          azure_storage_key: (( .properties.system_blobstore.external_azure.access_key.value ))
          restore_from:
            azure_storage_account:  (( .properties.system_blobstore.external_azure.restore_from_account_name.value ))
            azure_storage_key: (( .properties.system_blobstore.external_azure.restore_from_access_key.value ))
        packages:
          name: (( .properties.system_blobstore.external_azure.droplets_container.value ))
          azure_storage_account:  (( .properties.system_blobstore.external_azure.account_name.value ))
          azure_storage_key: (( .properties.system_blobstore.external_azure.access_key.value ))
          restore_from:
            azure_storage_account:  (( .properties.system_blobstore.external_azure.restore_from_account_name.value ))
            azure_storage_key: (( .properties.system_blobstore.external_azure.restore_from_access_key.value ))
      name: skip_droplets_buckets
    - manifest: |
        buildpacks:
          name: (( .properties.system_blobstore.external_azure.buildpacks_container.value ))
          azure_storage_account:  (( .properties.system_blobstore.external_azure.account_name.value ))
          azure_storage_key: (( .properties.system_blobstore.external_azure.access_key.value ))
          restore_from:
            azure_storage_account:  (( .properties.system_blobstore.external_azure.restore_from_account_name.value ))
            azure_storage_key: (( .properties.system_blobstore.external_azure.restore_from_access_key.value ))
      name: skip_droplets_packages_buckets
    - manifest: |
        blobstore_type: fog
        buildpack_directory_key: (( .properties.system_blobstore.external_azure.buildpacks_container.value ))
        fog_connection:
          provider: AzureRM
          environment: (( .properties.system_blobstore.external_azure.environment.value ))
          azure_storage_account_name: (( .properties.system_blobstore.external_azure.account_name.value ))
          azure_storage_access_key: (( .properties.system_blobstore.external_azure.access_key.value ))
      name: ccbuildpack
    - manifest: |
        max_staged_droplets_stored:  (( .properties.system_blobstore_ccdroplet_max_staged_droplets_stored.value ))
        blobstore_type: fog
        droplet_directory_key: (( .properties.system_blobstore.external_azure.droplets_container.value ))
        fog_connection:
          provider: AzureRM
          environment: (( .properties.system_blobstore.external_azure.environment.value ))
          azure_storage_account_name: (( .properties.system_blobstore.external_azure.account_name.value ))
          azure_storage_access_key: (( .properties.system_blobstore.external_azure.access_key.value ))
      name: ccdroplet
    - manifest: |
        max_package_size: (( .cloud_controller.max_package_size.value ))
        max_valid_packages_stored: (( .properties.system_blobstore_ccpackage_max_valid_packages_stored.value ))
        blobstore_type: fog
        app_package_directory_key: (( .properties.system_blobstore.external_azure.packages_container.value ))
        fog_connection:
          provider: AzureRM
          environment: (( .properties.system_blobstore.external_azure.environment.value ))
          azure_storage_account_name: (( .properties.system_blobstore.external_azure.account_name.value ))
          azure_storage_access_key: (( .properties.system_blobstore.external_azure.access_key.value ))
      name: ccpackage
    - manifest: |
        blobstore_type: fog
        resource_directory_key: (( .properties.system_blobstore.external_azure.resources_container.value ))
        fog_connection:
          provider: AzureRM
          environment: (( .properties.system_blobstore.external_azure.environment.value ))
          azure_storage_account_name: (( .properties.system_blobstore.external_azure.account_name.value ))
          azure_storage_access_key: (( .properties.system_blobstore.external_azure.access_key.value ))
      name: ccresource
    - manifest: null
      name: backup_buildpack
    - manifest: null
      name: backup_buildpack_iam
    - manifest: null
      name: backup_droplet
    - manifest: null
      name: backup_droplet_iam
    - manifest: null
      name: backup_package
    - manifest: null
      name: backup_package_iam
    - manifest: |
        false
      name: enable_unversioned_s3_backup
    - manifest: |
        false
      name: enable_versioned_s3_backup
    - manifest: |
        false
      name: enable_backup_path_style
    - manifest: |
        false
      name: enable_gcs_backup
    - manifest: |
        false
      name: enable_internal_backup
    property_blueprints:
    - configurable: true
      name: buildpacks_container
      type: string
    - configurable: true
      name: droplets_container
      type: string
    - configurable: true
      name: packages_container
      type: string
    - configurable: true
      name: resources_container
      type: string
    - configurable: true
      name: account_name
      type: string
    - configurable: true
      name: access_key
      type: secret
    - configurable: true
      default: AzureCloud
      name: environment
      optional: false
      type: string
    - configurable: true
      default: false
      name: enable_bbr
      type: boolean
    - configurable: true
      name: restore_from_account_name
      optional: true
      type: string
    - configurable: true
      name: restore_from_access_key
      optional: true
      type: secret
    select_value: external_azure
  type: selector
- configurable: true
  default: all
  name: system_blobstore_backup_level
  option_templates:
  - name: all
    named_manifests:
    - manifest: |
        true
      name: backup_all
    - manifest: |
        false
      name: backup_skip_droplets
    - manifest: |
        false
      name: backup_skip_droplets_packages
    select_value: all
  - name: skip_droplets
    named_manifests:
    - manifest: |
        false
      name: backup_all
    - manifest: |
        true
      name: backup_skip_droplets
    - manifest: |
        false
      name: backup_skip_droplets_packages
    select_value: skip_droplets
  - name: skip_droplets_packages
    named_manifests:
    - manifest: |
        false
      name: backup_all
    - manifest: |
        false
      name: backup_skip_droplets
    - manifest: |
        true
      name: backup_skip_droplets_packages
    select_value: skip_droplets_packages
  type: selector
- configurable: true
  constraints:
    min: 1
  default: 2
  name: system_blobstore_ccpackage_max_valid_packages_stored
  type: integer
- configurable: true
  constraints:
    min: 1
  default: 2
  name: system_blobstore_ccdroplet_max_staged_droplets_stored
  type: integer
- configurable: true
  default: internal_pxc
  name: system_database
  option_templates:
  - name: internal_pxc
    named_manifests:
    - manifest: |
        true
      name: enable_pxc
    - manifest: |
        connection_validation_timeout: (( .properties.ccdb_connection_validation_timeout.value ))
        read_timeout: (( .properties.ccdb_read_timeout.value ))
        db_scheme: mysql
        address: mysql.service.cf.internal
        port: 3306
        ssl_verify_hostname: true
        ca_cert: '(( .properties.enable_tls_to_internal_pxc.value ? $ops_manager.ca_certificate : .properties.system_database.selected_option.parsed_manifest(null_value) ))'
        roles:
        - tag: admin
          name: ((( cc-db-credentials.username )))
          password: ((( cc-db-credentials.password )))
        databases:
        - tag: cc
          name: (( .properties.ccdb_database_name.value ))
          citext: true
      name: ccdb
    - manifest: |
        type: mysql
        host: mysql.service.cf.internal
        port: 3306
        username: ((( credhub-db-credentials.username )))
        password: ((( credhub-db-credentials.password )))
        database: (( .properties.credhub_database_name.value ))
        require_tls: '(( .properties.enable_tls_to_internal_pxc.value ? true : false ))'
        tls_ca: '(( .properties.enable_tls_to_internal_pxc.value ? $ops_manager.ca_certificate : .properties.system_database.selected_option.parsed_manifest(null_value) ))'
        hostname_verification:
          enabled: true
      name: credhub
    - manifest: |
        host: mysql.service.cf.internal
        port: 3306
        username: ((( notifications-db-credentials.username )))
        password: ((( notifications-db-credentials.password )))
        database: (( .properties.notifications_database_name.value ))
        ca_cert: '(( .properties.enable_tls_to_internal_pxc.value ? $ops_manager.ca_certificate : .properties.system_database.selected_option.parsed_manifest(null_value) ))'
        common_name: mysql.service.cf.internal
        max_open_connections: 10
        tls:
          enable_identity_verification: true
      name: notifications
    - manifest: |
        adapter: mysql
        host: mysql.service.cf.internal
        port: 3306
        username: ((( autoscale-db-credentials.username )))
        password: ((( autoscale-db-credentials.password )))
        name: (( .properties.autoscale_database_name.value ))
        enable_tls: (( .properties.enable_tls_to_internal_pxc.value ))
        ca_cert: '(( .properties.enable_tls_to_internal_pxc.value ? $ops_manager.ca_certificate : .properties.system_database.selected_option.parsed_manifest(null_value) ))'
        skip_ssl_validation: false
      name: autoscaling
    - manifest: |
        address: mysql.service.cf.internal
        port: 3306
        username: ((( app-usage-db-credentials.username )))
        password: ((( app-usage-db-credentials.password )))
        name: (( .properties.app_usage_service_database_name.value ))
        ca_cert: '(( .properties.enable_tls_to_internal_pxc.value ? $ops_manager.ca_certificate : .properties.system_database.selected_option.parsed_manifest(null_value) ))'
        verify_ssl: '(( .properties.enable_tls_to_internal_pxc.value ? true : false ))'
      name: push-app-usage-service
    - manifest: |
        address: mysql.service.cf.internal
        port: 3306
        username: ((( app-usage-db-credentials.username )))
        password: ((( app-usage-db-credentials.password )))
        name: (( .properties.app_usage_service_database_name.value ))
        ca_cert: '(( .properties.enable_tls_to_internal_pxc.value ? $ops_manager.ca_certificate : .properties.system_database.selected_option.parsed_manifest(null_value) ))'
        skip_host_verify: false
      name: bbr-usage-servicedb
    - manifest: |
        db_host: mysql.service.cf.internal
        db_port: 3306
        db_username: ((( diego-db-credentials.username )))
        db_password: ((( diego-db-credentials.password )))
        db_schema: (( .properties.diego_database_name.value ))
        max_open_connections: (( .properties.diego_database_max_open_connections.value ))
        require_ssl: (( .properties.enable_tls_to_internal_pxc.value ))
        ca_cert: '(( .properties.enable_tls_to_internal_pxc.value ? $ops_manager.ca_certificate : .properties.system_database.selected_option.parsed_manifest(null_value) ))'
      name: diegodb
    - manifest: |
        db_host: mysql.service.cf.internal
        db_port: 3306
        db_username: ((( locket-db-credentials.username )))
        db_password: ((( locket-db-credentials.password )))
        db_schema: (( .properties.locket_database_name.value ))
        require_ssl: (( .properties.enable_tls_to_internal_pxc.value ))
        ca_cert: '(( .properties.enable_tls_to_internal_pxc.value ? $ops_manager.ca_certificate : .properties.system_database.selected_option.parsed_manifest(null_value) ))'
      name: locketdb
    - manifest: |
        true
      name: diego-enable-identity-verification
    - manifest: |
        type: mysql
        host: mysql.service.cf.internal
        port: 3306
        username: ((( routing-db-credentials.username )))
        password: ((( routing-db-credentials.password )))
        schema: (( .properties.routing_database_name.value ))
        ca_cert: '(( .properties.enable_tls_to_internal_pxc.value ? $ops_manager.ca_certificate : .properties.system_database.selected_option.parsed_manifest(null_value) ))'
        skip_hostname_validation: false
      name: routingdb
    - manifest: |
        type: mysql
        host: mysql.service.cf.internal
        port: 3306
        username: ((( silk-db-credentials.username )))
        password: ((( silk-db-credentials.password )))
        name: (( .properties.silk_database_name.value ))
        connect_timeout_seconds: (( .properties.cf_networking_database_connection_timeout.value ))
        require_ssl: '(( .properties.enable_tls_to_internal_pxc.value ? true : false ))'
        ca_cert: '(( .properties.enable_tls_to_internal_pxc.value ? $ops_manager.ca_certificate : .properties.system_database.selected_option.parsed_manifest(null_value) ))'
        skip_hostname_validation: false
      name: silkdb
    - manifest: |
        type: mysql
        host: mysql.service.cf.internal
        port: 3306
        username: ((( network-policy-server-db-credentials.username )))
        password: ((( network-policy-server-db-credentials.password )))
        name: (( .properties.networkpolicyserver_database_name.value ))
        connect_timeout_seconds: (( .properties.cf_networking_database_connection_timeout.value ))
        require_ssl: '(( .properties.enable_tls_to_internal_pxc.value ? true : false ))'
        ca_cert: '(( .properties.enable_tls_to_internal_pxc.value ? $ops_manager.ca_certificate : .properties.system_database.selected_option.parsed_manifest(null_value) ))'
        skip_hostname_validation: false
      name: networkpolicyserverdb
    - manifest: |
        db_scheme: mysql
        tls: '(( .properties.enable_tls_to_internal_pxc.value ? "enabled" : "disabled" ))'
        tls_protocols: TLSv1.2
        address: mysql.service.cf.internal
        port: 3306
        roles:
        - tag: admin
          name: ((( uaa-db-credentials.username )))
          password: ((( uaa-db-credentials.password )))
        databases:
        - tag: uaa
          name: (( .properties.uaa_database_name.value ))
      name: uaadb
    - manifest: |
        - (( $ops_manager.ca_certificate ))
      name: uaadb_certs
    - manifest: |
        null
      name: null_value
    select_value: internal_pxc
  - name: external
    named_manifests:
    - manifest: |
        false
      name: enable_pxc
    - manifest: |
        connection_validation_timeout: (( .properties.ccdb_connection_validation_timeout.value ))
        read_timeout: (( .properties.ccdb_read_timeout.value ))
        db_scheme: "mysql"
        address: (( .properties.system_database.external.host.value ))
        port: (( .properties.system_database.external.port.value ))
        ssl_verify_hostname: (( .properties.system_database.external.validate_hostname.value ))
        ca_cert: (( .properties.system_database.external.ca_cert.value ))
        roles:
        - tag: admin
          name: (( .properties.system_database.external.ccdb_username.value ))
          password: (( .properties.system_database.external.ccdb_password.value ))
        databases:
        - tag: cc
          name: (( .properties.ccdb_database_name.value ))
      name: ccdb
    - manifest: |
        type: mysql
        host: (( .properties.system_database.external.host.value ))
        port: (( .properties.system_database.external.port.value ))
        username: (( .properties.system_database.external.credhub_username.value ))
        password: (( .properties.system_database.external.credhub_password.value ))
        database: (( .properties.credhub_database_name.value ))
        require_tls: '(( .properties.system_database.external.ca_cert.value ? true : false ))'
        tls_ca: (( .properties.system_database.external.ca_cert.value ))
        hostname_verification:
          enabled: (( .properties.system_database.external.validate_hostname.value ))
      name: credhub
    - manifest: |
        host: (( .properties.system_database.external.host.value ))
        port: (( .properties.system_database.external.port.value ))
        username: (( .properties.system_database.external.notifications_username.value ))
        password: (( .properties.system_database.external.notifications_password.value ))
        database: (( .properties.notifications_database_name.value ))
        ca_cert: (( .properties.system_database.external.ca_cert.value ))
        common_name: (( .properties.system_database.external.host.value ))
        max_open_connections: 10
        tls:
          enable_identity_verification: (( .properties.system_database.external.validate_hostname.value ))
      name: notifications
    - manifest: |
        adapter: mysql
        host: (( .properties.system_database.external.host.value ))
        port: (( .properties.system_database.external.port.value ))
        username: (( .properties.system_database.external.autoscale_username.value ))
        password: (( .properties.system_database.external.autoscale_password.value ))
        name: (( .properties.autoscale_database_name.value ))
        enable_tls: '(( .properties.system_database.external.ca_cert.value ? true : false ))'
        ca_cert: (( .properties.system_database.external.ca_cert.value ))
        skip_ssl_validation: '(( .properties.system_database.external.validate_hostname.value ? false : true ))'
      name: autoscaling
    - manifest: |
        address: (( .properties.system_database.external.host.value ))
        port: (( .properties.system_database.external.port.value ))
        username: (( .properties.system_database.external.app_usage_service_username.value ))
        password: (( .properties.system_database.external.app_usage_service_password.value ))
        name: (( .properties.app_usage_service_database_name.value ))
        ca_cert: (( .properties.system_database.external.ca_cert.value ))
        verify_ssl: '(( .properties.system_database.external.validate_hostname.value ? true : false ))'
      name: push-app-usage-service
    - manifest: |
        address: (( .properties.system_database.external.host.value ))
        port: (( .properties.system_database.external.port.value ))
        username: (( .properties.system_database.external.app_usage_service_username.value ))
        password: (( .properties.system_database.external.app_usage_service_password.value ))
        name: (( .properties.app_usage_service_database_name.value ))
        ca_cert: (( .properties.system_database.external.ca_cert.value ))
        skip_host_verify: '(( .properties.system_database.external.validate_hostname.value ? false : true ))'
      name: bbr-usage-servicedb
    - manifest: |
        db_host: (( .properties.system_database.external.host.value ))
        db_port: (( .properties.system_database.external.port.value ))
        db_username: (( .properties.system_database.external.diego_username.value ))
        db_password: (( .properties.system_database.external.diego_password.value ))
        db_schema: (( .properties.diego_database_name.value ))
        max_open_connections: (( .properties.diego_database_max_open_connections.value ))
        require_ssl: '(( .properties.system_database.external.ca_cert.value ? true : false ))'
        ca_cert: (( .properties.system_database.external.ca_cert.value ))
      name: diegodb
    - manifest: |
        db_host: (( .properties.system_database.external.host.value ))
        db_port: (( .properties.system_database.external.port.value ))
        db_username: (( .properties.system_database.external.locket_username.value ))
        db_password: (( .properties.system_database.external.locket_password.value ))
        db_schema: (( .properties.locket_database_name.value ))
        require_ssl: '(( .properties.system_database.external.ca_cert.value ? true : false ))'
        ca_cert: (( .properties.system_database.external.ca_cert.value ))
      name: locketdb
    - manifest: |
        (( .properties.system_database.external.validate_hostname.value ))
      name: diego-enable-identity-verification
    - manifest: |
        type: mysql
        host: (( .properties.system_database.external.host.value ))
        port: (( .properties.system_database.external.port.value ))
        username: (( .properties.system_database.external.routing_username.value ))
        password: (( .properties.system_database.external.routing_password.value ))
        schema: (( .properties.routing_database_name.value ))
        ca_cert: (( .properties.system_database.external.ca_cert.value ))
        skip_hostname_validation: '(( .properties.system_database.external.validate_hostname.value ? false : true ))'
      name: routingdb
    - manifest: |
        type: mysql
        host: (( .properties.system_database.external.host.value ))
        port: (( .properties.system_database.external.port.value ))
        username: (( .properties.system_database.external.silk_username.value ))
        password: (( .properties.system_database.external.silk_password.value ))
        name: (( .properties.silk_database_name.value ))
        connect_timeout_seconds: (( .properties.cf_networking_database_connection_timeout.value ))
        require_ssl: '(( .properties.system_database.external.ca_cert.value ? true : false ))'
        ca_cert: (( .properties.system_database.external.ca_cert.value ))
        skip_hostname_validation: '(( .properties.system_database.external.validate_hostname.value ? false : true ))'
      name: silkdb
    - manifest: |
        type: mysql
        host: (( .properties.system_database.external.host.value ))
        port: (( .properties.system_database.external.port.value ))
        username: (( .properties.system_database.external.networkpolicyserver_username.value ))
        password: (( .properties.system_database.external.networkpolicyserver_password.value ))
        name: (( .properties.networkpolicyserver_database_name.value ))
        connect_timeout_seconds: (( .properties.cf_networking_database_connection_timeout.value ))
        require_ssl: '(( .properties.system_database.external.ca_cert.value ? true : false ))'
        ca_cert: (( .properties.system_database.external.ca_cert.value ))
        skip_hostname_validation: '(( .properties.system_database.external.validate_hostname.value ? false : true ))'
      name: networkpolicyserverdb
    - manifest: |
        db_scheme: mysql
        tls: '(( .properties.system_database.external.ca_cert.value ? .properties.system_database.selected_option.parsed_manifest(uaadb_tls_validation) : "disabled" ))'
        tls_protocols: TLSv1.2
        address: (( .properties.system_database.external.host.value ))
        port: (( .properties.system_database.external.port.value ))
        roles:
        - tag: admin
          name: (( .properties.system_database.external.uaa_username.value ))
          password: (( .properties.system_database.external.uaa_password.value ))
        databases:
        - tag: uaa
          name: (( .properties.uaa_database_name.value ))
      name: uaadb
    - manifest: |
        '(( .properties.system_database.external.validate_hostname.value ? "enabled" : "enabled_skip_hostname_validation" ))'
      name: uaadb_tls_validation
    - manifest: |
        - (( $ops_manager.ca_certificate ))
        - '(( .properties.system_database.external.ca_cert.value ? .properties.system_database.external.ca_cert.value : "" ))'
      name: uaadb_certs
    property_blueprints:
    - configurable: true
      name: host
      type: string
    - configurable: true
      default: true
      name: validate_hostname
      type: boolean
    - configurable: true
      name: port
      type: port
    - configurable: true
      name: ca_cert
      optional: true
      type: text
    - configurable: true
      name: account_username
      type: string
    - configurable: true
      name: account_password
      type: secret
    - configurable: true
      name: app_usage_service_username
      type: string
    - configurable: true
      name: app_usage_service_password
      type: secret
    - configurable: true
      name: autoscale_username
      type: string
    - configurable: true
      name: autoscale_password
      type: secret
    - configurable: true
      name: ccdb_username
      type: string
    - configurable: true
      name: ccdb_password
      type: secret
    - configurable: true
      name: credhub_username
      optional: true
      type: string
    - configurable: true
      name: credhub_password
      optional: true
      type: secret
    - configurable: true
      name: diego_username
      type: string
    - configurable: true
      name: diego_password
      type: secret
    - configurable: true
      name: locket_username
      type: string
    - configurable: true
      name: locket_password
      type: secret
    - configurable: true
      name: networkpolicyserver_username
      type: string
    - configurable: true
      name: networkpolicyserver_password
      type: secret
    - configurable: true
      name: notifications_username
      type: string
    - configurable: true
      name: notifications_password
      type: secret
    - configurable: true
      name: routing_username
      type: string
    - configurable: true
      name: routing_password
      type: secret
    - configurable: true
      name: silk_username
      type: string
    - configurable: true
      name: silk_password
      type: secret
    - configurable: true
      name: uaa_username
      optional: true
      type: string
    - configurable: true
      name: uaa_password
      optional: true
      type: secret
    select_value: external
  type: selector
- configurable: false
  default: only-option
  name: system_logging
  option_templates:
  - name: doesnt-matter
    named_manifests:
    - manifest: |
        "(( .properties.syslog_host.value ? .properties.system_logging.selected_option.parsed_manifest(syslog_enabled) : .properties.system_logging.selected_option.parsed_manifest(syslog_disabled) ))"
      name: syslog
    - manifest: |
        address: (( .properties.syslog_host.value ))
        port: (( .properties.syslog_port.value ))
        transport: (( .properties.syslog_protocol.value ))
        tls_enabled: (( .properties.syslog_tls.selected_option.parsed_manifest(tls_enabled) ))
        ca_cert: (( .properties.syslog_tls.selected_option.parsed_manifest(ca_cert) ))
        permitted_peer: (( .properties.syslog_tls.selected_option.parsed_manifest(permitted_peer) ))
        use_tcp_for_file_forwarding_local_transport: (( .properties.syslog_use_tcp_for_file_forwarding_local_transport.value ))
        custom_rule: |
          (( .properties.syslog_rule.value ))
          if ($programname startswith "vcap.") then stop
          (( .properties.syslog_drop_debug.value ? 'if ($msg contains "DEBUG") then stop' : "" ))
          (( .properties.container_networking_interface_plugin.silk.enable_log_traffic.value ? .properties.system_logging.selected_option.parsed_manifest(iptables_logging_enabled_part_1) : .properties.system_logging.selected_option.parsed_manifest(iptables_logging_disabled) ))
          (( .properties.container_networking_interface_plugin.silk.enable_log_traffic.value ? .properties.system_logging.selected_option.parsed_manifest(iptables_logging_enabled_part_2) : .properties.system_logging.selected_option.parsed_manifest(iptables_logging_disabled) ))
      name: syslog_enabled
    - manifest: |
        if $programname == 'kernel' and ($msg contains "DENY_" or $msg contains "OK_") then -/var/log/kern.log
      name: iptables_logging_enabled_part_1
    - manifest: |
        "&stop"
      name: iptables_logging_enabled_part_2
    - manifest: |
        ""
      name: iptables_logging_disabled
    - manifest: |
        migration:
          disabled: true
      name: syslog_disabled
    - manifest: |
        "(( .properties.syslog_host.value ? .properties.system_logging.selected_option.parsed_manifest(syslog_aggregator_enabled) : .properties.system_logging.selected_option.parsed_manifest(syslog_aggregator_disabled) ))"
      name: syslog_aggregator
    - manifest: |
        address: (( .properties.syslog_host.value ))
        port: (( .properties.syslog_port.value ))
        transport: (( .properties.syslog_protocol.value ))
      name: syslog_aggregator_enabled
    - manifest: |
        {}
      name: syslog_aggregator_disabled
    - manifest: |
        "(( .properties.syslog_host.value ? .properties.system_logging.selected_option.parsed_manifest(syslog_url_enabled) : .properties.system_logging.selected_option.parsed_manifest(syslog_url_disabled) ))"
      name: syslog_url
    - manifest: (( .properties.syslog_protocol.value ))://(( .properties.syslog_host.value
        )):(( .properties.syslog_port.value ))
      name: syslog_url_enabled
    - manifest: |
        ""
      name: syslog_url_disabled
    select_value: only-option
  type: selector
- configurable: true
  default: disable
  name: tcp_routing
  option_templates:
  - name: disable
    named_manifests:
    - manifest: |
        []
      name: default_router_group
    - manifest: |
        (( .properties.tcp_routing.enable.request_timeout_in_seconds.value ))
      name: tcp_router_request_timeout_in_seconds
    select_value: disable
  - name: enable
    named_manifests:
    - manifest: |
        - name: default-tcp
          reservable_ports: (( .properties.tcp_routing.enable.reservable_ports.value ))
          type: tcp
      name: default_router_group
    - manifest: |
        (( .properties.tcp_routing.enable.request_timeout_in_seconds.value ))
      name: tcp_router_request_timeout_in_seconds
    property_blueprints:
    - configurable: true
      name: reservable_ports
      placeholder: 'e.g: 1024-10000,65535'
      type: string
    - configurable: true
      constraints:
        min: 0
      default: 300
      name: request_timeout_in_seconds
      type: integer
    select_value: enable
  type: selector
- configurable: false
  default: SRT
  name: tile_name
  type: string
- configurable: false
  name: tps_client_cert
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - doppler.service.cf.internal
  name: trafficcontroller_tls_cert
  type: rsa_cert_credentials
- configurable: true
  default: internal
  name: uaa
  option_templates:
  - name: internal
    named_manifests:
    - manifest: ""
      name: saml_provider
    - manifest: |
        true
      name: self_service_links_enabled
    - manifest: |
        http://login.(( .cloud_controller.system_domain.value ))
      name: default_saml_entity_id
    property_blueprints:
    - configurable: true
      default: 0
      name: password_min_length
      type: integer
    - configurable: true
      default: 0
      name: password_min_uppercase
      type: integer
    - configurable: true
      default: 0
      name: password_min_lowercase
      type: integer
    - configurable: true
      default: 0
      name: password_min_numeric
      type: integer
    - configurable: true
      default: 0
      name: password_min_special
      type: integer
    - configurable: true
      default: 0
      name: password_expires_after_months
      type: integer
    - configurable: true
      default: 5
      name: password_max_retry
      type: integer
    select_value: internal
  - name: saml
    named_manifests:
    - manifest: |
        (( .properties.uaa.saml.sso_name.value )):
          metadataTrustCheck: false
          idpMetadata: "(( .properties.uaa.saml.sso_url.value_present? ? .properties.uaa.saml.sso_url.value : .properties.uaa.saml.sso_xml.value ))"
          nameID: (( .properties.uaa.saml.name_id_format.value ))
          showSamlLoginLink: true
          linkText: (( .properties.uaa.saml.display_name.value ))
          emailDomain: (( .properties.uaa.saml.email_domains.parsed_strings ))
          attributeMappings:
            given_name: (( .properties.uaa.saml.first_name_attribute.value ))
            family_name: (( .properties.uaa.saml.last_name_attribute.value ))
            email: (( .properties.uaa.saml.email_attribute.value ))
            external_groups: (( .properties.uaa.saml.external_groups_attribute.value ))
      name: saml_provider
    - manifest: |
        false
      name: self_service_links_enabled
    - manifest: |
        http://login.(( .cloud_controller.system_domain.value ))
      name: default_saml_entity_id
    property_blueprints:
    - configurable: true
      name: sso_name
      type: string
    - configurable: true
      name: display_name
      type: string
    - configurable: true
      name: sso_url
      optional: true
      type: http_url
    - configurable: true
      default: urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress
      name: name_id_format
      optional: false
      options:
      - label: Email Address
        name: urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress
      - label: Unspecified
        name: urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified
      - label: Persistent
        name: urn:oasis:names:tc:SAML:2.0:nameid-format:persistent
      type: dropdown_select
    - configurable: true
      name: sso_xml
      optional: true
      type: text
    - configurable: true
      default: true
      name: sign_auth_requests
      type: boolean
    - configurable: true
      name: require_signed_assertions
      type: boolean
    - configurable: true
      name: email_domains
      optional: true
      type: string_list
    - configurable: true
      name: first_name_attribute
      optional: true
      type: string
    - configurable: true
      name: last_name_attribute
      optional: true
      type: string
    - configurable: true
      name: email_attribute
      optional: true
      type: string
    - configurable: true
      name: external_groups_attribute
      optional: true
      type: string
    - configurable: true
      name: entity_id_override
      optional: true
      type: string
    select_value: saml
  - name: ldap
    named_manifests:
    - manifest: ""
      name: saml_provider
    - manifest: |
        false
      name: self_service_links_enabled
    - manifest: |
        http://login.(( .cloud_controller.system_domain.value ))
      name: default_saml_entity_id
    property_blueprints:
    - configurable: true
      name: url
      type: ldap_url
    - configurable: true
      name: credentials
      type: simple_credentials
    - configurable: true
      name: search_base
      type: string
    - configurable: true
      default: cn={0}
      name: search_filter
      type: string
    - configurable: true
      name: group_search_base
      optional: true
      type: string
    - configurable: true
      constraints:
        max: 10
        min: 1
      default: 1
      name: group_max_search_depth
      optional: true
      type: integer
    - configurable: true
      default: member={0}
      name: group_search_filter
      type: string
    - configurable: true
      name: server_ssl_cert
      optional: true
      type: text
    - configurable: true
      default: mail
      name: mail_attribute_name
      type: string
    - configurable: true
      name: email_domains
      optional: true
      type: string_list
    - configurable: true
      name: first_name_attribute
      optional: true
      type: string
    - configurable: true
      name: last_name_attribute
      optional: true
      type: string
    - configurable: true
      default: follow
      name: ldap_referrals
      optional: false
      options:
      - label: Automatically follow any referrals
        name: follow
      - label: Ignore referrals and return partial result
        name: ignore
      - label: Throw exception for each referral and abort authentication
        name: throw
      type: dropdown_select
    select_value: ldap
  type: selector
- configurable: true
  default: internal_mysql
  name: uaa_database
  option_templates:
  - name: internal_mysql
    named_manifests:
    - manifest: |
        (( .properties.system_database.selected_option.parsed_manifest(uaadb) ))
      name: db_config
    - manifest: |
        (( .properties.system_database.selected_option.parsed_manifest(uaadb_certs) ))
      name: ca_certs
    select_value: internal_mysql
  - name: external
    named_manifests:
    - manifest: |
        db_scheme: mysql
        tls: '(( .properties.uaa_database.external.ca_cert.value ? "enabled_skip_hostname_validation" : "disabled" ))'
        tls_protocols: TLSv1.2
        address: (( .properties.uaa_database.external.host.value ))
        port: (( .properties.uaa_database.external.port.value ))
        roles:
        - tag: admin
          name: (( .properties.uaa_database.external.uaa_username.value ))
          password: (( .properties.uaa_database.external.uaa_password.value ))
        databases:
        - tag: uaa
          name: (( .properties.uaa_database_name.value ))
      name: db_config
    - manifest: |
        - (( $ops_manager.ca_certificate ))
        - '(( .properties.uaa_database.external.ca_cert.value ? .properties.uaa_database.external.ca_cert.value : "" ))'
      name: ca_certs
    property_blueprints:
    - configurable: true
      name: host
      type: string
    - configurable: true
      name: port
      type: port
    - configurable: true
      name: uaa_username
      type: string
    - configurable: true
      name: uaa_password
      type: secret
    - configurable: true
      name: ca_cert
      optional: true
      type: text
    select_value: external
  type: selector
- configurable: false
  default: uaa
  name: uaa_database_name
  type: string
- configurable: true
  default: 28800
  name: uaa_session_cookie_max_age
  type: integer
- configurable: true
  default: 1800
  name: uaa_session_idle_timeout
  type: integer
- configurable: true
  name: router_headers_remove_if_specified
  optional: true
  property_blueprints:
  - configurable: true
    name: name
    type: string
  type: collection
- configurable: true
  default:
  - name: JSESSIONID
  name: router_sticky_session_cookie_names
  named_manifests:
  - manifest: (( current_record.name.value ))
    name: sticky_session_cookie_names
  property_blueprints:
  - configurable: true
    name: name
    type: string
  type: collection
- configurable: false
  default:
    domains:
    - system-metrics
  name: system_metrics_tls_scraper_cert
  type: rsa_cert_credentials
- configurable: true
  default: true
  name: enable_v1_firehose
  type: boolean
- configurable: true
  default: true
  name: enable_v2_firehose
  type: boolean
- configurable: true
  default: false
  name: disable_logs_in_firehose
  type: boolean
- configurable: true
  default: false
  name: enable_log_cache_syslog_ingestion
  type: boolean
- configurable: false
  default:
    domains:
    - syslog-agent
  name: syslog_agent_api_tls
  type: rsa_cert_credentials
- configurable: false
  default:
    domains:
    - binding-cache
  name: binding_cache_api_tls
  type: rsa_cert_credentials
provides_product_versions:
- name: cf
  version: 2.11.0-build.75
rank: 90
releases:
- file: backup-and-restore-sdk-1.9.0-97.0.0.tgz
  name: backup-and-restore-sdk
  sha1: 3a2f40602b0b3b281fa96e1cd77db5ab767d1688
  version: 1.9.0
- file: binary-offline-buildpack-1.0.31-ubuntu-xenial-315.13.tgz
  name: binary-offline-buildpack
  sha1: e485543992ceffa726c272154fe8014610a3d8d1
  version: 1.0.31
- file: bosh-dns-aliases-0.0.3-ubuntu-xenial-170.48.tgz
  name: bosh-dns-aliases
  sha1: 2c5724329c79131f9edf1870599f15acce0c9cf0
  version: 0.0.3
- file: bosh-system-metrics-forwarder-0.0.18-ubuntu-xenial-315.13.tgz
  name: bosh-system-metrics-forwarder
  sha1: fa009eaeb2747e83def77a6d8e04406c6688bcd0
  version: 0.0.18
- file: bpm-1.0.4-ubuntu-xenial-315.13.tgz
  name: bpm
  sha1: 2d4569aa14b02b7ddd3f5802fb968864fb1461f0
  version: 1.0.4
- file: capi-1.80.0-ubuntu-xenial-315.13.tgz
  name: capi
  sha1: d6c18bb1b33c36ec0ab3d5efed8d36851e3ecead
  version: 1.80.0
- file: cf-autoscaling-218-ubuntu-xenial-315.13.tgz
  name: cf-autoscaling
  sha1: 4e7ef1f7c784ef757d24b4a4bb68af8a2af33628
  version: "218"
- file: cf-cli-1.5.0-97.0.0.tgz
  name: cf-cli
  sha1: ac73223a4a192999043a7658658bd74a5dc839cc
  version: 1.5.0
- file: cf-networking-2.22.0-ubuntu-xenial-315.13.tgz
  name: cf-networking
  sha1: ae98aae39e0d91a794457494e409359ebce37a7b
  version: 2.22.0
- file: smoke-tests-UNKNOWN.tgz
  name: smoke-tests
  sha1: dead8e1ea5e00dead8e1ea5ed00ead8e1ea5e000
  version: UNKNOWN
- file: cflinuxfs3-0.82.0-ubuntu-xenial-315.13.tgz
  name: cflinuxfs3
  sha1: a9e2c496d92fb39a388006e889ae93495646dc18
  version: 0.82.0
- file: credhub-2.3.0-ubuntu-xenial-315.13.tgz
  name: credhub
  sha1: aa31f8cc478973f2d7a65446b55a59dead809407
  version: 2.3.0
- file: diego-2.30.0-ubuntu-xenial-315.13.tgz
  name: diego
  sha1: 7ec000820c7c72efad390787d5bffd3fab79334c
  version: 2.30.0
- file: dotnet-core-offline-buildpack-2.2.9-ubuntu-xenial-315.13.tgz
  name: dotnet-core-offline-buildpack
  sha1: acdd892387379d76ee495b7597adc286f6396d6c
  version: 2.2.9
- file: garden-runc-1.19.1-ubuntu-xenial-315.13.tgz
  name: garden-runc
  sha1: 383cf4476bc05e7a938c00f23a076efd03131d9b
  version: 1.19.1
- file: go-offline-buildpack-1.8.38-ubuntu-xenial-315.13.tgz
  name: go-offline-buildpack
  sha1: aa1d87bbf408da97e53d9aa3b504fca4613c08f5
  version: 1.8.38
- file: haproxy-9.5.0-ubuntu-xenial-315.13.tgz
  name: haproxy
  sha1: 8343add0dea3f918167068482d72a5dd20b3b1e0
  version: 9.5.0
- file: java-offline-buildpack-4.18-ubuntu-xenial-315.13.tgz
  name: java-offline-buildpack
  sha1: ca35529677150a7fe209dc507e9a9aa00441dda5
  version: "4.18"
- file: log-cache-release-1.1.1.tgz
  name: log-cache
  sha1: baa2a99bfd713f358c170fb7deacefe21a659b42
  version: 1.1.1
- file: loggregator-103.3-ubuntu-xenial-315.13.tgz
  name: loggregator
  sha1: 69ec7fd2e3149b5d5b4d0da0a4d38a3c1ff8161c
  version: "103.3"
- file: loggregator-agent-3.12-ubuntu-xenial-315.13.tgz
  name: loggregator-agent
  sha1: fe46009f977cc48665b7aa975c69ab5f8efefa28
  version: "3.12"
- file: mapfs-1.1.5-ubuntu-xenial-315.13.tgz
  name: mapfs
  sha1: 04171da869bda1dc19f8077b0aea75c2c7692f54
  version: 1.1.5
- file: metric-registrar-1.0.4-ubuntu-xenial-315.13.tgz
  name: metric-registrar
  sha1: 3e3d55544498a3251cc20cea3e7f8e8fea09b31a
  version: 1.0.4
- file: metrics-discovery-UNKNOWN.tgz
  name: metrics-discovery
  sha1: dead8e1ea5e00dead8e1ea5ed00ead8e1ea5e000
  version: UNKNOWN
- file: mysql-monitoring-9.3.0-ubuntu-xenial-315.13.tgz
  name: mysql-monitoring
  sha1: 6e061d87bceaea581c458375761cc0d45ecaa20b
  version: 9.3.0
- file: nats-26-ubuntu-xenial-315.13.tgz
  name: nats
  sha1: 6ab02c630f73959c6338aa1bbcb8ac3e2ec23dfb
  version: "26"
- file: nfs-volume-2.0.3-ubuntu-xenial-315.13.tgz
  name: nfs-volume
  sha1: ab532581b728a40927787aa934d5cc7cc6d01617
  version: 2.0.3
- file: nginx-offline-buildpack.tgz
  name: nginx-offline-buildpack
  sha1: 889e034c169aa231316ee08ed0ad7079cfdd5bd0
  version: 4.3.57
- file: nodejs-offline-buildpack-1.6.48-ubuntu-xenial-315.13.tgz
  name: nodejs-offline-buildpack
  sha1: d3349e57863bdde60719d9f7040fdcd9eaf7ed7b
  version: 1.6.48
- file: notifications-57-ubuntu-xenial-315.13.tgz
  name: notifications
  sha1: aed6d4757fb6f0f576c78907c586241e58f5cd32
  version: "57"
- file: notifications-ui-36-ubuntu-xenial-315.13.tgz
  name: notifications-ui
  sha1: d9326f65ecb56e25001adef6693cd1bf6422b673
  version: "36"
- file: php-offline-buildpack-4.3.74-ubuntu-xenial-315.13.tgz
  name: php-offline-buildpack
  sha1: 624cf3e7d4e71c1ff505f9d61bf31daef47f1bc5
  version: 4.3.74
- file: push-apps-manager-release-669.0.2-ubuntu-xenial-315.13.tgz
  name: push-apps-manager-release
  sha1: c342a9309a5af799b0b209a7ec4fb69cbe83a4c2
  version: 669.0.2
- file: push-usage-service-release-670.0.5-ubuntu-xenial-315.13.tgz
  name: push-usage-service-release
  sha1: b7cb39b15091bc8d9403f009f9b2325521e49b9d
  version: 670.0.5
- file: r-offline-buildpack.tgz
  name: r-offline-buildpack
  sha1: fe6319b81891adbfafc327b8540eae117e0a1a90
  version: 4.3.57
- file: python-offline-buildpack-1.6.30-ubuntu-xenial-315.13.tgz
  name: python-offline-buildpack
  sha1: 974c128f173f3e661b7bb2090d3d1a6b46f9707d
  version: 1.6.30
- file: pxc-0.16.0-ubuntu-xenial-315.13.tgz
  name: pxc
  sha1: 6ce5d08840f1ab1fcb246cae061cc076f2a3e435
  version: 0.16.0
- file: routing-0.188.0-ubuntu-xenial-315.13.tgz
  name: routing
  sha1: 474589296f6533f6828ec263920317926611b294
  version: 0.188.0
- file: ruby-offline-buildpack-1.7.36-ubuntu-xenial-315.13.tgz
  name: ruby-offline-buildpack
  sha1: d00f809cc393b3189d25438acb9f4c735ed13dba
  version: 1.7.36
- file: silk-2.22.0-ubuntu-xenial-315.13.tgz
  name: silk
  sha1: d405fa6d32c6c34b7951b37d9b41809d30422134
  version: 2.22.0
- file: smb-volume-1.0.0-ubuntu-xenial-315.13.tgz
  name: smb-volume
  sha1: 67d1d458e58c4c837c80d2144f685bfe49bc51f9
  version: 1.0.0
- file: staticfile-offline-buildpack-1.4.41-ubuntu-xenial-315.13.tgz
  name: staticfile-offline-buildpack
  sha1: c384c850c8d26f888251cd6de6e5c49e619d926c
  version: 1.4.41
- file: statsd-injector-1.3.0-97.0.0.tgz
  name: statsd-injector
  sha1: 1466987f53f5966e7b35db5936d58802c746223a
  version: 1.3.0
- file: syslog-11.4.0-ubuntu-xenial-315.13.tgz
  name: syslog
  sha1: cc162e5834e1f317ec00b5689c9ea9c6f2a863c0
  version: 11.4.0
- file: system-metrics-scraper-UNKNOWN.tgz
  name: system-metrics-scraper
  sha1: dead8e1ea5e00dead8e1ea5ed00ead8e1ea5e000
  version: UNKNOWN
- file: uaa-72.0-ubuntu-xenial-315.13.tgz
  name: uaa
  sha1: 3a890dd2c3ee08a1b40af1df400683f1115da566
  version: "72.0"
- file: istio-2-ubuntu-xenial-315.13.tgz
  name: istio
  sha1: 4479df97907c82276b7011bf9223c67d8fa5ee69
  version: "2"
runtime_configs:
- name: bosh-dns-aliases
  runtime_config: |
    releases:
    - {"file":"bosh-dns-aliases-0.0.3-ubuntu-xenial-170.48.tgz","name":"bosh-dns-aliases","sha1":"2c5724329c79131f9edf1870599f15acce0c9cf0","version":"0.0.3"}
    addons:
    - name: bosh-dns-aliases
      jobs:
      - name: bosh-dns-aliases
        release: bosh-dns-aliases
        properties:
          aliases:
          - domain: auctioneer.service.cf.internal
            targets:
            - query: "q-s4" # all instances, regardless of health (clients retry)
              instance_group: "control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: bbs.service.cf.internal
            targets:
            - query: "q-s4" # all instances, regardless of health (clients retry)
              instance_group: "control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: blobstore.service.cf.internal
            targets:
            - query: "*"
              instance_group: "blobstore"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: cc-uploader.service.cf.internal
            targets:
            - query: "*"
              instance_group: "control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: cell.service.cf.internal
            targets:
            - query: "*"
              instance_group: "compute"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
            - query: "*"
              instance_group: "isolated_diego_cell*"
              deployment: "p-isolation-segment-*"
              network: "*"
              domain: bosh
            - query: "*"
              instance_group: "windows_diego_cell*"
              deployment: "p-windows-runtime-*"
              network: "*"
              domain: bosh
            - query: "*"
              instance_group: "windows_diego_cell*"
              deployment: "pas-windows-*"
              network: "*"
              domain: bosh
          - domain: _.cell.service.cf.internal
            targets:
            - query: "_"
              instance_group: "compute"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
            - query: "_"
              instance_group: "isolated_diego_cell*"
              deployment: "p-isolation-segment-*"
              network: "*"
              domain: bosh
            - query: "_"
              instance_group: "windows_diego_cell*"
              deployment: "p-windows-runtime-*"
              network: "*"
              domain: bosh
            - query: "_"
              instance_group: "windows_diego_cell*"
              deployment: "pas-windows-*"
              network: "*"
              domain: bosh
          - domain: cloud-controller-ng.service.cf.internal
            targets:
            - query: "*"
              instance_group: "control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: copilot.service.cf.internal
            targets:
            - query: "*"
              instance_group: "istio_control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: credhub.service.cf.internal
            targets:
            - query: "*"
              instance_group: "control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: doppler.service.cf.internal
            targets:
            - query: "*"
              instance_group: "control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: file-server.service.cf.internal
            targets:
            - query: "*"
              instance_group: "control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: locket.service.cf.internal
            targets:
            - query: "*"
              instance_group: "control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: loggregator-trafficcontroller.service.cf.internal
            targets:
            - query: "*"
              instance_group: "control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: mysql.service.cf.internal
            targets:
            - query: "*"
              instance_group: "database"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: nats.service.cf.internal
            targets:
            - query: "*"
              instance_group: "database"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: _.nats.service.cf.internal
            targets:
            - query: "_"
              instance_group: "database"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: network-policy-server.service.cf.internal
            targets:
            - query: "*"
              instance_group: "control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: pilot.service.cf.internal
            targets:
            - query: "*"
              instance_group: "istio_control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: reverse-log-proxy.service.cf.internal
            targets:
            - query: "*"
              instance_group: "control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: routing-api.service.cf.internal
            targets:
            - query: "*"
              instance_group: "control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: silk-controller.service.cf.internal
            targets:
            - query: "*"
              instance_group: "control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: ssh-proxy.service.cf.internal
            targets:
            - query: "*"
              instance_group: "control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
          - domain: uaa.service.cf.internal
            targets:
            - query: "*"
              instance_group: "control"
              deployment: (( ..cf.deployment_name ))
              network: (( ..cf.network_name ))
              domain: bosh
serial: false
stemcell_criteria:
  os: ubuntu-xenial
  version: "621.75"
variables:
- name: /cf/diego-instance-identity-root-ca-2-6
  options:
    common_name: Diego Instance Identity Root CA
    duration: 1095
    is_ca: true
  type: certificate
- name: diego-instance-identity-intermediate-ca-2-7
  options:
    ca: /cf/diego-instance-identity-root-ca-2-6
    common_name: Diego Instance Identity Intermediate CA
    duration: 730
    is_ca: true
    key_usage:
    - key_cert_sign
  type: certificate
- name: /services/tls_leaf
  options:
    ca: /services/tls_ca
    common_name: services-tls-leaf
  type: certificate
- name: app-usage-db-credentials
  options:
    username: app_usage
  type: user
- name: autoscale-db-credentials
  type: user
- name: cc-db-credentials
  type: user
- name: cloud-controller-bulk-api-credentials
  options:
    username: bulk_api
  type: user
- name: cloud-controller-internal-api-user-credentials
  type: user
- name: cloud-controller-staging-upload-credentials
  options:
    username: staging_upload_user
  type: user
- name: credhub-db-credentials
  type: user
- name: deploy-autoscaling-broker-credentials
  type: user
- name: deploy-autoscaling-encryption-key
  type: password
- name: deploy-notifications-encryption-key
  type: password
- name: diego-db-bbs-encryption-passphrase
  type: password
- name: diego-db-credentials
  type: user
- name: locket-db-credentials
  type: user
- name: mysql-admin-credentials
  options:
    username: root
  type: user
- name: mysql-bootstrap-db-credentials
  type: user
- name: mysql-cluster-health-credentials
  options:
    username: cluster-health-logger
  type: user
- name: mysql-diag-agent-db-credentials
  type: user
- name: mysql-galera-sidecar-credentials
  options:
    username: galera-healthcheck
  type: user
- name: mysql-metrics-db-credentials
  type: user
- name: mysql-monitor-db-credentials
  type: user
- name: mysql-proxy-dashboard-credentials
  options:
    username: admin
  type: user
- name: nats-credentials
  options:
    username: nats
  type: user
- name: network-policy-server-db-credentials
  type: user
- name: nfs-broker-push-db-credentials
  type: user
- name: nfs-server-blobstore-secret
  type: password
- name: notifications-db-credentials
  type: user
- name: push-usage-service-secret-token
  type: password
- name: router-route-services-secret
  type: password
- name: router-status-credentials
  options:
    username: router_status
  type: user
- name: routing-db-credentials
  type: user
- name: silk-db-credentials
  type: user
- name: smb-broker-credentials
  type: user
- name: uaa-db-credentials
  type: user
- name: uaa-default-encryption-passphrase
  type: password
- name: webdav-blobstore-credentials
  options:
    username: blobstore
  type: user
