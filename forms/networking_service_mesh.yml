---
name: networking_service_mesh
label: Networking - Service Mesh
description: |
  Service Mesh is currently only enabled for Ingress and not for inter
  mesh traffic.

property_inputs:
  - reference: .properties.istio
    label: Enable Service Mesh (Beta)
    description: |
      Enable this for deployments with 20,000 or fewer routes and applications
      in a single deployment. This is a beta feature and has been tested
      successfully to scale to 20,000 routes and applications per deployment.
    selector_property_inputs:
      - reference: .properties.istio.disable
        label: |
          Disable
      - reference: .properties.istio.enable
        label: |
          Enable

  - reference: .properties.istio_frontend_tls_keypairs
    label: Frontend TLS Keypairs
    description: |
      Array of private keys and certificates used for TLS handshakes with
      downstream clients. Each element in the array is an object containing
      fields 'private_key' and 'cert_chain', each of which supports a PEM block.
    property_inputs:
      - reference: private_key
        label: Private Key
      - reference: cert_chain
        label: Certificate Chain
