---
name: ha_proxy
label: HAProxy
resource_label: HAProxy
description: |
  HAProxy is the default load balancer for SSL termination. Alternatively, you
  can use your own load balancer and forward traffic to the Pivotal Application
  Service router IP. Self signed certificates will function properly.
templates:
- $( job "bpm" )
- $( job "haproxy" )
- $( job "loggregator_agent" )
- $( job "loggr-syslog-agent" )
- $( job "metrics-discovery-registrar" )
- $( job "metrics-agent" )
- $( job "loggr-forwarder-agent" )
- $( job "prom_scraper" )
- $( job "syslog_forwarder" )
resource_definitions:
- name: ram
  type: integer
  label: RAM
  configurable: true
  default: 1024
  constraints:
    min: 1024
- name: ephemeral_disk
  type: integer
  label: Ephemeral Disk
  configurable: true
  default: 2048
  constraints:
    min: 2048
- name: persistent_disk
  type: integer
  label: Persistent Disk
  configurable: false
  default: 0
- name: cpu
  type: integer
  label: CPU
  configurable: true
  default: 1
  constraints:
    min: 1
max_in_flight: 1
single_az_only: false
instance_definition:
  name: instances
  type: integer
  label: Instances
  configurable: true
  default: 0
  constraints:
    min: 0
property_blueprints:
  - name: static_ips
    type: ip_ranges
    configurable: true
    optional: true

  - name: skip_cert_verify
    type: boolean
    configurable: true

  - name: internal_only_domains
    type: string_list
    configurable: true
    optional: true

  - name: trusted_domain_cidrs
    type: string
    configurable: true
    optional: true
