---
name: push-usage-service
label: Usage Service Errand
resource_label: Usage Service Errand
description: Pushes the Pivotal Usage Service application to your Elastic Runtime installation. Pivotal Apps Manager depends on this application.
templates:
- push-usage-service
- cflinuxfs2-rootfs-setup
- nodejs-buildpack
- ruby-buildpack
resource_definitions:
- name: ram
  type: integer
  label: RAM
  configurable: true
  default: 1_024
  constraints:
    min: 1_024

- name: ephemeral_disk
  type: integer
  label: Ephemeral Disk
  configurable: true
  default: 2_048
  constraints:
    min: 2_048

- name: persistent_disk
  type: integer
  label: Persistent Disk
  configurable: false
  default: 0

- name: cpu
  type: integer
  label: CPU
  configurable: true
  default: 1
  constraints:
    min: 1

static_ip: 0
dynamic_ip: 1
max_in_flight: 1
single_az_only: false
errand: true
run_post_deploy_errand_default: when-changed

instance_definition:
  name: instances
  type: integer
  label: Instances
  configurable: false
  default: 1
  constraints:
    min: 0

property_blueprints:
  - name: secret_token
    type: secret
    configurable: false
