---
name: windows_diego_cell
label: Windows Diego Cell
resource_label: Windows Diego Cell
templates:
  - consul_agent_windows
  - rep_windows
  - route_emitter_windows
  - event_log_forwarder
  - garden_windows
  - winc
  - winc_image
  - winc_network
  - metron_agent_windows
  - enable_rdp
  - enable_ssh
  - set_kms_host
  - set_password
  - randomize_password
  - windows2016fs
  - install_hwc_buildpack

resource_definitions:
  - name: ram
    type: integer
    label: RAM
    configurable: true
    default: 16_384
    constraints:
      min: 2_048

  - name: ephemeral_disk
    type: integer
    label: Ephemeral Disk
    configurable: true
    default: 65_536
    constraints:
      min: 4_096

  - name: persistent_disk
    type: integer
    label: Persistent Disk
    configurable: false
    default: 0

  - name: cpu
    type: integer
    label: CPU
    configurable: true
    default: 2
    constraints:
      min: 1
      power_of_two: true

static_ip: 0
dynamic_ip: 1
max_in_flight: "4%"
single_az_only: false

instance_definition:
  name: instances
  type: integer
  label: Instances
  configurable: true
  default: 3
  constraints:
    min: 1

property_blueprints:

# We pass placement tags as a list to CF but don't explain the option to configure multiple tags in the UI
  - name: placement_tags
    type: string_list
    configurable: true
    optional: true

  - name: windows_consul_agent_cert
    type: rsa_cert_credentials
    configurable: false
    default:
      domains:
      - 127.0.0.1
