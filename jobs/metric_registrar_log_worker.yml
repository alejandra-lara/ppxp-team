---
name: metric_registrar_log_worker
release: metric-registrar
manifest: |
  disabled: (( .properties.metric_registrar_disabled.value ))
  health_check_port: 21544
  orchestration_port: 21545
  blacklisted_tags: (( .properties.metric_registrar_blacklisted_tags.parsed_strings ))
  skip_ssl_validation: (( .ha_proxy.skip_cert_verify.value ))
  loggregator:
    tls:
      ca_cert: (( $ops_manager.ca_certificate ))
      agent:
        cert: (( .doppler.metron_tls_cert.cert_pem ))
        key: (( .doppler.metron_tls_cert.private_key_pem ))
  reverse_log_proxy:
    tls:
      cert: (( .properties.metric_registrar_rlp_tls.cert_pem ))
      key: (( .properties.metric_registrar_rlp_tls.private_key_pem ))
  orchestration:
    tls:
      ca: (( $ops_manager.ca_certificate ))
      cert: (( .properties.metric_registrar_worker_tls.cert_pem ))
      key: (( .properties.metric_registrar_worker_tls.private_key_pem ))
