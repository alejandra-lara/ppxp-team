---
- name: route_integrity
  type: selector
  configurable: true
  default: disable
  option_templates:
  - name: disable
    select_value: disable
    named_manifests:
    - name: proxy
      manifest: |
        enabled: false
  - name: tls_verify
    select_value: tls_verify
    named_manifests:
    - name: proxy
      manifest: |
        enabled: true
  - name: mutual_tls_verify
    select_value: mutual_tls_verify
    named_manifests:
    - name: proxy
      manifest: |
        enabled: true
        enable_unproxied_port_mappings: false
        require_and_verify_client_certificates: true
        trusted_ca_certificates:
        - (( $ops_manager.ca_certificate ))
- name: app_log_rate_limiting
  type: selector
  configurable: true
  default: disable
  option_templates:
    - name: enable
      select_value: enable
      named_manifests:
        - name: app_log_rate_limiting_properties
          manifest: |
            (( .properties.app_log_rate_limiting.enable.max_log_lines_per_second.value ))

      property_blueprints:
        - name: max_log_lines_per_second
          type: integer
          configurable: true
          optional: true
          default: 100
          constraints:
            min: 1

    - name: disable
      select_value: disable
      named_manifests:
        - name: app_log_rate_limiting_properties
          manifest: |
            0
