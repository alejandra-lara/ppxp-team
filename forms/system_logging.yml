---
name: system_logging
label: System Logging
description: System Logging
markdown: |
  For help configuring these fields, see
  [Configure System Logging](https://docs.pivotal.io/pivotalcf/2-10/customizing/configure-pas.html#sys-logging)
  in _Configuring TAS for VMs_ in the VMware Tanzu documentation.

property_inputs:
- reference: .properties.syslog_host
  label: Address
  description: The hostname or IP address of the syslog server.

- reference: .properties.syslog_port
  label: Port
  description: The port of the syslog server. The default is 514.

- reference: .properties.syslog_protocol
  label: Transport protocol
  description: Select the transport protocol for forwarding logs.

- reference: .properties.syslog_tls
  label: Encrypt syslog using TLS?
  selector_property_inputs:
  - reference: .properties.syslog_tls.disabled
    label: "No"

  - reference: .properties.syslog_tls.enabled
    label: "Yes"
    property_inputs:
    - reference: .properties.syslog_tls.enabled.tls_permitted_peer
      label: Permitted peer
      description: |
        Either the accepted fingerprint (SHA1) or hostname of your remote
        peer.

    - reference: .properties.syslog_tls.enabled.tls_ca_cert
      label: Destination certificate
      description: |
        Ensures that logs are securely transported to the syslog destination.

- reference: .cloud_controller.security_event_logging_enabled
  label: Enable Cloud Controller security event logging
  description: All requests to Cloud Controller are captured in the syslog.

- reference: .properties.syslog_use_tcp_for_file_forwarding_local_transport
  label: Use TCP for file forwarding local transport

- reference: .properties.syslog_drop_debug
  label: Do not forward debug logs
  description: Prevents large debug logs from being forwarded.

- reference: .properties.syslog_rule
  label: Custom rsyslog configuration
  description: |
    Accepts configuration for rsyslog in the rainerscript syntax.
    Applied prior to the forwarding rule.

- reference: .properties.enable_v1_firehose
  label: Enable V1 Firehose
  description: Logs and metrics flow to the V1 Firehose.

- reference: .properties.enable_v2_firehose
  label: Enable V2 Firehose
  description: |
    Logs and metrics flow to the V2 Firehose. Disabling this requires
    disabling the V1 Firehose.

- reference: .properties.enable_log_cache_syslog_ingestion
  label: Enable Log Cache syslog ingestion
  description: |
    Logs and metrics are ingested through syslog rather than the
    Reverse Log Proxy.

- reference: .properties.syslog_agent_aggregate_drains
  label: Aggregate log and metric drain destinations
  description: |
    A comma-separated list of HTTPS or syslog URLs where all app logs
    and metrics are sent.
  placeholder: |
    https://10.10.10.10,syslog-tls://the-syslog-endpoint.com

- reference: .properties.service_metrics_scraper_scrape_interval
  label: System Metrics Scrape Interval
  description: |
    The interval at which deployed VMs are scraped for system metrics.
  placeholder: 1m
