---
name: route_emitter_windows
release: diego
consumes: |
  nats: {from: nats, deployment: ((  ..cf.deployment_name  )) }
manifest: |
  diego:
    route_emitter:
      local_mode: true
      bbs:
        ca_cert: (( $ops_manager.ca_certificate ))
        client_cert: (( .properties.bbs_client_cert.cert_pem ))
        client_key: (( .properties.bbs_client_cert.private_key_pem ))
  loggregator:
    ca_cert: (( $ops_manager.ca_certificate ))
    cert: (( .properties.loggregator_client_cert.cert_pem ))
    key: (( .properties.loggregator_client_cert.private_key_pem ))
    tls:
      ca_cert: (( $ops_manager.ca_certificate ))
      metron:
        cert: (( .properties.metron_tls_cert.cert_pem ))
        key: (( .properties.metron_tls_cert.private_key_pem ))
    use_v2_api: true
  tcp:
    enabled: true
  uaa:
    ca_cert: (( $ops_manager.ca_certificate ))
    client_name: (( ..cf.uaa.tcp_emitter_credentials.identity ))
    client_secret: (( ..cf.uaa.tcp_emitter_credentials.password ))
