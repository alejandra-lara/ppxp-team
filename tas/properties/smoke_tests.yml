---
- name: cf_dial_timeout_in_seconds
  type: integer
  configurable: true
  optional: true

- name: smoke_tests
  type: selector
  configurable: true
  default: on_demand
  option_templates:
    - name: on_demand
      select_value: on_demand
      named_manifests:
        - name: smoke_tests
          manifest: |
            api: "https://api.(( .cloud_controller.system_domain.value ))"
            user: (( .uaa.run_smoke_tests_credentials.identity ))
            password: (( .uaa.run_smoke_tests_credentials.password ))
            organization: system
            skip_ssl_validation: (( .ha_proxy.skip_cert_verify.value ))
            cf_dial_timeout_in_seconds: (( .properties.cf_dial_timeout_in_seconds.value ))

    - name: specified
      select_value: specified
      named_manifests:
        - name: smoke_tests
          manifest: |
            api: "https://api.(( .cloud_controller.system_domain.value ))"
            user: (( .uaa.run_smoke_tests_credentials.identity ))
            password: (( .uaa.run_smoke_tests_credentials.password ))
            organization: (( .properties.smoke_tests.specified.org_name.value ))
            space: (( .properties.smoke_tests.specified.space_name.value ))
            skip_ssl_validation: (( .ha_proxy.skip_cert_verify.value ))
            cf_dial_timeout_in_seconds: (( .properties.cf_dial_timeout_in_seconds.value ))
      property_blueprints:
        - name: org_name
          type: string
          configurable: true
        - name: space_name
          type: string
          configurable: true
