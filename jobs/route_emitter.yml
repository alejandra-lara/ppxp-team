---
name: route_emitter
release: diego
manifest: |
  diego:
    route_emitter:
      bbs:
        ca_cert: (( $ops_manager.ca_certificate ))
        client_cert: (( .properties.bbs_client_cert.cert_pem ))
        client_key: (( .properties.bbs_client_cert.private_key_pem ))
      local_mode: true
  internal_routes:
    enabled: (( .properties.enable_service_discovery_for_apps.value ))
  loggregator:
    use_v2_api: true
    ca_cert: (( $ops_manager.ca_certificate ))
    cert: (( .properties.loggregator_client_cert.cert_pem ))
    key: (( .properties.loggregator_client_cert.private_key_pem ))
  logging:
    format:
      timestamp: (( .properties.diego_log_timestamp_format.selected_option.parsed_manifest(timestamp_format) ))
  register_direct_instance_routes: (( .properties.container_networking_interface_plugin.selected_option.parsed_manifest(use_container_address) ))
  tcp:
    enabled: true
  uaa:
    ca_cert: (( $ops_manager.ca_certificate ))
    client_name: (( .uaa.tcp_emitter_credentials.identity ))
    client_secret: (( .uaa.tcp_emitter_credentials.password ))
